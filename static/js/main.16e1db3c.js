/*! For license information please see main.16e1db3c.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,S=60114,T=60109,C=60110,N=60112,A=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),E=U("react.fragment"),I=U("react.strict_mode"),S=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){ze=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,s,u){We=!1,He=null,Be.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function $t(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),_n=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function $n(e){Nr(e,0)}function Xn(e){if($(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Jn=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn(Jn)){var t=[];if(Qn(t,Jn,e,Se(e)),e=$n,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Jn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Ot.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case At:u=bn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Zr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,qi=Ai(),Bi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ii(e,t)}function Gi(e,t,n){return e=Hi(e),Si(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Pi,Qi),n}finally{zi=!1}}}var Ji=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=$u(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function qa(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Qr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ja=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Lo,e=n(r,i)}while(ro)}if(Ja.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Yo,Jo,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&zs)&&0===(134217727&qs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,$s=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Bi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,Vs=0,zs=0,qs=0,Bs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=Bi()+500}var Qs,Ys=null,Js=!1,$s=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Ji.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Os&&(qs|=t,4===Fs&&gu(e,Ls));var r=Wi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Si(Pi,Yi)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Su();for(Os===e&&Ls===r||(Gs(),Eu(e,r));;)try{Nu();break}catch(u){Iu(e,u)}if(na(),As.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Fs),0!==(Vs&qs))Eu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Us,Eu(e,0),gu(e,n),mu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,Bi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&qs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Us,Eu(e,0),gu(e,t),mu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,Bi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function _u(){Ms=js.current,li(js)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,Fs=0,Us=null,Bs=qs=zs=0}function Iu(e,t){for(;;){var n=Ds;try{if(na(),Ja.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Su(){var e=As.current;return As.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Su();for(Os===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Ps=n,As.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=Wi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,zr=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(S){if(null===Ys)throw Error(o(330));Vu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Ss(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ss(Ys.alternate,Ys);break;case 4:Ss(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Vu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!zr,qr=zr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var _=Ys.flags;if(36&_&&ys(k,Ys.alternate,Ys),128&_){b=void 0;var E=Ys.ref;if(null!==E){var I=Ys.stateNode;Ys.tag,b=I,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Vu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((_=Ys).sibling=null,_.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,Bi()),Js)throw Js=!1,e=$s,$s=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>Bi()-Hs?Eu(e,0):Bs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),mu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Bu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case S:return(e=Wu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Wu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Wu(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return Yu(n,i,a,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=j,e.lanes=n,e}function Ju(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),Bo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Vo(e,t,i,a=$i(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Bi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=A;try{for(D(n),N=_(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(S)&&E(S),D(n)}else E(S);N=_(S)}if(null!==N)var u=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(S,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return la},SDK_VERSION:function(){return no},_DEFAULT_ENTRY_NAME:function(){return qa},_addComponent:function(){return Ka},_addOrOverwriteComponent:function(){return Ga},_apps:function(){return Wa},_clearComponents:function(){return $a},_components:function(){return Ha},_getProvider:function(){return Ya},_registerComponent:function(){return Qa},_removeServiceInstance:function(){return Ja},deleteApp:function(){return oo},getApp:function(){return io},getApps:function(){return ao},initializeApp:function(){return ro},onLog:function(){return co},registerVersion:function(){return uo},setLogLevel:function(){return lo}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l,f=l||(l={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";var h=function(e){return e};function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function y(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var k=(0,t.createContext)(null);var b=(0,t.createContext)(null);var w=(0,t.createContext)({outlet:null,matches:[]});function x(e){var n=e.to,r=e.replace,i=e.state;C()||g(!1);var a=A();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function _(e){return function(e){var n=(0,t.useContext)(w).outlet;if(n)return(0,t.createElement)(R.Provider,{value:e},n);return n}(e.context)}function E(e){g(!1)}function I(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?l.Pop:s,c=e.navigator,f=e.static,h=void 0!==f&&f;C()&&g(!1);var d=W(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,w=void 0===m?"/":m,x=v.search,_=void 0===x?"":x,E=v.hash,I=void 0===E?"":E,S=v.state,T=void 0===S?null:S,N=v.key,A=void 0===N?"default":N,R=(0,t.useMemo)((function(){var e=q(w,d);return null==e?null:{pathname:e,search:_,hash:I,state:T,key:A}}),[d,w,_,I,T,A]);return null==R?null:(0,t.createElement)(k.Provider,{value:p},(0,t.createElement)(b.Provider,{children:a,value:{location:R,navigationType:u}}))}function S(e){var n=e.children,r=e.location;return function(e,n){C()||g(!1);var r=(0,t.useContext)(w).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=N();if(n){var c,l="string"===typeof n?y(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||g(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=q(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}(e,{pathname:h});0;return U(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:B([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:B([o,e.pathnameBase])})})),r)}(O(n),r)}function T(e){C()||g(!1);var n=(0,t.useContext)(k),r=n.basename,i=n.navigator,a=P(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):B([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function C(){return null!=(0,t.useContext)(b)}function N(){return C()||g(!1),(0,t.useContext)(b).location}function A(){C()||g(!1);var e=(0,t.useContext)(k),n=e.basename,r=e.navigator,i=(0,t.useContext)(w).matches,a=N().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=z(e,JSON.parse(o),a);"/"!==n&&(i.pathname=B([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var R=(0,t.createContext)(null);function P(e){var n=(0,t.useContext)(w).matches,r=N().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return z(e,JSON.parse(i),r)}),[e,i,r])}function O(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==E&&g(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=O(e.props.children)),n.push(r)}else n.push.apply(n,O(e.props.children))})),n}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),D(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:s})})),t}var L=/^:\w+$/,M=function(e){return"*"===e};function j(e,t){var n=e.split("/"),r=n.length;return n.some(M)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!M(e)})).reduce((function(e,t){return e+(L.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=V({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:B([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(_,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:c,pattern:e}}function z(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:H(a),hash:K(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},W=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},H=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},K=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function J(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=y(s.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=u.state||{};return[r.idx,h({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(f)x.call(f),f=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],x.length){if(null!=r){var i=k-r;i&&(f={action:e,location:n,retry:function(){o(-1*i)}},o(i))}}else a(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=s.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:m(e))}function i(e,t){return void 0===t&&(t=null),h(c({pathname:b.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function a(e){g=e,e=t(),k=e[0],b=e[1],w.call({action:g,location:b})}function o(e){u.go(e)}void 0===e&&(e={});var s=void 0===(e=e.window)?document.defaultView:e,u=s.history,f=null;s.addEventListener("popstate",n),s.addEventListener("hashchange",(function(){m(t()[1])!==m(b)&&n()}));var g=l.Pop,k=(e=t())[0],b=e[1],w=p(),x=p();return null==k&&(k=0,u.replaceState(c({},u.state,{idx:k}),"")),{get action(){return g},get location(){return b},createHref:r,push:function e(t,n){var o=l.Push,c=i(t,n);if(!x.length||(x.call({action:o,location:c,retry:function(){e(t,n)}}),0)){var f=[{usr:c.state,key:c.key,idx:k+1},r(c)];c=f[0],f=f[1];try{u.pushState(c,"",f)}catch(cu){s.location.assign(f)}a(o)}},replace:function e(t,n){var o=l.Replace,s=i(t,n);x.length&&(x.call({action:o,location:s,retry:function(){e(t,n)}}),1)||(s=[{usr:s.state,key:s.key,idx:k},r(s)],u.replaceState(s[0],"",s[1]),a(o))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&s.addEventListener("beforeunload",d),function(){t(),x.length||s.removeEventListener("beforeunload",d)}}}}({window:i}));var o=a.current,s=u((0,t.useState)({action:o.action,location:o.location}),2),f=s[0],g=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(g)}),[o]),(0,t.createElement)(I,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:o})}var $=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Q(e,Y),f=T(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=A(),u=N(),c=P(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",G({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function X(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Z(e,t){if(null==e)return{};var n,r,i=X(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ee(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ee(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function te(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ee(e))&&(r&&(r+=" "),r+=t);return r}var ne=n(110),re=n.n(ne),ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae="object"===("undefined"===typeof window?"undefined":ie(window))&&"object"===("undefined"===typeof document?"undefined":ie(document))&&9===document.nodeType;function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ue(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fe={}.constructor;function he(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(he);if(e.constructor!==fe)return e;var t={};for(var n in e)t[n]=he(e[n]);return t}function de(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=he(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var pe=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},ve=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=pe(e[r]," ");else n=pe(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function me(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function ye(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ge(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=me(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=ye(h+":"+c+ve(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=ye(p+":"+c+ve(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=u),r+=ye(m+":"+c+ve(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),ye(""+e+c+"{"+r,--a)+ye("}",a)):r}var ke=/([[\].#*$><+~=|^:(),"'`\s])/g,be="undefined"!==typeof CSS&&CSS.escape,we=function(e){return be?be(e):e.replace(ke,"\\$1")},xe=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),_e=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u(le(le(i)),s),i.selectorText="."+we(i.id)),i}ce(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=ve(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return ge(this.selectorText,this.style,n)},se(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(xe),Ee={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new _e(e,t,n)}},Ie={indent:1,children:!0},Se=/@([\w-]+)/,Te=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Se);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new $e(c({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Ie);var t=me(e).linebreak;if(null==e.indent&&(e.indent=Ie.indent),null==e.children&&(e.children=Ie.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Ce=/@media|@supports\s+/,Ne={onCreateRule:function(e,t,n){return Ce.test(e)?new Te(e,t,n):null}},Ae={indent:1,children:!0},Re=/@keyframes\s+([\w-]+)/,Pe=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Re);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var s in this.id=!1===i?this.name:we(o(this,a)),this.rules=new $e(c({},n,{parent:this})),t)this.rules.add(s,t[s],c({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Ae);var t=me(e).linebreak;if(null==e.indent&&(e.indent=Ae.indent),null==e.children&&(e.children=Ae.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Oe=/@keyframes\s+/,De=/\$([\w-]+)/g,Le=function(e,t){return"string"===typeof e?e.replace(De,(function(e,n){return n in t?t[n]:e})):e},Me=function(e,t,n){var r=e[t],i=Le(r,n);i!==r&&(e[t]=i)},je={onCreateRule:function(e,t,n){return"string"===typeof e&&Oe.test(e)?new Pe(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Me(e,"animation-name",n.keyframes),"animation"in e&&Me(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Le(e,r.keyframes);default:return e}}},Fe=function(e){function t(){return e.apply(this,arguments)||this}return ce(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return ge(this.key,this.style,n)},t}(xe),Ue={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Fe(e,t,n):null}},Ve=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=me(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=ge(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return ge(this.at,this.style,e)},e}(),ze=/@font-face/,qe={onCreateRule:function(e,t,n){return ze.test(e)?new Ve(e,t,n):null}},Be=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return ge(this.key,this.style,e)},e}(),We={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Be(e,t,n):null}},He=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ke={"@charset":!0,"@import":!0,"@namespace":!0},Ge={onCreateRule:function(e,t,n){return e in Ke?new He(e,t,n):null}},Qe=[Ee,Ne,je,Ue,qe,We,Ge],Ye={process:!0},Je={force:!0,process:!0},$e=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,s=r.Renderer,u=r.generateId,l=r.scoped,f=c({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:s,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+we(this.classes[h]));var d=de(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=c({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof _e?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Pe&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof _e?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Pe&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Ye);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Je)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,Je)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=me(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),Xe=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=c({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new $e(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Ze=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),et=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=X(t,["attached"]),i=me(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},se(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),tt=new et,nt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),rt="2f1acc6c3a606b082e5eef5e54414ffb";null==nt[rt]&&(nt[rt]=0);var it=nt[rt]++,at=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+it+i+t:a+n.key+"-"+it+(i?"-"+i:"")+"-"+t}},ot=function(e){var t;return function(){return t||(t=e()),t}},st=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ut=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=ve(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ct=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},lt=function(e,t){return e.selectorText=t,e.selectorText===t},ft=ot((function(){return document.querySelector("head")}));function ht(e){var t=tt.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ft(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var dt=ot((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pt=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},vt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},mt=function(){function e(e){this.getPropertyValue=st,this.setProperty=ut,this.removeProperty=ct,this.setSelector=lt,this.hasInsertedRules=!1,this.cssRules=[],e&&tt.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=dt();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ht(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ft().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=vt(n,t);if(!1===(i=pt(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=vt(n,t),u=pt(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Xe&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),yt=0,gt=function(){function e(e){this.id=yt++,this.version="10.9.0",this.plugins=new Ze,this.options={id:{minify:!1},createGenerateId:at,Renderer:ae?mt:null,plugins:[]},this.generateId=at({minify:!1});for(var t=0;t<Qe.length;t++)this.plugins.use(Qe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=c({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===tt.index?0:tt.index+1);var r=new Xe(e,c({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),tt.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=c({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=de(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),kt=function(e){return new gt(e)},bt="object"===typeof CSS&&null!=CSS&&"number"in CSS;function wt(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=wt(r);a&&(t||(t={}),t[n]=a)}}return t}kt();function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=c({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var _t={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Et=_t;var It=t.createContext(null);function St(){return t.useContext(It)}var Tt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ct=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Nt=Date.now(),At="fnValues"+Nt,Rt="fnStyle"+ ++Nt,Pt=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=de(e,{},n);return r[Rt]=t,r},onProcessStyle:function(e,t){if(At in t||Rt in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[At]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Rt];a&&(i.style=a(e)||{});var o=i[At];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Ot="@global",Dt="@global ",Lt=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ot,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new $e(c({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Mt=function(){function e(e,t,n){this.type="global",this.at=Ot,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Dt.length);this.rule=n.jss.createRule(r,t,c({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),jt=/\s*,\s*/g;function Ft(e,t){for(var n=e.split(jt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ut=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ot)return new Lt(e,t,n);if("@"===e[0]&&e.substr(0,Dt.length)===Dt)return new Mt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ot]:null;if(i){for(var a in i)t.addRule(a,i[a],c({},n,{selector:Ft(a,e.selector)}));delete r[Ot]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ot.length)===Ot){var a=Ft(i.substr(Ot.length),e.selector);t.addRule(a,r[i],c({},n,{selector:a})),delete r[i]}}(e,t))}}},Vt=/\s*,\s*/g,zt=/&/g,qt=/\$([\w-]+)/g;var Bt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Vt),r=e.split(Vt),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(zt,o):o+" "+u}return i}function n(e,t,n){if(n)return c({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=c({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,u=i,l=u.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(o=n(u,l,o),h){var p=t(f,u.selector);s||(s=e(l,a)),p=p.replace(qt,s);var v=u.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],c({},o,{selector:p})):l.addRule(v,r[f],c({},o,{selector:p}))}else d&&l.addRule(f,{},o).addRule(u.key,r[f],{selector:u.selector});delete r[f]}}return r}}},Wt=/[A-Z]/g,Ht=/^ms-/,Kt={};function Gt(e){return"-"+e.toLowerCase()}var Qt=function(e){if(Kt.hasOwnProperty(e))return Kt[e];var t=e.replace(Wt,Gt);return Kt[e]=Ht.test(t)?"-"+t:t};function Yt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Qt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Yt):t.fallbacks=Yt(e.fallbacks)),t}var Jt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Yt(e[t]);return e}return Yt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Qt(t);return t===r?e:(n.prop(r,e),null)}}},$t=bt&&CSS?CSS.px:"px",Xt=bt&&CSS?CSS.ms:"ms",Zt=bt&&CSS?CSS.percent:"%";function en(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tn=en({"animation-delay":Xt,"animation-duration":Xt,"background-position":$t,"background-position-x":$t,"background-position-y":$t,"background-size":$t,border:$t,"border-bottom":$t,"border-bottom-left-radius":$t,"border-bottom-right-radius":$t,"border-bottom-width":$t,"border-left":$t,"border-left-width":$t,"border-radius":$t,"border-right":$t,"border-right-width":$t,"border-top":$t,"border-top-left-radius":$t,"border-top-right-radius":$t,"border-top-width":$t,"border-width":$t,"border-block":$t,"border-block-end":$t,"border-block-end-width":$t,"border-block-start":$t,"border-block-start-width":$t,"border-block-width":$t,"border-inline":$t,"border-inline-end":$t,"border-inline-end-width":$t,"border-inline-start":$t,"border-inline-start-width":$t,"border-inline-width":$t,"border-start-start-radius":$t,"border-start-end-radius":$t,"border-end-start-radius":$t,"border-end-end-radius":$t,margin:$t,"margin-bottom":$t,"margin-left":$t,"margin-right":$t,"margin-top":$t,"margin-block":$t,"margin-block-end":$t,"margin-block-start":$t,"margin-inline":$t,"margin-inline-end":$t,"margin-inline-start":$t,padding:$t,"padding-bottom":$t,"padding-left":$t,"padding-right":$t,"padding-top":$t,"padding-block":$t,"padding-block-end":$t,"padding-block-start":$t,"padding-inline":$t,"padding-inline-end":$t,"padding-inline-start":$t,"mask-position-x":$t,"mask-position-y":$t,"mask-size":$t,height:$t,width:$t,"min-height":$t,"max-height":$t,"min-width":$t,"max-width":$t,bottom:$t,left:$t,top:$t,right:$t,inset:$t,"inset-block":$t,"inset-block-end":$t,"inset-block-start":$t,"inset-inline":$t,"inset-inline-end":$t,"inset-inline-start":$t,"box-shadow":$t,"text-shadow":$t,"column-gap":$t,"column-rule":$t,"column-rule-width":$t,"column-width":$t,"font-size":$t,"font-size-delta":$t,"letter-spacing":$t,"text-decoration-thickness":$t,"text-indent":$t,"text-stroke":$t,"text-stroke-width":$t,"word-spacing":$t,motion:$t,"motion-offset":$t,outline:$t,"outline-offset":$t,"outline-width":$t,perspective:$t,"perspective-origin-x":Zt,"perspective-origin-y":Zt,"transform-origin":Zt,"transform-origin-x":Zt,"transform-origin-y":Zt,"transform-origin-z":Zt,"transition-delay":Xt,"transition-duration":Xt,"vertical-align":$t,"flex-basis":$t,"shape-margin":$t,size:$t,gap:$t,grid:$t,"grid-gap":$t,"row-gap":$t,"grid-row-gap":$t,"grid-column-gap":$t,"grid-template-rows":$t,"grid-template-columns":$t,"grid-auto-rows":$t,"grid-auto-columns":$t,"box-shadow-x":$t,"box-shadow-y":$t,"box-shadow-blur":$t,"box-shadow-spread":$t,"font-line-height":$t,"text-shadow-x":$t,"text-shadow-y":$t,"text-shadow-blur":$t});function nn(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nn(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nn(i,t[i],n);else for(var a in t)t[a]=nn(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tn[e];return!o||0===t&&o===$t?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rn=function(e){void 0===e&&(e={});var t=en(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nn(r,e[r],t);return e},onChangeValue:function(e,n){return nn(n,e,t)}}};function an(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function on(e){return function(e){if(Array.isArray(e))return a(e)}(e)||an(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sn="",un="",cn="",ln="",fn=ae&&"ontouchstart"in document.documentElement;if(ae){var hn={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dn=document.createElement("p").style;for(var pn in hn)if(pn+"Transform"in dn){sn=pn,un=hn[pn];break}"Webkit"===sn&&"msHyphens"in dn&&(sn="ms",un=hn.ms,ln="edge"),"Webkit"===sn&&"-apple-trailing-word"in dn&&(cn="apple")}var vn=sn,mn=un,yn=cn,gn=ln,kn=fn;var bn={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===vn?"-webkit-"+e:mn+e)}},wn={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===vn?mn+"print-"+e:e)}},xn=/[-\s]+(.)?/g;function _n(e,t){return t?t.toUpperCase():""}function En(e){return e.replace(xn,_n)}function In(e){return En("-"+e)}var Sn,Tn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===vn){var n="mask-image";if(En(n)in t)return e;if(vn+In(n)in t)return mn+e}return e}},Cn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==yn||kn?e:mn+e)}},Nn={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:mn+e)}},An={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:mn+e)}},Rn={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===vn||"ms"===vn&&"edge"!==gn?mn+e:e)}},Pn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===vn||"ms"===vn||"apple"===yn?mn+e:e)}},On={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===vn?"WebkitColumn"+In(e)in t&&mn+"column-"+e:"Moz"===vn&&("page"+In(e)in t&&"page-"+e))}},Dn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===vn)return e;var n=e.replace("-inline","");return vn+In(n)in t&&mn+n}},Ln={supportedProperty:function(e,t){return En(e)in t&&e}},Mn={supportedProperty:function(e,t){var n=In(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:vn+n in t?mn+e:"Webkit"!==vn&&"Webkit"+n in t&&"-webkit-"+e}},jn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===vn?""+mn+e:e)}},Fn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===vn?mn+"scroll-chaining":e)}},Un={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Vn={supportedProperty:function(e,t){var n=Un[e];return!!n&&(vn+In(n)in t&&mn+n)}},zn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},qn=Object.keys(zn),Bn=function(e){return mn+e},Wn={supportedProperty:function(e,t,n){var r=n.multiple;if(qn.indexOf(e)>-1){var i=zn[e];if(!Array.isArray(i))return vn+In(i)in t&&mn+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(vn+In(i[0])in t))return!1;return i.map(Bn)}return!1}},Hn=[bn,wn,Tn,Cn,Nn,An,Rn,Pn,On,Dn,Ln,Mn,jn,Fn,Vn,Wn],Kn=Hn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Gn=Hn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,on(t.noPrefill)),e}),[]),Qn={};if(ae){Sn=document.createElement("p");var Yn=window.getComputedStyle(document.documentElement,"");for(var Jn in Yn)isNaN(Jn)||(Qn[Yn[Jn]]=Yn[Jn]);Gn.forEach((function(e){return delete Qn[e]}))}function $n(e,t){if(void 0===t&&(t={}),!Sn)return e;if(null!=Qn[e])return Qn[e];"transition"!==e&&"transform"!==e||(t[e]=e in Sn.style);for(var n=0;n<Kn.length&&(Qn[e]=Kn[n](e,Sn.style,t),!Qn[e]);n++);try{Sn.style[e]=""}catch(r){return!1}return Qn[e]}var Xn,Zn={},er={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},tr=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function nr(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?$n(t):", "+$n(n);return r||(t||n)}function rr(e,t){var n=t;if(!Xn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Zn[r])return Zn[r];try{Xn.style[e]=n}catch(i){return Zn[r]=!1,!1}if(er[e])n=n.replace(tr,nr);else if(""===Xn.style[e]&&("-ms-flex"===(n=mn+n)&&(Xn.style[e]="-ms-flexbox"),Xn.style[e]=n,""===Xn.style[e]))return Zn[r]=!1,!1;return Xn.style[e]="",Zn[r]=n,Zn[r]}ae&&(Xn=document.createElement("p"));var ir=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=$n(n);a&&a!==n&&(i=!0);var o=!1,s=rr(a,ve(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===vn?e:"@"+mn+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return rr(t,ve(e))||e}}};var ar=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var or=kt({plugins:[Pt(),Ut(),Bt(),Jt(),rn(),"undefined"===typeof window?null:ir(),ar()]}),sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ct.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Tt]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),ur={disableGeneration:!1,generateClassName:sr,jss:or,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},cr=t.createContext(ur);var lr=-1e9;function fr(){return lr+=1}function hr(e){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function dr(e){return e&&"object"===hr(e)&&e.constructor===Object}function pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return dr(e)&&dr(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(dr(t[i])&&i in e?r[i]=pr(e[i],t[i],n):r[i]=t[i])})),r}function vr(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=c({},i);return Object.keys(a).forEach((function(e){o[e]=pr(o[e],a[e])})),o},options:{}}}var mr={};function yr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=xt({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function gr(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var s=Et.get(i.sheetsManager,a,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Et.set(i.sheetsManager,a,r,s));var u=c({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var l=i.sheetsRegistry;if(0===s.refs){var f;i.sheetsCache&&(f=Et.get(i.sheetsCache,a,r));var h=a.create(r,o);f||((f=i.jss.createStyleSheet(h,c({link:!1},u))).attach(),i.sheetsCache&&Et.set(i.sheetsCache,a,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=wt(h)}if(s.dynamicStyles){var d=i.jss.createStyleSheet(s.dynamicStyles,c({link:!0},u));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=xt({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function kr(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function br(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Et.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Et.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function wr(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function xr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,s=void 0===o?mr:o,u=Z(n,["name","classNamePrefix","Component","defaultTheme"]),l=vr(e),f=r||i||"makeStyles";l.options={index:fr(),name:r,meta:f,classNamePrefix:f};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=St()||s,i=c({},t.useContext(cr),u),o=t.useRef(),f=t.useRef();wr((function(){var t={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return gr(t,e),f.current=!1,o.current=t,function(){br(t)}}),[n,l]),t.useEffect((function(){f.current&&kr(o.current,e),f.current=!0}));var h=yr(o.current,e.classes,a);return h};return h}function _r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Er=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,s=n.name,u=Z(n,["defaultTheme","withTheme","name"]);var l=s,f=xr(e,c({defaultTheme:i,Component:r,name:s||r.displayName,classNamePrefix:l},u)),h=t.forwardRef((function(e,n){e.classes;var a,u=e.innerRef,l=Z(e,["classes","innerRef"]),h=f(c({},r.defaultProps,e)),d=l;return("string"===typeof s||o)&&(a=St()||i,s&&(d=_r({theme:a,name:s,props:l})),o&&!d.theme&&(d.theme=a)),t.createElement(r,c({ref:u||n,classes:h},d))}));return re()(h,r),h}},Ir=["xs","sm","md","lg","xl"];function Sr(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=Z(e,["values","unit","step"]);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=Ir.indexOf(t);return r===Ir.length-1?u(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Ir[r+1]]?n[Ir[r+1]]:t)-o/100).concat(i,")")}return c({keys:Ir,values:n,up:u,down:function(e){var t=Ir.indexOf(e)+1,r=n[Ir[t]];return t===Ir.length?u("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},s)}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e,t,n){var r;return c({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),c({paddingLeft:t(2),paddingRight:t(2)},n,Tr({},e.up("sm"),c({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Tr(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Tr(r,e.up("sm"),{minHeight:64}),r)},n)}function Nr(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Ar={black:"#000",white:"#fff"},Rr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Pr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Or={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Dr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Lr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Mr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Ur(e){if(e.type)return e;if("#"===e.charAt(0))return Ur(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Nr(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Vr(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function zr(e){var t="hsl"===(e=Ur(e)).type?Ur(function(e){var t=(e=Ur(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Vr({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qr(e,t){if(e=Ur(e),t=Fr(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Vr(e)}function Br(e,t){if(e=Ur(e),t=Fr(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Vr(e)}var Wr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ar.white,default:Rr[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Hr={text:{primary:Ar.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Rr[800],default:"#303030"},action:{active:Ar.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Kr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Br(e.main,i):"dark"===t&&(e.dark=qr(e.main,a)))}function Gr(e){var t=e.primary,n=void 0===t?{light:Pr[300],main:Pr[500],dark:Pr[700]}:t,r=e.secondary,i=void 0===r?{light:Or.A200,main:Or.A400,dark:Or.A700}:r,a=e.error,o=void 0===a?{light:Dr[300],main:Dr[500],dark:Dr[700]}:a,s=e.warning,u=void 0===s?{light:Lr[300],main:Lr[500],dark:Lr[700]}:s,l=e.info,f=void 0===l?{light:Mr[300],main:Mr[500],dark:Mr[700]}:l,h=e.success,d=void 0===h?{light:jr[300],main:jr[500],dark:jr[700]}:h,p=e.type,v=void 0===p?"light":p,m=e.contrastThreshold,y=void 0===m?3:m,g=e.tonalOffset,k=void 0===g?.2:g,b=Z(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=zr(e),r=zr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Hr.text.primary)>=y?Hr.text.primary:Wr.text.primary;return t}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=c({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Nr(4,t));if("string"!==typeof e.main)throw new Error(Nr(5,JSON.stringify(e.main)));return Kr(e,"light",n,k),Kr(e,"dark",r,k),e.contrastText||(e.contrastText=w(e.main)),e},_={dark:Hr,light:Wr};return pr(c({common:Ar,type:v,primary:x(n),secondary:x(i,"A400","A200","A700"),error:x(o),warning:x(u),info:x(f),success:x(d),grey:Rr,contrastThreshold:y,getContrastText:w,augmentColor:x,tonalOffset:k},_[v]),b)}function Qr(e){return Math.round(1e5*e)/1e5}function Yr(e){return Qr(e)}var Jr={textTransform:"uppercase"},$r='"Roboto", "Helvetica", "Arial", sans-serif';function Xr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?$r:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,f=void 0===l?400:l,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,k=n.pxToRem,b=Z(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=o/14,x=k||function(e){return"".concat(e/y*w,"rem")},_=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===$r?{letterSpacing:"".concat(Qr(r/t),"em")}:{},a,g)},E={h1:_(u,96,1.167,-1.5),h2:_(u,60,1.2,-.5),h3:_(f,48,1.167,0),h4:_(f,34,1.235,.25),h5:_(f,24,1.334,0),h6:_(d,20,1.6,.15),subtitle1:_(f,16,1.75,.15),subtitle2:_(d,14,1.57,.1),body1:_(f,16,1.5,.15),body2:_(f,14,1.43,.15),button:_(d,14,1.75,.4,Jr),caption:_(f,12,1.66,.4),overline:_(f,12,2.66,1,Jr)};return pr(c({htmlFontSize:y,pxToRem:x,round:Yr,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:d,fontWeightBold:v},E),b,{clone:!1})}function Zr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ei=["none",Zr(0,2,1,-1,0,1,1,0,0,1,3,0),Zr(0,3,1,-2,0,2,2,0,0,1,5,0),Zr(0,3,3,-2,0,3,4,0,0,1,8,0),Zr(0,2,4,-1,0,4,5,0,0,1,10,0),Zr(0,3,5,-1,0,5,8,0,0,1,14,0),Zr(0,3,5,-1,0,6,10,0,0,1,18,0),Zr(0,4,5,-2,0,7,10,1,0,2,16,1),Zr(0,5,5,-3,0,8,10,1,0,3,14,2),Zr(0,5,6,-3,0,9,12,1,0,3,16,2),Zr(0,6,6,-3,0,10,14,1,0,4,18,3),Zr(0,6,7,-4,0,11,15,1,0,4,20,3),Zr(0,7,8,-4,0,12,17,2,0,5,22,4),Zr(0,7,8,-4,0,13,19,2,0,5,24,4),Zr(0,7,9,-4,0,14,21,2,0,5,26,4),Zr(0,8,9,-5,0,15,22,2,0,6,28,5),Zr(0,8,10,-5,0,16,24,2,0,6,30,5),Zr(0,8,11,-5,0,17,26,2,0,6,32,5),Zr(0,9,11,-5,0,18,28,2,0,7,34,6),Zr(0,9,12,-6,0,19,29,2,0,7,36,6),Zr(0,10,13,-6,0,20,31,3,0,8,38,7),Zr(0,10,13,-6,0,21,33,3,0,8,40,7),Zr(0,10,14,-6,0,22,35,3,0,8,42,7),Zr(0,11,14,-7,0,23,36,3,0,9,44,8),Zr(0,11,15,-7,0,24,38,3,0,9,46,8)],ti={borderRadius:4},ni={xs:0,sm:600,md:960,lg:1280,xl:1920},ri={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ni[e],"px)")}};var ii=function(e,t){return t?pr(e,t,{clone:!1}):e};var ai={m:"margin",p:"padding"},oi={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},si={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ui=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!si[e])return[e];e=si[e]}var t=u(e.split(""),2),n=t[0],r=t[1],i=ai[n],a=oi[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),ci=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function li(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function fi(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function hi(e){var t=li(e.theme);return Object.keys(e).map((function(n){if(-1===ci.indexOf(n))return null;var r=fi(ui(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||ri;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===hr(t)){var i=e.theme.breakpoints||ri;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(ii,{})}hi.propTypes={},hi.filterProps=ci;function di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=li({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var pi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mi(e){return"".concat(Math.round(e),"ms")}var yi={easing:pi,duration:vi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?vi.standard:n,i=t.easing,a=void 0===i?pi.easeInOut:i,o=t.delay,s=void 0===o?0:o;Z(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:mi(r)," ").concat(a," ").concat("string"===typeof s?s:mi(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},gi={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ki(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,s=e.spacing,u=e.typography,c=void 0===u?{}:u,l=Z(e,["breakpoints","mixins","palette","spacing","typography"]),f=Gr(o),h=Sr(n),d=di(s),p=pr({breakpoints:h,direction:"ltr",mixins:Cr(h,d,i),overrides:{},palette:f,props:{},shadows:ei,typography:Xr(f,c),spacing:d,shape:ti,transitions:yi,zIndex:gi},l),v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return pr(e,t)}),p)}var bi=ki();var wi=function(e,t){return Er(e,c({defaultTheme:bi},t))};function xi(e){if("string"!==typeof e)throw new Error(Nr(7));return e.charAt(0).toUpperCase()+e.slice(1)}var _i=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,s=void 0===o?"inherit":o,u=e.component,l=void 0===u?"svg":u,f=e.fontSize,h=void 0===f?"medium":f,d=e.htmlColor,p=e.titleAccess,v=e.viewBox,m=void 0===v?"0 0 24 24":v,y=Z(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return t.createElement(l,c({className:te(i.root,a,"inherit"!==s&&i["color".concat(xi(s))],"default"!==h&&"medium"!==h&&i["fontSize".concat(xi(h))]),focusable:"false",viewBox:m,color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},y),r,p?t.createElement("title",null,p):null)}));_i.muiName="SvgIcon";var Ei=wi((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(_i);function Ii(e,n){var r=function(n,r){return t.createElement(Ei,c({ref:r},n),e)};return r.muiName=Ei.muiName,t.memo(t.forwardRef(r))}var Si=Ii(t.createElement(t.Fragment,null,t.createElement("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"}),t.createElement("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83zM17.5 14.33c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"}))),Ti=Ii(t.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})),Ci=n(184),Ni=function(e){var t=e.setShowModal;return(0,Ci.jsx)("div",{className:"backdrop",onClick:function(){return t(!1)}})},Ai=Ii(t.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ri=Ii(t.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}));function Pi(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Oi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Pi(a,r,i,o,s,"next",e)}function s(e){Pi(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mi=n(757),ji=n.n(Mi);function Fi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ui(e,t,n){return Ui=Fi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ue(i,n.prototype),i},Ui.apply(null,arguments)}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}function zi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vi(e)););return e}function qi(){return qi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qi.apply(this,arguments)}function Bi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function Wi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}function Hi(e,t){if(t&&("object"===hr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function Ki(e){var t=Fi();return function(){var n,r=Vi(e);if(t){var i=Vi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hi(this,n)}}function Gi(e){var t="function"===typeof Map?new Map:void 0;return Gi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ui(e,arguments,Vi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ue(n,e)},Gi(e)}function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Yi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ji={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$i=function(e){return function(e){var t=Yi(e);return Ji.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xi=function(e){try{return Ji.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ea(n)&&(e[n]=Zi(e[n],t[n]));return e}function ea(e){return"__proto__"!==e}var ta=function(){function e(){var t=this;Qi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return se(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function na(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$i(JSON.stringify({alg:"none",type:"JWT"})),$i(JSON.stringify(a)),""].join(".")}function ra(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ia(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ra())}function aa(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function oa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function sa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ua(){var e=ra();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ca(){return"object"===typeof indexedDB}var la=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(le(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(le(a),fa.prototype.create),a}return se(n)}(Gi(Error)),fa=function(){function e(t,n,r){Qi(this,e),this.service=t,this.serviceName=n,this.errors=r}return se(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ha(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new la(n,a,t);return o}}]),e}();function ha(e,t){return e.replace(da,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var da=/\{\$([^}]+)}/g;function pa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function va(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ma(s)&&ma(u)){if(!va(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ma(e){return null!==e&&"object"===typeof e}function ya(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ga(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ka(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ba(e,t){var n=new wa(e,t);return n.subscribe.bind(n)}var wa=function(){function e(t,n){var r=this;Qi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return se(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Bi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=xa),void 0===r.error&&(r.error=xa),void 0===r.complete&&(r.complete=xa);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function xa(){}function _a(e){return e&&e._delegate?e._delegate:e}var Ea=function(){function e(t,n,r){Qi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ia="[DEFAULT]",Sa=function(){function e(t,n){Qi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ta;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch(c){}var t,n=Bi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Oi(Mi.mark((function e(){var t;return Mi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(on(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),on(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Bi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Bi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ng){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ia?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ng){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia;return this.component?this.component.multipleInstances?e:Ia:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ta,Ca,Na=function(){function e(t){Qi(this,e),this.name=t,this.providers=new Map}return se(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Sa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Aa=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ca||(Ca={}));var Ra,Pa,Oa={debug:Ca.DEBUG,verbose:Ca.VERBOSE,info:Ca.INFO,warn:Ca.WARN,error:Ca.ERROR,silent:Ca.SILENT},Da=Ca.INFO,La=(Tr(Ta={},Ca.DEBUG,"log"),Tr(Ta,Ca.VERBOSE,"log"),Tr(Ta,Ca.INFO,"info"),Tr(Ta,Ca.WARN,"warn"),Tr(Ta,Ca.ERROR,"error"),Ta),Ma=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=La[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ja=function(){function e(t){Qi(this,e),this.name=t,this._logLevel=Da,this._logHandler=Ma,this._userLogHandler=null,Aa.push(this)}return se(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ca))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Oa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ca.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ca.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ca.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ca.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ca.INFO].concat(t)),this._logHandler.apply(this,[this,Ca.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ca.WARN].concat(t)),this._logHandler.apply(this,[this,Ca.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ca.ERROR].concat(t)),this._logHandler.apply(this,[this,Ca.ERROR].concat(t))}}]),e}();var Fa=function(){function e(t){Qi(this,e),this.container=t}return se(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ua="@firebase/app",Va="0.7.11",za=new ja("@firebase/app"),qa="[DEFAULT]",Ba=(Tr(Ra={},Ua,"fire-core"),Tr(Ra,"@firebase/app-compat","fire-core-compat"),Tr(Ra,"@firebase/analytics","fire-analytics"),Tr(Ra,"@firebase/analytics-compat","fire-analytics-compat"),Tr(Ra,"@firebase/app-check","fire-app-check"),Tr(Ra,"@firebase/app-check-compat","fire-app-check-compat"),Tr(Ra,"@firebase/auth","fire-auth"),Tr(Ra,"@firebase/auth-compat","fire-auth-compat"),Tr(Ra,"@firebase/database","fire-rtdb"),Tr(Ra,"@firebase/database-compat","fire-rtdb-compat"),Tr(Ra,"@firebase/functions","fire-fn"),Tr(Ra,"@firebase/functions-compat","fire-fn-compat"),Tr(Ra,"@firebase/installations","fire-iid"),Tr(Ra,"@firebase/installations-compat","fire-iid-compat"),Tr(Ra,"@firebase/messaging","fire-fcm"),Tr(Ra,"@firebase/messaging-compat","fire-fcm-compat"),Tr(Ra,"@firebase/performance","fire-perf"),Tr(Ra,"@firebase/performance-compat","fire-perf-compat"),Tr(Ra,"@firebase/remote-config","fire-rc"),Tr(Ra,"@firebase/remote-config-compat","fire-rc-compat"),Tr(Ra,"@firebase/storage","fire-gcs"),Tr(Ra,"@firebase/storage-compat","fire-gcs-compat"),Tr(Ra,"@firebase/firestore","fire-fst"),Tr(Ra,"@firebase/firestore-compat","fire-fst-compat"),Tr(Ra,"fire-js","fire-js"),Tr(Ra,"firebase","fire-js-all"),Ra),Wa=new Map,Ha=new Map;function Ka(e,t){try{e.container.addComponent(t)}catch(n){za.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ga(e,t){e.container.addOrOverwriteComponent(t)}function Qa(e){var t=e.name;if(Ha.has(t))return za.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ha.set(t,e);var n,r=Bi(Wa.values());try{for(r.s();!(n=r.n()).done;){Ka(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ya(e,t){return e.container.getProvider(t)}function Ja(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qa;Ya(e,t).clearInstance(n)}function $a(){Ha.clear()}var Xa,Za=(Tr(Pa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Tr(Pa,"bad-app-name","Illegal App name: '{$appName}"),Tr(Pa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Tr(Pa,"app-deleted","Firebase App named '{$appName}' already deleted"),Tr(Pa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tr(Pa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Pa),eo=new fa("app","Firebase",Za),to=function(){function e(t,n,r){var i=this;Qi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",(function(){return i}),"PUBLIC"))}return se(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}]),e}(),no="9.6.1";function ro(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:qa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw eo.create("bad-app-name",{appName:String(i)});var a=Wa.get(i);if(a){if(va(e,a.options)&&va(r,a.config))return a;throw eo.create("duplicate-app",{appName:i})}var o,s=new Na(i),u=Bi(Ha.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new to(e,r,s);return Wa.set(i,l),l}function io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=Wa.get(e);if(!t)throw eo.create("no-app",{appName:e});return t}function ao(){return Array.from(Wa.values())}function oo(e){return so.apply(this,arguments)}function so(){return so=Oi(Mi.mark((function e(t){var n;return Mi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Wa.has(n)){e.next=6;break}return Wa.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function uo(e,t,n){var r,i=null!==(r=Ba[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void za.warn(s.join(" "))}Qa(new Ea("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function co(e,t){if(null!==e&&"function"!==typeof e)throw eo.create("invalid-log-argument");!function(e,t){var n,r=Bi(Aa);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Oa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ca[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function lo(e){var t;t=e,Aa.forEach((function(e){e.setLogLevel(t)}))}Xa="",Qa(new Ea("platform-logger",(function(e){return new Fa(e)}),"PRIVATE")),uo(Ua,Va,Xa),uo(Ua,Va,"esm2017"),uo("fire-js","");var fo,ho="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},po={},vo=vo||{},mo=ho||self;function yo(){}function go(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ko(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bo="closure_uid_"+(1e9*Math.random()>>>0),wo=0;function xo(e,t,n){return e.call.apply(e.bind,arguments)}function _o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Eo(e,t,n){return(Eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xo:_o).apply(null,arguments)}function Io(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function So(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function To(){this.s=this.s,this.o=this.o}var Co={};To.prototype.s=!1,To.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,bo)&&e[bo]||(e[bo]=++wo)}(this);delete Co[e]}},To.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var No=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ao=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ro(e){return Array.prototype.concat.apply([],arguments)}function Po(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oo(e){return/^[\s\xa0]*$/.test(e)}var Do,Lo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mo(e,t){return-1!=e.indexOf(t)}function jo(e,t){return e<t?-1:e>t?1:0}e:{var Fo=mo.navigator;if(Fo){var Uo=Fo.userAgent;if(Uo){Do=Uo;break e}}Do=""}function Vo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zo(e){var t={};for(var n in e)t[n]=e[n];return t}var qo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qo.length;a++)n=qo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wo(e){return Wo[" "](e),e}Wo[" "]=yo;var Ho,Ko=Mo(Do,"Opera"),Go=Mo(Do,"Trident")||Mo(Do,"MSIE"),Qo=Mo(Do,"Edge"),Yo=Qo||Go,Jo=Mo(Do,"Gecko")&&!(Mo(Do.toLowerCase(),"webkit")&&!Mo(Do,"Edge"))&&!(Mo(Do,"Trident")||Mo(Do,"MSIE"))&&!Mo(Do,"Edge"),$o=Mo(Do.toLowerCase(),"webkit")&&!Mo(Do,"Edge");function Xo(){var e=mo.document;return e?e.documentMode:void 0}e:{var Zo="",es=function(){var e=Do;return Jo?/rv:([^\);]+)(\)|;)/.exec(e):Qo?/Edge\/([\d\.]+)/.exec(e):Go?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$o?/WebKit\/(\S+)/.exec(e):Ko?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(es&&(Zo=es?es[1]:""),Go){var ts=Xo();if(null!=ts&&ts>parseFloat(Zo)){Ho=String(ts);break e}}Ho=Zo}var ns,rs={};function is(){return function(e){var t=rs;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Lo(String(Ho)).split("."),n=Lo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=jo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||jo(0==a[2].length,0==o[2].length)||jo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(mo.document&&Go){var as=Xo();ns=as||(parseInt(Ho,10)||void 0)}else ns=void 0;var os=ns,ss=function(){if(!mo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mo.addEventListener("test",yo,t),mo.removeEventListener("test",yo,t)}catch(n){}return e}();function us(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function cs(e,t){if(us.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jo){e:{try{Wo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ls[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cs.Z.h.call(this)}}us.prototype.h=function(){this.defaultPrevented=!0},So(cs,us);var ls={2:"touch",3:"pen",4:"mouse"};cs.prototype.h=function(){cs.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fs="closure_listenable_"+(1e6*Math.random()|0),hs=0;function ds(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hs,this.ca=this.fa=!1}function ps(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vs(e){this.src=e,this.g={},this.h=0}function ms(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=No(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ps(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ys(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}vs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ys(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ds(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var gs="closure_lm_"+(1e6*Math.random()|0),ks={};function bs(e,t,n,r,i){if(r&&r.once)return xs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bs(e,t[a],n,r,i);return null}return n=Ns(n),e&&e[fs]?e.N(t,n,ko(r)?!!r.capture:!!r,i):ws(e,t,n,!1,r,i)}function ws(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ko(i)?!!i.capture:!!i,s=Ts(e);if(s||(e[gs]=s=new vs(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ss;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ss||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Is(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xs(e,t[a],n,r,i);return null}return n=Ns(n),e&&e[fs]?e.O(t,n,ko(r)?!!r.capture:!!r,i):ws(e,t,n,!0,r,i)}function _s(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_s(e,t[a],n,r,i);else r=ko(r)?!!r.capture:!!r,n=Ns(n),e&&e[fs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ys(a=e.g[t],n,r,i))&&(ps(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ts(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ys(t,n,r,i)),(n=-1<e?t[e]:null)&&Es(n))}function Es(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fs])ms(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Is(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ts(t))?(ms(n,e),0==n.h&&(n.src=null,t[gs]=null)):ps(e)}}}function Is(e){return e in ks?ks[e]:ks[e]="on"+e}function Ss(e,t){if(e.ca)e=!0;else{t=new cs(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Es(e),e=n.call(r,t)}return e}function Ts(e){return(e=e[gs])instanceof vs?e:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ns(e){return"function"===typeof e?e:(e[Cs]||(e[Cs]=function(t){return e.handleEvent(t)}),e[Cs])}function As(){To.call(this),this.i=new vs(this),this.P=this,this.I=null}function Rs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new us(t,e);else if(t instanceof us)t.target=t.target||e;else{var i=t;Bo(t=new us(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ps(o,r,!0,t)&&i}if(i=Ps(o=t.g=e,r,!0,t)&&i,i=Ps(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ps(o=t.g=n[a],r,!1,t)&&i}function Ps(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ms(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}So(As,To),As.prototype[fs]=!0,As.prototype.removeEventListener=function(e,t,n,r){_s(this,e,t,n,r)},As.prototype.M=function(){if(As.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ps(n[r]);delete t.g[e],t.h--}}this.I=null},As.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},As.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Os=mo.JSON.stringify;function Ds(){var e=qs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ls,Ms=function(){function e(){Qi(this,e),this.h=this.g=null}return se(e,[{key:"add",value:function(e,t){var n=js.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),js=new(function(){function e(t,n){Qi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return se(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fs}),(function(e){return e.reset()})),Fs=function(){function e(){Qi(this,e),this.next=this.g=this.h=null}return se(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Us(e){mo.setTimeout((function(){throw e}),0)}function Vs(e,t){Ls||function(){var e=mo.Promise.resolve(void 0);Ls=function(){e.then(Bs)}}(),zs||(Ls(),zs=!0),qs.add(e,t)}var zs=!1,qs=new Ms;function Bs(){for(var e;e=Ds();){try{e.h.call(e.g)}catch(n){Us(n)}var t=js;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zs=!1}function Ws(e,t){As.call(this),this.h=e||1,this.g=t||mo,this.j=Eo(this.kb,this),this.l=Date.now()}function Hs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ks(e,t,n){if("function"===typeof e)n&&(e=Eo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Eo(e.handleEvent,e)}return 2147483647<Number(t)?-1:mo.setTimeout(e,t||0)}function Gs(e){e.g=Ks((function(){e.g=null,e.i&&(e.i=!1,Gs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}So(Ws,As),(fo=Ws.prototype).da=!1,fo.S=null,fo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rs(this,"tick"),this.da&&(Hs(this),this.start()))}},fo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fo.M=function(){Ws.Z.M.call(this),Hs(this),delete this.g};var Qs=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return se(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Gs(this)}},{key:"M",value:function(){qi(Vi(n.prototype),"M",this).call(this),this.g&&(mo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(To);function Ys(e){To.call(this),this.h=e,this.g={}}So(Ys,To);var Js=[];function $s(e,t,n,r){Array.isArray(n)||(n&&(Js[0]=n.toString()),n=Js);for(var i=0;i<n.length;i++){var a=bs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xs(e){Vo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Es(e)}),e),e.g={}}function Zs(){this.g=!0}function eu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Os(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ys.prototype.M=function(){Ys.Z.M.call(this),Xs(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zs.prototype.Aa=function(){this.g=!1},Zs.prototype.info=function(){};var tu={},nu=null;function ru(){return nu=nu||new As}function iu(e){us.call(this,tu.Ma,e)}function au(e){var t=ru();Rs(t,new iu(t,e))}function ou(e,t){us.call(this,tu.STAT_EVENT,e),this.stat=t}function su(e){var t=ru();Rs(t,new ou(t,e))}function uu(e,t){us.call(this,tu.Na,e),this.size=t}function cu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mo.setTimeout((function(){e()}),t)}tu.Ma="serverreachability",So(iu,us),tu.STAT_EVENT="statevent",So(ou,us),tu.Na="timingevent",So(uu,us);var lu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hu(){}function du(e){return e.h||(e.h=e.i())}function pu(){}hu.prototype.h=null;var vu,mu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yu(){us.call(this,"d")}function gu(){us.call(this,"c")}function ku(){}function bu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ys(this),this.P=xu,e=Yo?125:void 0,this.W=new Ws(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wu}function wu(){this.i=null,this.g="",this.h=!1}So(yu,us),So(gu,us),So(ku,hu),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},vu=new ku;var xu=45e3,_u={},Eu={};function Iu(e,t,n){e.K=1,e.v=Qu(qu(t)),e.s=n,e.U=!0,Su(e,null)}function Su(e,t){e.F=Date.now(),Au(e),e.A=qu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),sc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wu,e.g=cl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Qs(Eo(e.Ia,e,e.g),e.O)),$s(e.V,e.g,"readystatechange",e.gb),t=e.H?zo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),au(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Tu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Cu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nu(e,n))==Eu){4==t&&(e.o=4,su(14),i=!1),eu(e.j,e.m,null,"[Incomplete Response]");break}if(r==_u){e.o=4,su(15),eu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}eu(e.j,e.m,r,null),Lu(e,r)}Tu(e)&&r!=Eu&&r!=_u&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,su(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),tl(t),t.L=!0,su(11))):(eu(e.j,e.m,n,"[Invalid Chunked Response]"),Du(e),Ou(e))}function Nu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Eu:(n=Number(t.substring(n,r)),isNaN(n)?_u:(r+=1)+n>t.length?Eu:(t=t.substr(r,n),e.C=r+n,t))}function Au(e){e.Y=Date.now()+e.P,Ru(e,e.P)}function Ru(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=cu(Eo(e.eb,e),t)}function Pu(e){e.B&&(mo.clearTimeout(e.B),e.B=null)}function Ou(e){0==e.l.G||e.I||il(e.l,e)}function Du(e){Pu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hs(e.W),Xs(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Lu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vc(n.i,e)))if(n.I=e.N,!e.J&&vc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rl(n),Kc(n)}el(n),su(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=cu(Eo(n.ab,n),6e3));if(1>=pc(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ol(n,11)}else if((e.J||n.g==e)&&rl(n),!Oo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Mo(l,"spdy")||Mo(l,"quic")||Mo(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(mc(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Gu(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ul(r,r.H?r.la:null,r.W),d.J){yc(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Pu(p),Au(p)),r.g=d}else Zc(r);0<n.l.length&&Yc(n)}else"stop"!=a[0]&&"close"!=a[0]||ol(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ol(n,7):Hc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}au(4)}catch(a){}}function Mu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(go(e)||"string"===typeof e)Ao(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(go(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(go(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ju(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ju)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Uu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Uu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Uu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(fo=bu.prototype).setTimeout=function(e){this.P=e},fo.gb=function(e){e=e.target;var t=this.L;t&&3==Vc(e)?t.l():this.Ia(e)},fo.Ia=function(e){try{if(e==this.g)e:{var t=Vc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Yo||this.g&&(this.h.h||this.g.ga()||zc(this.g)))){this.I||4!=t||7==n||au(8==n||0>=r?3:2),Pu(this);var i=this.g.ba();this.N=i;t:if(Tu(this)){var a=zc(this.g);e="";var o=a.length,s=4==Vc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Du(this),Ou(this);var u="";break t}this.h.i=new mo.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oo(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,su(12),Du(this),Ou(this);break e}eu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lu(this,i)}this.U?(Cu(this,t,u),Yo&&this.i&&3==t&&($s(this.V,this.W,"tick",this.fb),this.W.start())):(eu(this.j,this.m,u,null),Lu(this,u)),4==t&&Du(this),this.i&&!this.I&&(4==t?il(this.l,this):(this.i=!1,Au(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,su(12)):(this.o=0,su(13)),Du(this),Ou(this)}}}catch(t){}},fo.fb=function(){if(this.g){var e=Vc(this.g),t=this.g.ga();this.C<t.length&&(Pu(this),Cu(this,e,t),this.i&&4!=e&&Au(this))}},fo.cancel=function(){this.I=!0,Du(this)},fo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(au(3),su(17)),Du(this),this.o=2,Ou(this)):Ru(this,this.Y-e)},(fo=ju.prototype).R=function(){Fu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},fo.T=function(){return Fu(this),this.g.concat()},fo.get=function(e,t){return Uu(this.h,e)?this.h[e]:t},fo.set=function(e,t){Uu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},fo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof zu){this.g=void 0!==t?t:e.g,Bu(this,e.j),this.s=e.s,Wu(this,e.i),Hu(this,e.m),this.l=e.l,t=e.h;var n=new rc;n.i=t.i,t.g&&(n.g=new ju(t.g),n.h=t.h),Ku(this,n),this.o=e.o}else e&&(n=String(e).match(Vu))?(this.g=!!t,Bu(this,n[1]||"",!0),this.s=Yu(n[2]||""),Wu(this,n[3]||"",!0),Hu(this,n[4]),this.l=Yu(n[5]||"",!0),Ku(this,n[6]||"",!0),this.o=Yu(n[7]||"")):(this.g=!!t,this.h=new rc(null,this.g))}function qu(e){return new zu(e)}function Bu(e,t,n){e.j=n?Yu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wu(e,t,n){e.i=n?Yu(t,!0):t}function Hu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ku(e,t,n){t instanceof rc?(e.h=t,function(e,t){t&&!e.j&&(ic(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ac(this,t),sc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ju(t,tc)),e.h=new rc(t,e.g))}function Gu(e,t,n){e.h.set(t,n)}function Qu(e){return Gu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ju(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$u),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $u(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ju(t,Xu,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ju(t,Xu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ju(n,"/"==n.charAt(0)?ec:Zu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ju(n,nc)),e.join("")};var Xu=/[#\/\?@]/g,Zu=/[#\?:]/g,ec=/[#\?]/g,tc=/[#\?@]/g,nc=/#/g;function rc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ic(e){e.g||(e.g=new ju,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ac(e,t){ic(e),t=uc(e,t),Uu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Uu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fu(e)))}function oc(e,t){return ic(e),t=uc(e,t),Uu(e.g.h,t)}function sc(e,t,n){ac(e,t),0<n.length&&(e.i=null,e.g.set(uc(e,t),Po(n)),e.h+=n.length)}function uc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fo=rc.prototype).add=function(e,t){ic(this),this.i=null,e=uc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fo.forEach=function(e,t){ic(this),this.g.forEach((function(n,r){Ao(n,(function(n){e.call(t,n,r,this)}),this)}),this)},fo.T=function(){ic(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},fo.R=function(e){ic(this);var t=[];if("string"===typeof e)oc(this,e)&&(t=Ro(t,this.g.get(uc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ro(t,e[n])}return t},fo.set=function(e,t){return ic(this),this.i=null,oc(this,e=uc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},fo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var cc=se((function e(t,n){Qi(this,e),this.h=t,this.g=n}));function lc(e){this.l=e||hc,mo.PerformanceNavigationTiming?e=0<(e=mo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mo.g&&mo.g.Ea&&mo.g.Ea()&&mo.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fc,hc=10;function dc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pc(e){return e.h?1:e.g?e.g.size:0}function vc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mc(e,t){e.g?e.g.add(t):e.h=t}function yc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Bi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Po(e.i)}function kc(){}function bc(){this.g=new kc}function wc(e,t,n){var r=n||"";try{Mu(e,(function(e,n){var i=e;ko(e)&&(i=Os(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _c(e){this.l=e.$b||null,this.j=e.ib||!1}function Ec(e,t){As.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ic,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lc.prototype.cancel=function(){if(this.i=gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Bi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},kc.prototype.stringify=function(e){return mo.JSON.stringify(e,void 0)},kc.prototype.parse=function(e){return mo.JSON.parse(e,void 0)},So(_c,hu),_c.prototype.g=function(){return new Ec(this.l,this.j)},_c.prototype.i=(fc={},function(){return fc}),So(Ec,As);var Ic=0;function Sc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Tc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cc(e)}function Cc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fo=Ec.prototype).open=function(e,t){if(this.readyState!=Ic)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cc(this)},fo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mo).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},fo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tc(this)),this.readyState=Ic},fo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof mo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},fo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tc(this):Cc(this),3==this.readyState&&Sc(this)}},fo.Ua=function(e){this.g&&(this.response=this.responseText=e,Tc(this))},fo.Ta=function(e){this.g&&(this.response=e,Tc(this))},fo.ha=function(){this.g&&Tc(this)},fo.setRequestHeader=function(e,t){this.v.append(e,t)},fo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ec.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nc=mo.JSON.parse;function Ac(e){As.call(this),this.headers=new ju,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rc,this.K=this.L=!1}So(Ac,As);var Rc="",Pc=/^https?$/i,Oc=["POST","PUT"];function Dc(e){return"content-type"==e.toLowerCase()}function Lc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mc(e),Fc(e)}function Mc(e){e.D||(e.D=!0,Rs(e,"complete"),Rs(e,"error"))}function jc(e){if(e.h&&"undefined"!=typeof vo&&(!e.C[1]||4!=Vc(e)||2!=e.ba()))if(e.v&&4==Vc(e))Ks(e.Fa,0,e);else if(Rs(e,"readystatechange"),4==Vc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vu)[1]||null;if(!a&&mo.self&&mo.self.location){var o=mo.self.location.protocol;a=o.substr(0,o.length-1)}i=!Pc.test(a?a.toLowerCase():"")}t=i}if(t)Rs(e,"complete"),Rs(e,"success");else{e.m=6;try{var s=2<Vc(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Mc(e)}}finally{Fc(e)}}}function Fc(e,t){if(e.g){Uc(e);var n=e.g,r=e.C[0]?yo:null;e.g=null,e.C=null,t||Rs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Uc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mo.clearTimeout(e.A),e.A=null)}function Vc(e){return e.g?e.g.readyState:0}function zc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Rc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gu(e,t,n))}function Bc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wc(e){this.za=0,this.l=[],this.h=new Zs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bc("baseRetryDelayMs",5e3,e),this.$a=Bc("retryDelaySeedMs",1e4,e),this.Ya=Bc("forwardChannelMaxRetries",2,e),this.ra=Bc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lc(e&&e.concurrentRequestLimit),this.Ca=new bc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Hc(e){if(Gc(e),3==e.G){var t=e.V++,n=qu(e.F);Gu(n,"SID",e.J),Gu(n,"RID",t),Gu(n,"TYPE","terminate"),$c(e,n),(t=new bu(e,e.h,t,void 0)).K=2,t.v=Qu(qu(n)),n=!1,mo.navigator&&mo.navigator.sendBeacon&&(n=mo.navigator.sendBeacon(t.v.toString(),"")),!n&&mo.Image&&((new Image).src=t.v,n=!0),n||(t.g=cl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Au(t)}sl(e)}function Kc(e){e.g&&(tl(e),e.g.cancel(),e.g=null)}function Gc(e){Kc(e),e.u&&(mo.clearTimeout(e.u),e.u=null),rl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&mo.clearTimeout(e.m),e.m=null)}function Qc(e,t){e.l.push(new cc(e.Za++,t)),3==e.G&&Yc(e)}function Yc(e){dc(e.i)||e.m||(e.m=!0,Vs(e.Ha,e),e.C=0)}function Jc(e,t){var n;n=t?t.m:e.V++;var r=qu(e.F);Gu(r,"SID",e.J),Gu(r,"RID",n),Gu(r,"AID",e.U),$c(e,r),e.o&&e.s&&qc(r,e.o,e.s),n=new bu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),mc(e.i,n),Iu(n,r,t)}function $c(e,t){e.j&&Mu({},(function(e,n){Gu(t,n,e)}))}function Xc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Eo(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{wc(l,o,"req"+c+"_")}catch(zl){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Zc(e){e.g||e.u||(e.Y=1,Vs(e.Ga,e),e.A=0)}function el(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=cu(Eo(e.Ga,e),al(e,e.A)),e.A++,!0)}function tl(e){null!=e.B&&(mo.clearTimeout(e.B),e.B=null)}function nl(e){e.g=new bu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qu(e.oa);Gu(t,"RID","rpc"),Gu(t,"SID",e.J),Gu(t,"CI",e.N?"0":"1"),Gu(t,"AID",e.U),$c(e,t),Gu(t,"TYPE","xmlhttp"),e.o&&e.s&&qc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Qu(qu(t)),n.s=null,n.U=!0,Su(n,e)}function rl(e){null!=e.v&&(mo.clearTimeout(e.v),e.v=null)}function il(e,t){var n=null;if(e.g==t){rl(e),tl(e),e.g=null;var r=2}else{if(!vc(e.i,t))return;n=t.D,yc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Rs(r=ru(),new uu(r,n,t,i)),Yc(e)}else Zc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(pc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=cu(Eo(e.Ha,e,t),al(e,e.C)),e.C++,!0))}(e,t)||2==r&&el(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ol(e,5);break;case 4:ol(e,10);break;case 3:ol(e,6);break;default:ol(e,2)}}function al(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ol(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Eo(e.jb,e);n||(n=new zu("//www.google.com/images/cleardot.gif"),mo.location&&"http"==mo.location.protocol||Bu(n,"https"),Qu(n)),function(e,t){var n=new Zs;if(mo.Image){var r=new Image;r.onload=Io(xc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Io(xc,n,r,"TestLoadImage: error",!1,t),r.onabort=Io(xc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Io(xc,n,r,"TestLoadImage: timeout",!1,t),mo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else su(2);e.G=0,e.j&&e.j.va(t),sl(e),Gc(e)}function sl(e){e.G=0,e.I=-1,e.j&&(0==gc(e.i).length&&0==e.l.length||(e.i.i.length=0,Po(e.l),e.l.length=0),e.j.ua())}function ul(e,t,n){var r=function(e){return e instanceof zu?qu(e):new zu(e,void 0)}(n);if(""!=r.i)t&&Wu(r,t+"."+r.i),Hu(r,r.m);else{var i=mo.location;r=function(e,t,n,r){var i=new zu(null,void 0);return e&&Bu(i,e),t&&Wu(i,t),n&&Hu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vo(e.aa,(function(e,t){Gu(r,t,e)})),t=e.D,n=e.sa,t&&n&&Gu(r,t,n),Gu(r,"VER",e.ma),$c(e,r),r}function cl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ac(new _c({ib:!0})):new Ac(e.qa)).L=e.H,t}function ll(){}function fl(){if(Go&&!(10<=Number(os)))throw Error("Environmental error: no available transport.")}function hl(e,t){As.call(this),this.g=new Wc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Oo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vl(this)}function dl(e){yu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pl(){gu.call(this),this.status=1}function vl(e){this.g=e}(fo=Ac.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vu.g(),this.C=this.u?du(this.u):du(vu),this.g.onreadystatechange=Eo(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Lc(this,a)}e=n||"";var i=new ju(this.headers);r&&Mu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Dc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=mo.FormData&&e instanceof mo.FormData,!(0<=No(Oc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uc(this),0<this.B&&((this.K=function(e){return Go&&is()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Eo(this.pa,this)):this.A=Ks(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Lc(this,a)}},fo.pa=function(){"undefined"!=typeof vo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rs(this,"timeout"),this.abort(8))},fo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Rs(this,"complete"),Rs(this,"abort"),Fc(this))},fo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fc(this,!0)),Ac.Z.M.call(this)},fo.Fa=function(){this.s||(this.F||this.v||this.l?jc(this):this.cb())},fo.cb=function(){jc(this)},fo.ba=function(){try{return 2<Vc(this)?this.g.status:-1}catch(fc){return-1}},fo.ga=function(){try{return this.g?this.g.responseText:""}catch(fc){return""}},fo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nc(t)}},fo.Da=function(){return this.m},fo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(fo=Wc.prototype).ma=8,fo.G=1,fo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},fo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new bu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Bo(n=zo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xc(this,t,r),Gu(i=qu(this.F),"RID",e),Gu(i,"CVER",22),this.D&&Gu(i,"X-HTTP-Session-Id",this.D),$c(this,i),this.o&&n&&qc(i,this.o,n),mc(this.i,t),this.Ra&&Gu(i,"TYPE","init"),this.ja?(Gu(i,"$req",r),Gu(i,"SID","null"),t.$=!0,Iu(t,i,null)):Iu(t,i,r),this.G=2}}else 3==this.G&&(e?Jc(this,e):0==this.l.length||dc(this.i)||Jc(this))},fo.Ga=function(){if(this.u=null,nl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cu(Eo(this.bb,this),e)}},fo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,su(10),Kc(this),nl(this))},fo.ab=function(){null!=this.v&&(this.v=null,Kc(this),el(this),su(19))},fo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),su(2)):(this.h.info("Failed to ping google.com"),su(1))},(fo=ll.prototype).xa=function(){},fo.wa=function(){},fo.va=function(){},fo.ua=function(){},fo.Oa=function(){},fl.prototype.g=function(e,t){return new hl(e,t)},So(hl,As),hl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Vs(Eo(e.hb,e,t))),su(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ul(e,null,e.W),Yc(e)},hl.prototype.close=function(){Hc(this.g)},hl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Qc(this.g,t)}else this.v?((t={}).__data__=Os(e),Qc(this.g,t)):Qc(this.g,e)},hl.prototype.M=function(){this.g.j=null,delete this.j,Hc(this.g),delete this.g,hl.Z.M.call(this)},So(dl,yu),So(pl,gu),So(vl,ll),vl.prototype.xa=function(){Rs(this.g,"a")},vl.prototype.wa=function(e){Rs(this.g,new dl(e))},vl.prototype.va=function(e){Rs(this.g,new pl(e))},vl.prototype.ua=function(){Rs(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,hl.prototype.send=hl.prototype.u,hl.prototype.open=hl.prototype.m,hl.prototype.close=hl.prototype.close,lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,fu.COMPLETE="complete",pu.EventType=mu,mu.OPEN="a",mu.CLOSE="b",mu.ERROR="c",mu.MESSAGE="d",As.prototype.listen=As.prototype.N,Ac.prototype.listenOnce=Ac.prototype.O,Ac.prototype.getLastError=Ac.prototype.La,Ac.prototype.getLastErrorCode=Ac.prototype.Da,Ac.prototype.getStatus=Ac.prototype.ba,Ac.prototype.getResponseJson=Ac.prototype.Qa,Ac.prototype.getResponseText=Ac.prototype.ga,Ac.prototype.send=Ac.prototype.ea;var ml=po.createWebChannelTransport=function(){return new fl},yl=po.getStatEventTarget=function(){return ru()},gl=po.ErrorCode=lu,kl=po.EventType=fu,bl=po.Event=tu,wl=po.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xl=po.FetchXmlHttpFactory=_c,_l=po.WebChannel=pu,El=po.XhrIo=Ac,Il="@firebase/firestore",Sl=function(){function e(t){Qi(this,e),this.uid=t}return se(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Sl.UNAUTHENTICATED=new Sl(null),Sl.GOOGLE_CREDENTIALS=new Sl("google-credentials-uid"),Sl.FIRST_PARTY=new Sl("first-party-uid"),Sl.MOCK_USER=new Sl("mock-user");var Tl="9.6.1",Cl=new ja("@firebase/firestore");function Nl(){return Cl.logLevel}function Al(e){if(Cl.logLevel<=Ca.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ol);Cl.debug.apply(Cl,["Firestore (".concat(Tl,"): ").concat(e)].concat(on(i)))}}function Rl(e){if(Cl.logLevel<=Ca.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ol);Cl.error.apply(Cl,["Firestore (".concat(Tl,"): ").concat(e)].concat(on(i)))}}function Pl(e){if(Cl.logLevel<=Ca.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ol);Cl.warn.apply(Cl,["Firestore (".concat(Tl,"): ").concat(e)].concat(on(i)))}}function Ol(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Tl,") INTERNAL ASSERTION FAILED: ")+e;throw Rl(t),new Error(t)}function Ll(e,t){e||Dl()}function Ml(e,t){return e}var jl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fl=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return se(n)}(Gi(Error)),Ul=se((function e(){var t=this;Qi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vl=se((function e(t,n){Qi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zl=function(){function e(){Qi(this,e)}return se(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ql=function(){function e(t){Qi(this,e),this.token=t,this.changeListener=null}return se(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bl=function(){function e(t){Qi(this,e),this.t=t,this.currentUser=Sl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return se(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ul;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ul,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Al("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Al("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ul)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Al("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ll("string"==typeof n.accessToken),new Vl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ll(null===e||"string"==typeof e),new Sl(e)}}]),e}(),Wl=se((function e(t,n,r){Qi(this,e),this.type="FirstParty",this.user=Sl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Hl=function(){function e(t,n,r){Qi(this,e),this.h=t,this.l=n,this.m=r}return se(e,[{key:"getToken",value:function(){return Promise.resolve(new Wl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Kl=se((function e(t){Qi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Gl=function(){function e(t){Qi(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return se(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Al("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Al("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Al("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Ll("string"==typeof e.token),new Kl(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ql=function(){function e(t,n){var r=this;Qi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return se(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Yl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ql.I=-1;var Jl=function(){function e(){Qi(this,e)}return se(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Yl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $l(e,t){return e<t?-1:e>t?1:0}function Xl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zl(e){return e+"\0"}var ef=function(){function e(t,n){if(Qi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fl(jl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fl(jl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fl(jl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fl(jl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return se(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$l(this.nanoseconds,e.nanoseconds):$l(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),tf=function(){function e(t){Qi(this,e),this.timestamp=t}return se(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ef(0,0))}}]),e}();function nf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function af(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var of=function(){function e(t,n,r){Qi(this,e),void 0===n?n=0:n>t.length&&Dl(),void 0===r?r=t.length-n:r>t.length-n&&Dl(),this.segments=t,this.offset=n,this.len=r}return se(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),sf=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Fl(jl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,on(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(of),uf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cf=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return uf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fl(jl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Fl(jl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fl(jl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Fl(jl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(of),lf=function(){function e(t){Qi(this,e),this.fields=t,t.sort(cf.comparator)}return se(e,[{key:"covers",value:function(e){var t,n=Bi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ff=function(){function e(t){Qi(this,e),this.binaryString=t}return se(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $l(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();ff.EMPTY_BYTE_STRING=new ff("");var hf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function df(e){if(Ll(!!e),"string"==typeof e){var t=0,n=hf.exec(e);if(Ll(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pf(e.seconds),nanos:pf(e.nanos)}}function pf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vf(e){return"string"==typeof e?ff.fromBase64String(e):ff.fromUint8Array(e)}function mf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yf(e){var t=e.mapValue.fields.__previous_value__;return mf(t)?yf(t):t}function gf(e){var t=df(e.mapValue.fields.__local_write_time__.timestampValue);return new ef(t.seconds,t.nanos)}function kf(e){return null==e}function bf(e){return 0===e&&1/e==-1/0}function wf(e){return"number"==typeof e&&Number.isInteger(e)&&!bf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var xf=function(){function e(t){Qi(this,e),this.path=t}return se(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===sf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(sf.fromString(t))}},{key:"fromName",value:function(t){return new e(sf.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return sf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new sf(t.slice()))}}]),e}();function _f(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mf(e)?4:10:Dl()}function Ef(e,t){var n=_f(e);if(n!==_f(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gf(e).isEqual(gf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=df(e.timestampValue),r=df(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vf(e.bytesValue).isEqual(vf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pf(e.geoPointValue.latitude)===pf(t.geoPointValue.latitude)&&pf(e.geoPointValue.longitude)===pf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pf(e.integerValue)===pf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pf(e.doubleValue),r=pf(t.doubleValue);return n===r?bf(n)===bf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xl(e.arrayValue.values||[],t.arrayValue.values||[],Ef);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nf(n)!==nf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ef(n[i],r[i])))return!1;return!0}(e,t);default:return Dl()}}function If(e,t){return void 0!==(e.values||[]).find((function(e){return Ef(e,t)}))}function Sf(e,t){var n=_f(e),r=_f(t);if(n!==r)return $l(n,r);switch(n){case 0:return 0;case 1:return $l(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pf(e.integerValue||e.doubleValue),r=pf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tf(e.timestampValue,t.timestampValue);case 4:return Tf(gf(e),gf(t));case 5:return $l(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vf(e),r=vf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$l(n[i],r[i]);if(0!==a)return a}return $l(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$l(pf(e.latitude),pf(t.latitude));return 0!==n?n:$l(pf(e.longitude),pf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sf(n[i],r[i]);if(a)return a}return $l(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=$l(r[o],a[o]);if(0!==s)return s;var u=Sf(n[r[o]],i[a[o]]);if(0!==u)return u}return $l(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dl()}}function Tf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $l(e,t);var n=df(e),r=df(t),i=$l(n.seconds,r.seconds);return 0!==i?i:$l(n.nanos,r.nanos)}function Cf(e){return Nf(e)}function Nf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=df(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Bi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Nf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Bi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Nf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Dl();var t,n}function Af(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Rf(e){return!!e&&"integerValue"in e}function Pf(e){return!!e&&"arrayValue"in e}function Of(e){return!!e&&"nullValue"in e}function Df(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lf(e){return!!e&&"mapValue"in e}function Mf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return rf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Mf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mf(e.arrayValue.values[r]);return n}return Object.assign({},e)}var jf=function(){function e(t){Qi(this,e),this.value=t}return se(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Lf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)}},{key:"setAll",value:function(e){var t=this,n=cf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Mf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ef(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Lf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){rf(t,(function(t,n){return e[t]=n}));var r,i=Bi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Mf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ff(e){var t=[];return rf(e.fields,(function(e,n){var r=new cf([e]);if(Lf(n)){var i=Ff(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Bi(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new lf(t)}var Uf=function(){function e(t,n,r,i,a){Qi(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return se(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=jf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=jf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,tf.min(),jf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,jf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,jf.empty(),2)}}]),e}(),Vf=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Qi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function zf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Vf(e,t,n,r,i,a,o)}function qf(e){var t=Ml(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Cf(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),kf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=th(t.startAt)),t.endAt&&(n+="|ub:",n+=th(t.endAt)),t.R=n}return t.R}function Bf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ef(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ah(e.startAt,t.startAt)&&ah(e.endAt,t.endAt)}function Wf(e){return xf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Hf=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Sf(t,this.value)):null!==t&&_f(this.value)===_f(t)&&this.v(Sf(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dl()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Kf(e,t,r):"array-contains"===t?new Jf(e,r):"in"===t?new $f(e,r):"not-in"===t?new Xf(e,r):"array-contains-any"===t?new Zf(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Gf(e,n):new Qf(e,n)}}]),n}(function(){return se((function e(){Qi(this,e)}))}());var Kf=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,e,r,i)).key=xf.fromName(i.referenceValue),a}return se(n,[{key:"matches",value:function(e){var t=xf.comparator(e.key,this.key);return this.v(t)}}]),n}(Hf),Gf=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,"in",r)).keys=Yf("in",r),i}return se(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Hf),Qf=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,"not-in",r)).keys=Yf("not-in",r),i}return se(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Hf);function Yf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return xf.fromName(e.referenceValue)}))}var Jf=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"array-contains",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pf(t)&&If(t.arrayValue,this.value)}}]),n}(Hf),$f=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"in",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&If(this.value.arrayValue,t)}}]),n}(Hf),Xf=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"not-in",r)}return se(n,[{key:"matches",value:function(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!If(this.value.arrayValue,t)}}]),n}(Hf),Zf=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"array-contains-any",r)}return se(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return If(t.value.arrayValue,e)}))}}]),n}(Hf),eh=se((function e(t,n){Qi(this,e),this.position=t,this.before=n}));function th(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Cf(e)})).join(","))}var nh=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Qi(this,e),this.field=t,this.dir=n}));function rh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ih(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?xf.comparator(xf.fromName(o.referenceValue),n.key):Sf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ef(e.position[n],t.position[n]))return!1;return!0}var oh=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Qi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function sh(e,t,n,r,i,a,o,s){return new oh(e,t,n,r,i,a,o,s)}function uh(e){return new oh(e)}function ch(e){return!kf(e.limit)&&"F"===e.limitType}function lh(e){return!kf(e.limit)&&"L"===e.limitType}function fh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hh(e){var t,n=Bi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function dh(e){return null!==e.collectionGroup}function ph(e){var t=Ml(e);if(null===t.S){t.S=[];var n=hh(t),r=fh(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new nh(n)),t.S.push(new nh(cf.keyField(),"asc"));else{var i,a=!1,o=Bi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new nh(cf.keyField(),u))}}}return t.S}function vh(e){var t=Ml(e);if(!t.D)if("F"===t.limitType)t.D=zf(t.path,t.collectionGroup,ph(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Bi(ph(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new nh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new eh(t.endAt.position,!t.endAt.before):null,u=t.startAt?new eh(t.startAt.position,!t.startAt.before):null;t.D=zf(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function mh(e,t,n){return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yh(e,t){return Bf(vh(e),vh(t))&&e.limitType===t.limitType}function gh(e){return"".concat(qf(vh(e)),"|lt:").concat(e.limitType)}function kh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Cf(t.value));var t})).join(", "),"]")),kf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+th(e.startAt)),e.endAt&&(t+=", endAt: "+th(e.endAt)),"Target(".concat(t,")")}(vh(e)),"; limitType=").concat(e.limitType,")")}function bh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Bi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Bi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ih(e.startAt,ph(e),t))&&(!e.endAt||!ih(e.endAt,ph(e),t))}(e,t)}function wh(e){return function(t,n){var r,i=!1,a=Bi(ph(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=xh(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function xh(e,t,n){var r=e.field.isKeyField()?xf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sf(r,i):Dl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dl()}}function _h(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function Eh(e){return{integerValue:""+e}}function Ih(e,t){return wf(t)?Eh(t):_h(e,t)}var Sh=se((function e(){Qi(this,e),this._=void 0}));function Th(e,t,n){return e instanceof Ah?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rh?Ph(e,t):e instanceof Oh?Dh(e,t):function(e,t){var n=Nh(e,t),r=Mh(n)+Mh(e.N);return Rf(n)&&Rf(e.N)?Eh(r):_h(e.k,r)}(e,t)}function Ch(e,t,n){return e instanceof Rh?Ph(e,t):e instanceof Oh?Dh(e,t):n}function Nh(e,t){return e instanceof Lh?Rf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ah=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n)}(Sh),Rh=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).elements=e,r}return se(n)}(Sh);function Ph(e,t){var n,r=jh(t),i=Bi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ef(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Oh=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).elements=e,r}return se(n)}(Sh);function Dh(e,t){var n,r=jh(t),i=Bi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ef(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lh=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).k=e,i.N=r,i}return se(n)}(Sh);function Mh(e){return pf(e.integerValue||e.doubleValue)}function jh(e){return Pf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fh=se((function e(t,n){Qi(this,e),this.field=t,this.transform=n}));var Uh=se((function e(t,n){Qi(this,e),this.version=t,this.transformResults=n})),Vh=function(){function e(t,n){Qi(this,e),this.updateTime=t,this.exists=n}return se(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qh=se((function e(){Qi(this,e)}));function Bh(e,t,n){e instanceof Qh?function(e,t,n){var r=e.value.clone(),i=$h(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yh?function(e,t,n){if(zh(e.precondition,t)){var r=$h(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wh(e,t,n){e instanceof Qh?function(e,t,n){if(zh(e.precondition,t)){var r=e.value.clone(),i=Xh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Gh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Yh?function(e,t,n){if(zh(e.precondition,t)){var r=Xh(e.fieldTransforms,n,t),i=t.data;i.setAll(Jh(e)),i.setAll(r),t.convertToFoundDocument(Gh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){zh(e.precondition,t)&&t.convertToNoDocument(tf.min())}(e,t)}function Hh(e,t){var n,r=null,i=Bi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Nh(a.transform,o||null);null!=s&&(null==r&&(r=jf.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Kh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rh&&t instanceof Rh||e instanceof Oh&&t instanceof Oh?Xl(e.elements,t.elements,Ef):e instanceof Lh&&t instanceof Lh?Ef(e.N,t.N):e instanceof Ah&&t instanceof Ah}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gh(e){return e.isFoundDocument()?e.version:tf.min()}var Qh=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Qi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return se(n)}(qh),Yh=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Qi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return se(n)}(qh);function Jh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $h(e,t,n){var r=new Map;Ll(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ch(o,s,n[i]))}return r}function Xh(e,t,n){var r,i=new Map,a=Bi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Th(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Zh,ed,td=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return se(n)}(qh),nd=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return se(n)}(qh),rd=se((function e(t){Qi(this,e),this.count=t}));function id(e){switch(e){default:return Dl();case jl.CANCELLED:case jl.UNKNOWN:case jl.DEADLINE_EXCEEDED:case jl.RESOURCE_EXHAUSTED:case jl.INTERNAL:case jl.UNAVAILABLE:case jl.UNAUTHENTICATED:return!1;case jl.INVALID_ARGUMENT:case jl.NOT_FOUND:case jl.ALREADY_EXISTS:case jl.PERMISSION_DENIED:case jl.FAILED_PRECONDITION:case jl.ABORTED:case jl.OUT_OF_RANGE:case jl.UNIMPLEMENTED:case jl.DATA_LOSS:return!0}}function ad(e){if(void 0===e)return Rl("GRPC error has no .code"),jl.UNKNOWN;switch(e){case Zh.OK:return jl.OK;case Zh.CANCELLED:return jl.CANCELLED;case Zh.UNKNOWN:return jl.UNKNOWN;case Zh.DEADLINE_EXCEEDED:return jl.DEADLINE_EXCEEDED;case Zh.RESOURCE_EXHAUSTED:return jl.RESOURCE_EXHAUSTED;case Zh.INTERNAL:return jl.INTERNAL;case Zh.UNAVAILABLE:return jl.UNAVAILABLE;case Zh.UNAUTHENTICATED:return jl.UNAUTHENTICATED;case Zh.INVALID_ARGUMENT:return jl.INVALID_ARGUMENT;case Zh.NOT_FOUND:return jl.NOT_FOUND;case Zh.ALREADY_EXISTS:return jl.ALREADY_EXISTS;case Zh.PERMISSION_DENIED:return jl.PERMISSION_DENIED;case Zh.FAILED_PRECONDITION:return jl.FAILED_PRECONDITION;case Zh.ABORTED:return jl.ABORTED;case Zh.OUT_OF_RANGE:return jl.OUT_OF_RANGE;case Zh.UNIMPLEMENTED:return jl.UNIMPLEMENTED;case Zh.DATA_LOSS:return jl.DATA_LOSS;default:return Dl()}}(ed=Zh||(Zh={}))[ed.OK=0]="OK",ed[ed.CANCELLED=1]="CANCELLED",ed[ed.UNKNOWN=2]="UNKNOWN",ed[ed.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ed[ed.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ed[ed.NOT_FOUND=5]="NOT_FOUND",ed[ed.ALREADY_EXISTS=6]="ALREADY_EXISTS",ed[ed.PERMISSION_DENIED=7]="PERMISSION_DENIED",ed[ed.UNAUTHENTICATED=16]="UNAUTHENTICATED",ed[ed.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ed[ed.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ed[ed.ABORTED=10]="ABORTED",ed[ed.OUT_OF_RANGE=11]="OUT_OF_RANGE",ed[ed.UNIMPLEMENTED=12]="UNIMPLEMENTED",ed[ed.INTERNAL=13]="INTERNAL",ed[ed.UNAVAILABLE=14]="UNAVAILABLE",ed[ed.DATA_LOSS=15]="DATA_LOSS";var od=function(){function e(t,n){Qi(this,e),this.comparator=t,this.root=n||ud.EMPTY}return se(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ud.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ud.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sd(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sd(this.root,e,this.comparator,!0)}}]),e}(),sd=function(){function e(t,n,r,i){Qi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return se(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ud=function(){function e(t,n,r,i,a){Qi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return se(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dl();if(this.right.isRed())throw Dl();var e=this.left.check();if(e!==this.right.check())throw Dl();return e+(this.isRed()?0:1)}}]),e}();ud.EMPTY=null,ud.RED=!0,ud.BLACK=!1,ud.EMPTY=new(function(){function e(){Qi(this,e),this.size=0}return se(e,[{key:"key",get:function(){throw Dl()}},{key:"value",get:function(){throw Dl()}},{key:"color",get:function(){throw Dl()}},{key:"left",get:function(){throw Dl()}},{key:"right",get:function(){throw Dl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ud(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cd=function(){function e(t){Qi(this,e),this.comparator=t,this.data=new od(this.comparator)}return se(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ld(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ld(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ld=function(){function e(t){Qi(this,e),this.iter=t}return se(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),fd=new od(xf.comparator);function hd(){return fd}var dd=new od(xf.comparator);function pd(){return dd}var vd=new od(xf.comparator);function md(){return vd}var yd=new cd(xf.comparator);function gd(){for(var e=yd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var kd=new cd($l);function bd(){return kd}var wd=function(){function e(t,n,r,i,a){Qi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return se(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,xd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(tf.min(),r,bd(),hd(),gd())}}]),e}(),xd=function(){function e(t,n,r,i,a){Qi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return se(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ff.EMPTY_BYTE_STRING,n,gd(),gd(),gd())}}]),e}(),_d=se((function e(t,n,r,i){Qi(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),Ed=se((function e(t,n){Qi(this,e),this.targetId=t,this.O=n})),Id=se((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ff.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Qi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sd=function(){function e(){Qi(this,e),this.M=0,this.L=Nd(),this.B=ff.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return se(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=gd(),t=gd(),n=gd();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dl()}})),new xd(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Nd()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Td=function(){function e(t){Qi(this,e),this.et=t,this.nt=new Map,this.st=hd(),this.it=Cd(),this.rt=new cd($l)}return se(e,[{key:"ot",value:function(e){var t,n=Bi(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Bi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Dl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Wf(i))if(0===n){var a=new xf(i.path);this.ct(t,a,Uf.newNoDocument(a,tf.min()))}else Ll(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Wf(a.target)){var o=new xf(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Uf.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=gd();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new wd(e,n,this.rt,this.st,r);return this.st=hd(),this.it=Cd(),this.rt=new cd($l),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Sd,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new cd($l),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Al("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Sd),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Cd(){return new od(xf.comparator)}function Nd(){return new od(xf.comparator)}var Ad={asc:"ASCENDING",desc:"DESCENDING"},Rd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pd=se((function e(t,n){Qi(this,e),this.databaseId=t,this.C=n}));function Od(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dd(e,t){return e.C?t.toBase64():t.toUint8Array()}function Ld(e,t){return Od(e,t.toTimestamp())}function Md(e){return Ll(!!e),tf.fromTimestamp(function(e){var t=df(e);return new ef(t.seconds,t.nanos)}(e))}function jd(e,t){return function(e){return new sf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fd(e){var t=sf.fromString(e);return Ll(cp(t)),t}function Ud(e,t){return jd(e.databaseId,t.path)}function Vd(e,t){var n=Fd(t);if(n.get(1)!==e.databaseId.projectId)throw new Fl(jl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fl(jl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xf(Wd(n))}function zd(e,t){return jd(e.databaseId,t)}function qd(e){var t=Fd(e);return 4===t.length?sf.emptyPath():Wd(t)}function Bd(e){return new sf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wd(e){return Ll(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hd(e,t,n){return{name:Ud(e,t),fields:n.value.mapValue.fields}}function Kd(e,t,n){var r=Vd(e,t.name),i=Md(t.updateTime),a=new jf({mapValue:{fields:t.fields}}),o=Uf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Gd(e,t){return"found"in t?function(e,t){Ll(!!t.found),t.found.name,t.found.updateTime;var n=Vd(e,t.found.name),r=Md(t.found.updateTime),i=new jf({mapValue:{fields:t.found.fields}});return Uf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ll(!!t.missing),Ll(!!t.readTime);var n=Vd(e,t.missing),r=Md(t.readTime);return Uf.newNoDocument(n,r)}(e,t):Dl()}function Qd(e,t){var n;if(t instanceof Qh)n={update:Hd(e,t.key,t.value)};else if(t instanceof td)n={delete:Ud(e,t.key)};else if(t instanceof Yh)n={update:Hd(e,t.key,t.data),updateMask:up(t.fieldMask)};else{if(!(t instanceof nd))return Dl();n={verify:Ud(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ah)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lh)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Dl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ld(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dl()}(e,t.precondition)),n}function Yd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Vh.updateTime(Md(e.updateTime)):void 0!==e.exists?Vh.exists(e.exists):Vh.none()}(t.currentDocument):Vh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ll("REQUEST_TIME"===t.setToServerValue),n=new Ah;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Rh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Oh(i)}else"increment"in t?n=new Lh(e,t.increment):Dl();var a=cf.fromServerFormat(t.fieldPath);return new Fh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Vd(e,t.update.name),a=new jf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new lf(t.map((function(e){return cf.fromServerFormat(e)})))}(t.updateMask);return new Yh(i,a,o,n,r)}return new Qh(i,a,n,r)}if(t.delete){var s=Vd(e,t.delete);return new td(s,n)}if(t.verify){var u=Vd(e,t.verify);return new nd(u,n)}return Dl()}function Jd(e,t){return{documents:[zd(e,t.path)]}}function $d(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Df(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NAN"}};if(Of(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Df(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NAN"}};if(Of(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(e.field),op:rp(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ip(e.field),direction:np(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||kf(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=ep(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ep(t.endAt)),n}function Xd(e){var t=qd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ll(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Zd(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new nh(ap(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return kf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=tp(n.startAt));var l=null;return n.endAt&&(l=tp(n.endAt)),sh(t,i,s,o,u,"F",c,l)}function Zd(e){return e?void 0!==e.unaryFilter?[sp(e)]:void 0!==e.fieldFilter?[op(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Zd(e)})).reduce((function(e,t){return e.concat(t)})):Dl():[]}function ep(e){return{before:e.before,values:e.position}}function tp(e){var t=!!e.before,n=e.values||[];return new eh(n,t)}function np(e){return Ad[e]}function rp(e){return Rd[e]}function ip(e){return{fieldPath:e.canonicalString()}}function ap(e){return cf.fromServerFormat(e.fieldPath)}function op(e){return Hf.create(ap(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dl()}}(e.fieldFilter.op),e.fieldFilter.value)}function sp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ap(e.unaryFilter.field);return Hf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ap(e.unaryFilter.field);return Hf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ap(e.unaryFilter.field);return Hf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ap(e.unaryFilter.field);return Hf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dl()}}function up(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function cp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function lp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hp(t)),t=fp(e.get(n),t);return hp(t)}function fp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hp(e){return e+"\x01\x01"}function dp(e){var t=e.length;if(Ll(t>=2),2===t)return Ll("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Dl(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Dl()}a=o+2}return new sf(r)}var pp=se((function e(t,n){Qi(this,e),this.seconds=t,this.nanoseconds=n})),vp=se((function e(t,n,r){Qi(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));vp.store="owner",vp.key="owner";var mp=se((function e(t,n,r){Qi(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));mp.store="mutationQueues",mp.keyPath="userId";var yp=se((function e(t,n,r,i,a){Qi(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));yp.store="mutations",yp.keyPath="batchId",yp.userMutationsIndex="userMutationsIndex",yp.userMutationsKeyPath=["userId","batchId"];var gp=function(){function e(){Qi(this,e)}return se(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,lp(t)]}},{key:"key",value:function(e,t,n){return[e,lp(t),n]}}]),e}();gp.store="documentMutations",gp.PLACEHOLDER=new gp;var kp=se((function e(t,n){Qi(this,e),this.path=t,this.readTime=n})),bp=se((function e(t,n){Qi(this,e),this.path=t,this.version=n})),wp=se((function e(t,n,r,i,a,o){Qi(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));wp.store="remoteDocuments",wp.readTimeIndex="readTimeIndex",wp.readTimeIndexPath="readTime",wp.collectionReadTimeIndex="collectionReadTimeIndex",wp.collectionReadTimeIndexPath=["parentPath","readTime"];var xp=se((function e(t){Qi(this,e),this.byteSize=t}));xp.store="remoteDocumentGlobal",xp.key="remoteDocumentGlobalKey";var _p=se((function e(t,n,r,i,a,o,s){Qi(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));_p.store="targets",_p.keyPath="targetId",_p.queryTargetsIndexName="queryTargetsIndex",_p.queryTargetsKeyPath=["canonicalId","targetId"];var Ep=se((function e(t,n,r){Qi(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Ep.store="targetDocuments",Ep.keyPath=["targetId","path"],Ep.documentTargetsIndex="documentTargetsIndex",Ep.documentTargetsKeyPath=["path","targetId"];var Ip=se((function e(t,n,r,i){Qi(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Ip.key="targetGlobalKey",Ip.store="targetGlobal";var Sp=se((function e(t,n){Qi(this,e),this.collectionId=t,this.parent=n}));Sp.store="collectionParents",Sp.keyPath=["collectionId","parent"];var Tp=se((function e(t,n,r,i){Qi(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Tp.store="clientMetadata",Tp.keyPath="clientId";var Cp=se((function e(t,n,r){Qi(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Cp.store="bundles",Cp.keyPath="bundleId";var Np=se((function e(t,n,r){Qi(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Np.store="namedQueries",Np.keyPath="name";var Ap=[mp.store,yp.store,gp.store,wp.store,_p.store,vp.store,Ip.store,Ep.store].concat([Tp.store]).concat([xp.store]).concat([Sp.store]).concat([Cp.store,Np.store]),Rp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pp=function(){function e(){Qi(this,e),this.onCommittedListeners=[]}return se(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Op=function(){function e(t){var n=this;Qi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return se(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Bi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Dp=function(){function e(t,n){var r=this;Qi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Ul,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new jp(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=qp(e.target.error);r.It.reject(new jp(t,n))}}return se(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Al("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Up(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new jp(n,t)}}}]),e}(),Lp=function(){function e(t,n,r){Qi(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(ra())&&Rl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return se(e,[{key:"Ct",value:function(){var e=Oi(ji().mark((function e(t){var n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Al("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new jp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fl(jl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fl(jl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new jp(t,n))},i.onupgradeneeded=function(e){Al("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Al("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Oi(ji().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ji().mark((function e(){var n,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Dp.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Op.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Al("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Al("SimpleDb","Removing database:",e),Vp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!ca())return!1;if(e.vt())return!0;var t=ra(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/cinemania",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:728929605676:web:a7473c265bf73c79a79989",REACT_APP_FIREBASE_AUTH_DOMAIN:"personal-watch-list-staging.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyBQ5KMidtA22WEvySJpRX1PX0cs_plaoOs",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"728929605676",REACT_APP_FIREBASE_PROJECT_ID:"personal-watch-list-staging",REACT_APP_FIREBASE_STORAGE_BUCKET:"personal-watch-list-staging.appspot.com",REACT_APP_KEY:"93b1a7f46da88b2175e0e4f85e54e022"})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Mp=function(){function e(t){Qi(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return se(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Vp(this.$t.delete())}}]),e}(),jp=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,jl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return se(n)}(Fl);function Fp(e){return"IndexedDbTransactionError"===e.name}var Up=function(){function e(t){Qi(this,e),this.store=t}return se(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Al("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Al("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vp(n)}},{key:"add",value:function(e){return Al("SimpleDb","ADD",this.store.name,e,e),Vp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Vp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Al("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Al("SimpleDb","DELETE",this.store.name,e),Vp(this.store.delete(e))}},{key:"count",value:function(){return Al("SimpleDb","COUNT",this.store.name),Vp(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Al("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Op((function(n,r){t.onerror=function(e){var t=qp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Op((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Mp(i),o=t(i.primaryKey,i.value,a);if(o instanceof Op){var s=o.catch((function(e){return a.done(),Op.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return Op.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Vp(e){return new Op((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qp(e.target.error);n(t)}}))}var zp=!1;function qp(e){var t=Lp.Pt(ra());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zp||(zp=!0,setTimeout((function(){throw r}),0)),r}}return e}var Bp=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return se(n)}(Pp);function Wp(e,t){var n=Ml(e);return Lp.Dt(n.Wt,t)}var Hp=function(){function e(t,n,r,i){Qi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return se(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Bi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Wh(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Bi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Wh(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(tf.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(function(e,t){return Kh(e,t)}))&&Xl(this.baseMutations,e.baseMutations,(function(e,t){return Kh(e,t)}))}}]),e}(),Kp=function(){function e(t,n,r,i){Qi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return se(e,null,[{key:"from",value:function(t,n,r){Ll(t.mutations.length===r.length);for(var i=md(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Gp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ff.EMPTY_BYTE_STRING;Qi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return se(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Qp=se((function e(t){Qi(this,e),this.Gt=t}));function Yp(e,t){if(t.document)return Kd(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=xf.fromSegments(t.noDocument.path),r=ev(t.noDocument.readTime),i=Uf.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=xf.fromSegments(t.unknownDocument.path),o=ev(t.unknownDocument.version);return Uf.newUnknownDocument(a,o)}return Dl()}function Jp(e,t,n){var r=$p(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Ud(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Od(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new wp(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Zp(t.version),c=t.hasCommittedMutations;return new wp(null,new kp(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Zp(t.version);return new wp(new bp(l,f),null,null,!0,r,i)}return Dl()}function $p(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xp(e){var t=new ef(e[0],e[1]);return tf.fromTimestamp(t)}function Zp(e){var t=e.toTimestamp();return new pp(t.seconds,t.nanoseconds)}function ev(e){var t=new ef(e.seconds,e.nanoseconds);return tf.fromTimestamp(t)}function tv(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yd(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yd(e.Gt,t)})),s=ef.fromMillis(t.localWriteTimeMs);return new Hp(t.batchId,s,n,o)}function nv(e){var t,n,r=ev(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ev(e.lastLimboFreeSnapshotVersion):tf.min();return void 0!==e.query.documents?(Ll(1===(n=e.query).documents.length),t=vh(uh(qd(n.documents[0])))):t=function(e){return vh(Xd(e))}(e.query),new Gp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ff.fromBase64String(e.resumeToken))}function rv(e,t){var n,r=Zp(t.snapshotVersion),i=Zp(t.lastLimboFreeSnapshotVersion);n=Wf(t.target)?Jd(e.Gt,t.target):$d(e.Gt,t.target);var a=t.resumeToken.toBase64();return new _p(t.targetId,qf(t.target),r,a,t.sequenceNumber,i,n)}function iv(e){var t=Xd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mh(t,t.limit,"L"):t}var av=function(){function e(){Qi(this,e)}return se(e,[{key:"getBundleMetadata",value:function(e,t){return ov(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ev(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ov(e).put({bundleId:(n=t).id,createTime:Zp(Md(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return sv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:iv(t.bundledQuery),readTime:ev(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return sv(e).put(function(e){return{name:e.name,readTime:Zp(Md(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ov(e){return Wp(e,Cp.store)}function sv(e){return Wp(e,Np.store)}var uv=function(){function e(){Qi(this,e),this.zt=new cv}return se(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Op.resolve()}},{key:"getCollectionParents",value:function(e,t){return Op.resolve(this.zt.getEntries(t))}}]),e}(),cv=function(){function e(){Qi(this,e),this.index={}}return se(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cd(sf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cd(sf.comparator)).toArray()}}]),e}(),lv=function(){function e(){Qi(this,e),this.Ht=new cv}return se(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:lp(i)};return fv(e).put(a)}return Op.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zl(t),""],!1,!0);return fv(e).Bt(r).next((function(e){var r,i=Bi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dp(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function fv(e){return Wp(e,Sp.store)}var hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dv=function(){function e(t,n,r){Qi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return se(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function pv(e,t,n){var r=e.store(yp.store),i=e.store(gp.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Ll(1===s)})));var c,l=[],f=Bi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=gp.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Op.waitFor(a).next((function(){return l}))}function vv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dl();t=e.noDocument}return JSON.stringify(t).length}dv.DEFAULT_COLLECTION_PERCENTILE=10,dv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dv.DEFAULT=new dv(41943040,dv.DEFAULT_COLLECTION_PERCENTILE,dv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dv.DISABLED=new dv(-1,0,0);var mv=function(){function e(t,n,r,i){Qi(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return se(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gv(e).jt({index:yp.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=kv(e),o=gv(e);return o.add({}).next((function(s){Ll("number"==typeof s);var u,c=new Hp(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Qd(e.Gt,t)})),i=n.mutations.map((function(t){return Qd(e.Gt,t)}));return new yp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new cd((function(e,t){return $l(e.canonicalString(),t.canonicalString())})),d=Bi(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=gp.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,gp.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),Op.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return gv(e).get(t).next((function(e){return e?(Ll(e.userId===n.userId),tv(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Op.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return gv(e).jt({index:yp.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ll(t.batchId>=r),a=tv(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gv(e).jt({index:yp.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gv(e).Bt(yp.userMutationsIndex,n).next((function(e){return e.map((function(e){return tv(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gp.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return kv(e).jt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=dp(l);if(c===n.userId&&t.path.isEqual(h))return gv(e).get(f).next((function(e){if(!e)throw Dl();Ll(e.userId===n.userId),a.push(tv(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cd($l),i=[];return t.forEach((function(t){var a=gp.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=kv(e).jt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=dp(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Op.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=gp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new cd($l);return kv(e).jt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=dp(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(gv(e).get(t).next((function(e){if(null===e)throw Dl();Ll(e.userId===n.userId),r.push(tv(n.k,e))})))})),Op.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return pv(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Op.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Op.resolve();var r=IDBKeyRange.lowerBound(gp.prefixForUser(t.userId)),i=[];return kv(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dp(e[1]);i.push(a)}else r.done()})).next((function(){Ll(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return yv(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return bv(e).get(this.userId).next((function(e){return e||new mp(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Ll(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function yv(e,t,n){var r=gp.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return kv(e).jt({range:a,Kt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function gv(e){return Wp(e,yp.store)}function kv(e){return Wp(e,gp.store)}function bv(e){return Wp(e,mp.store)}var wv=function(){function e(t){Qi(this,e),this.se=t}return se(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),xv=function(){function e(t,n){Qi(this,e),this.referenceDelegate=t,this.k=n}return se(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new wv(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return tf.fromTimestamp(new ef(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return _v(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Ll(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return _v(e).jt((function(o,s){var u=nv(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Op.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return _v(e).jt((function(e,n){var r=nv(n);t(r)}))}},{key:"oe",value:function(e){return Ev(e).get(Ip.key).next((function(e){return Ll(null!==e),e}))}},{key:"ae",value:function(e,t){return Ev(e).put(Ip.key,t)}},{key:"ce",value:function(e,t){return _v(e).put(rv(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _v(e).jt({range:r,index:_p.queryTargetsIndexName},(function(e,n,r){var a=nv(n);Bf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Iv(e);return t.forEach((function(t){var o=lp(t.path);i.push(a.put(new Ep(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Op.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Iv(e);return Op.forEach(t,(function(t){var a=lp(t.path);return Op.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Iv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Iv(e),i=gd();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=dp(e[1]),a=new xf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lp(t.path),r=IDBKeyRange.bound([n],[Zl(n)],!1,!0),i=0;return Iv(e).jt({index:Ep.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return _v(e).get(t).next((function(e){return e?nv(e):null}))}}]),e}();function _v(e){return Wp(e,_p.store)}function Ev(e){return Wp(e,Ip.store)}function Iv(e){return Wp(e,Ep.store)}function Sv(e){return Tv.apply(this,arguments)}function Tv(){return Tv=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jl.FAILED_PRECONDITION&&t.message===Rp){e.next=2;break}throw t;case 2:Al("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Cv(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=$l(r,o);return 0===c?$l(i,s):c}var Nv=function(){function e(t){Qi(this,e),this.he=t,this.buffer=new cd(Cv),this.le=0}return se(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Cv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Av=function(){function e(t,n){Qi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return se(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Al("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Oi(ji().mark((function n(){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Fp(n.t0)){n.next=12;break}Al("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Sv(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Rv=function(){function e(t,n){Qi(this,e),this.ge=t,this.params=n}return se(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Op.resolve(Ql.I);var r=new Nv(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Al("LruGarbageCollector","Garbage collection skipped; disabled"),Op.resolve(hv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Al("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),hv):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Al("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Nl()<=Ca.DEBUG&&Al("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Pv=function(){function e(t,n){Qi(this,e),this.db=t,this.garbageCollector=function(e,t){return new Rv(e,t)}(this,n)}return se(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ov(e,n)}},{key:"removeReference",value:function(e,t,n){return Ov(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ov(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return bv(e).Qt((function(r){return yv(e,r,t).next((function(e){return e&&(n=!0),Op.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Iv(e).delete([0,lp(o.path)])}))}));i.push(u)}})).next((function(){return Op.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ov(e,t)}},{key:"Ie",value:function(e,t){var n,r=Iv(e),i=Ql.I;return r.jt({index:Ep.documentTargetsIndex},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Ql.I&&t(new xf(dp(n)),i),i=c,n=s):i=Ql.I})).next((function(){i!==Ql.I&&t(new xf(dp(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ov(e,t){return Iv(e).put(function(e,t){return new Ep(0,lp(e.path),t)}(t,e.currentSequenceNumber))}var Dv=function(){function e(t,n){Qi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return se(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Bi(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){rf(this.inner,(function(t,n){var r,i=Bi(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return af(this.inner)}}]),e}(),Lv=function(){function e(){Qi(this,e),this.changes=new Dv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return se(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:tf.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Uf.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Op.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mv=function(){function e(t,n){Qi(this,e),this.k=t,this.Jt=n}return se(e,[{key:"addEntry",value:function(e,t,n){return Uv(e).put(Vv(t),n)}},{key:"removeEntry",value:function(e,t){var n=Uv(e),r=Vv(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Uv(e).get(Vv(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Uv(e).get(Vv(t)).next((function(e){return{document:n.Pe(t,e),size:vv(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=hd();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=hd(),i=new od(xf.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,vv(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Op.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Uv(e).jt({range:r},(function(e,t,r){for(var o=xf.fromSegments(e);a&&xf.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=hd(),a=t.path.length+1,o={};if(n.isEqual(tf.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=$p(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=wp.collectionReadTimeIndex}return Uv(e).jt(o,(function(e,n,o){if(e.length===a){var s=Yp(r.k,n);t.path.isPrefixOf(s.key.path)?bh(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new jv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Fv(e).get(xp.key).next((function(e){return Ll(!!e),e}))}},{key:"Re",value:function(e,t){return Fv(e).put(xp.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Yp(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(tf.min()))return n}return Uf.newInvalidDocument(e)}}]),e}(),jv=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Dv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return se(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cd((function(e,t){return $l(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Jp(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=vv(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Jp(t.De.k,Uf.newNoDocument(a,tf.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Op.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Lv);function Fv(e){return Wp(e,xp.store)}function Uv(e){return Wp(e,wp.store)}function Vv(e){return e.path.toArray()}var zv=function(){function e(t){Qi(this,e),this.k=t}return se(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Ll(n<r&&n>=0&&r<=11);var a=new Dp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(vp.store)}(e),function(e){e.createObjectStore(mp.store,{keyPath:mp.keyPath}),e.createObjectStore(yp.store,{keyPath:yp.keyPath,autoIncrement:!0}).createIndex(yp.userMutationsIndex,yp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gp.store)}(e),qv(e),function(e){e.createObjectStore(wp.store)}(e));var o=Op.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ep.store),e.deleteObjectStore(_p.store),e.deleteObjectStore(Ip.store)}(e),qv(e)),o=o.next((function(){return function(e){var t=e.store(Ip.store),n=new Ip(0,0,tf.min().toTimestamp(),0);return t.put(Ip.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(yp.store).Bt().next((function(n){e.deleteObjectStore(yp.store),e.createObjectStore(yp.store,{keyPath:yp.keyPath,autoIncrement:!0}).createIndex(yp.userMutationsIndex,yp.userMutationsKeyPath,{unique:!0});var r=t.store(yp.store),i=n.map((function(e){return r.put(e)}));return Op.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Tp.store,{keyPath:Tp.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(xp.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(wp.store);t.createIndex(wp.readTimeIndex,wp.readTimeIndexPath,{unique:!1}),t.createIndex(wp.collectionReadTimeIndex,wp.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Cp.store,{keyPath:Cp.keyPath})}(e),function(e){e.createObjectStore(Np.store,{keyPath:Np.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(wp.store).jt((function(e,n){t+=vv(n)})).next((function(){var n=new xp(t);return e.store(xp.store).put(xp.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(mp.store),r=e.store(yp.store);return n.Bt().next((function(n){return Op.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(yp.userMutationsIndex,i).next((function(r){return Op.forEach(r,(function(r){Ll(r.userId===n.userId);var i=tv(t.k,r);return pv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Ep.store),n=e.store(wp.store);return e.store(Ip.store).get(Ip.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new sf(n),o=function(e){return[0,lp(e)]}(a);r.push(t.get(o).next((function(n){return n?Op.resolve():function(n){return t.put(new Ep(0,lp(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Op.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Sp.store,{keyPath:Sp.keyPath});var n=t.store(Sp.store),r=new cv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lp(i)})}};return t.store(wp.store).jt({Kt:!0},(function(e,t){var n=new sf(e);return i(n.popLast())})).next((function(){return t.store(gp.store).jt({Kt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],dp(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(_p.store);return n.jt((function(e,r){var i=nv(r),a=rv(t.k,i);return n.put(a)}))}}]),e}();function qv(e){e.createObjectStore(Ep.store,{keyPath:Ep.keyPath}).createIndex(Ep.documentTargetsIndex,Ep.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(_p.store,{keyPath:_p.keyPath}).createIndex(_p.queryTargetsIndexName,_p.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ip.store)}var Bv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wv=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Qi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Fl(jl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pv(this,i),this.Ge=n+"main",this.k=new Qp(u),this.ze=new Lp(this.Ge,11,new zv(this.k)),this.He=new xv(this.referenceDelegate,this.k),this.Jt=new lv,this.Je=function(e,t){return new Mv(e,t)}(this.k,this.Jt),this.Ye=new av,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Rl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return se(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fl(jl.FAILED_PRECONDITION,Bv);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Ql(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Oi(ji().mark((function n(r){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Oi(ji().mark((function t(n){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Kv(t).put(new Tp(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Fp(t))return Al("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Al("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Hv(e).get(vp.key).next((function(e){return Op.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Kv(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Oi(ji().mark((function e(){var t,n,r,i,a=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wp(e,Tp.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Op.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Bi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Op.resolve(!0):Hv(e).get(vp.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Fl(jl.FAILED_PRECONDITION,Bv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Kv(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Al("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Oi(ji().mark((function e(){var t=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[vp.store,Tp.store],(function(e){var n=new Bp(e,Ql.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Kv(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return mv.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Al("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Ap,(function(a){return i=new Bp(a,r.Be?r.Be.next():Ql.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Rl("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Fl(jl.FAILED_PRECONDITION,Rp);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Hv(e).get(vp.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fl(jl.FAILED_PRECONDITION,Bv)}))}},{key:"cn",value:function(e){var t=new vp(this.clientId,this.allowTabSynchronization,Date.now());return Hv(e).put(vp.key,t)}},{key:"an",value:function(e){var t=this,n=Hv(e);return n.get(vp.key).next((function(e){return t.un(e)?(Al("IndexedDbPersistence","Releasing primary lease."),n.delete(vp.key)):Op.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Rl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!aa()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Al("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Rl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(So){Rl("Failed to set zombie client id.",So)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(So){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Lp.bt()}}]),e}();function Hv(e){return Wp(e,vp.store)}function Kv(e){return Wp(e,Tp.store)}function Gv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Qv=se((function e(t,n){Qi(this,e),this.progress=t,this.In=n})),Yv=function(){function e(t,n,r){Qi(this,e),this.Je=t,this.An=n,this.Jt=r}return se(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Bi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Bi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return xf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):dh(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new xf(t)).next((function(e){var t=pd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=pd();return this.Jt.getCollectionParents(e,i).next((function(o){return Op.forEach(o,(function(o){var s=function(e,t){return new oh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Bi(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Bi(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Uf.newInvalidDocument(c),r=r.insert(c,l)),Wh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){bh(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=gd(),a=Bi(t);try{for(a.s();!(r=a.n()).done;){var o,s=Bi(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Yh&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Jv=function(){function e(t,n,r,i){Qi(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return se(e,null,[{key:"$n",value:function(t,n){var r,i=gd(),a=gd(),o=Bi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$v=function(){function e(){Qi(this,e)}return se(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(tf.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(ch(t)||lh(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Nl()<=Ca.DEBUG&&Al("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kh(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new cd(wh(e));return t.forEach((function(t,r){bh(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Nl()<=Ca.DEBUG&&Al("QueryEngine","Using full collection scan to execute query:",kh(t)),this.On.getDocumentsMatchingQuery(e,t,tf.min())}}]),e}(),Xv=function(){function e(t,n,r,i){Qi(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new od($l),this.Kn=new Dv((function(e){return qf(e)}),Bf),this.jn=tf.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Yv(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return se(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Zv(e,t,n,r){return new Xv(e,t,n,r)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Yv(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=gd(),u=Bi(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Bi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Bi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Bi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t){var n=Ml(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Op.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ll(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function rm(e){var t=Ml(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function im(e,t){var n=Ml(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Ll(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=hd();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(am(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(tf.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Op.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function am(e,t,n,r,i){var a=gd();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=hd();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(tf.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Al("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function om(e,t){var n=Ml(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function sm(e,t){var n=Ml(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Op.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Gp(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function um(e,t,n){return cm.apply(this,arguments)}function cm(){return cm=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ml(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Fp(e.t1)){e.next=12;break}throw e.t1;case 12:Al("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cm.apply(this,arguments)}function lm(e,t,n){var r=Ml(e),i=tf.min(),a=gd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ml(e),i=r.Kn.get(n);return void 0!==i?Op.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,vh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:tf.min(),n?a:gd())})).next((function(e){return{documents:e,zn:a}}))}))}function fm(e,t){var n=Ml(e),r=Ml(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function hm(e){var t=Ml(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ml(e),i=hd(),a=$p(n),o=Uv(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:wp.readTimeIndex,range:s},(function(e,t){var n=Yp(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Xp(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function dm(e){return pm.apply(this,arguments)}function pm(){return pm=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ml(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Uv(e),n=tf.min();return t.jt({index:wp.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Xp(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t,n,r){return mm.apply(this,arguments)}function mm(){return mm=Oi(ji().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ml(t),o=gd(),s=hd(),u=md(),c=Bi(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,sm(a,function(e){return vh(uh(sf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return am(e,d,s,tf.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t){return gm.apply(this,arguments)}function gm(){return gm=Oi(ji().mark((function e(t,n){var r,i,a,o=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:gd(),e.next=3,sm(t,vh(iv(n.bundledQuery)));case 3:return i=e.sent,a=Ml(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Md(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(ff.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}var km=function(){function e(t){Qi(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return se(e,[{key:"getBundleMetadata",value:function(e,t){return Op.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Md(n.createTime)}),Op.resolve()}},{key:"getNamedQuery",value:function(e,t){return Op.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:iv(e.bundledQuery),readTime:Md(e.readTime)}}(t)),Op.resolve()}}]),e}(),bm=function(){function e(){Qi(this,e),this.ts=new cd(wm.es),this.ns=new cd(wm.ss)}return se(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new wm(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new wm(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new xf(new sf([])),r=new wm(n,e),i=new wm(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new xf(new sf([])),n=new wm(t,e),r=new wm(t,e+1),i=gd();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new wm(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),wm=function(){function e(t,n){Qi(this,e),this.key=t,this.fs=n}return se(e,null,[{key:"es",value:function(e,t){return xf.comparator(e.key,t.key)||$l(e.fs,t.fs)}},{key:"ss",value:function(e,t){return $l(e.fs,t.fs)||xf.comparator(e.key,t.key)}}]),e}(),xm=function(){function e(t,n){Qi(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new cd(wm.es)}return se(e,[{key:"checkEmpty",value:function(e){return Op.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Hp(i,t,n,r);this.An.push(a);var o,s=Bi(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new wm(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Op.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Op.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Op.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Op.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Op.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new wm(t,0),i=new wm(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Op.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cd($l);return t.forEach((function(e){var t=new wm(e,0),i=new wm(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Op.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;xf.isDocumentKey(i)||(i=i.child(""));var a=new wm(new xf(i),0),o=new cd($l);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Op.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ll(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Op.forEach(t.mutations,(function(i){var a=new wm(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new wm(t,0),r=this.ws.firstAfterOrEqual(n);return Op.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Op.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),_m=function(){function e(t,n){Qi(this,e),this.Jt=t,this.Ts=n,this.docs=new od(xf.comparator),this.size=0}return se(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Op.resolve(n?n.document.clone():Uf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Uf.newInvalidDocument(e))})),Op.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=hd(),i=new xf(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||bh(t,c)&&(r=r.insert(c.key,c.clone()))}return Op.resolve(r)}},{key:"Es",value:function(e,t){return Op.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Em(this)}},{key:"getSize",value:function(e){return Op.resolve(this.size)}}]),e}(),Em=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).De=e,r}return se(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Op.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Lv),Im=function(){function e(t){Qi(this,e),this.persistence=t,this.Is=new Dv((function(e){return qf(e)}),Bf),this.lastRemoteSnapshotVersion=tf.min(),this.highestTargetId=0,this.As=0,this.Rs=new bm,this.targetCount=0,this.Ps=wv.ie()}return se(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Op.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Op.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Op.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Op.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Op.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new wv(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Op.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Op.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Op.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Op.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Op.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Op.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Op.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Op.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Op.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Op.resolve(n)}},{key:"containsKey",value:function(e,t){return Op.resolve(this.Rs.containsKey(t))}}]),e}(),Sm=function(){function e(t,n){var r=this;Qi(this,e),this.bs={},this.Be=new Ql(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Im(this),this.Jt=new uv,this.Je=function(e,t){return new _m(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Qp(n),this.Ye=new km(this.k)}return se(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new xm(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Al("MemoryPersistence","Starting transaction:",e);var i=new Tm(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Op.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Tm=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return se(n)}(Pp),Cm=function(){function e(t){Qi(this,e),this.persistence=t,this.Cs=new bm,this.Ns=null}return se(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Dl()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Op.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Op.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Op.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Op.forEach(this.xs,(function(r){var i=xf.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Op.or([function(){return Op.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Nm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Am(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Rm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Pm=function(){function e(t,n,r,i){Qi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return se(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fl(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Rl("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Om=function(){function e(t,n,r){Qi(this,e),this.targetId=t,this.state=n,this.error=r}return se(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fl(i.error.code,i.error.message))),a?new e(t,i.state,r):(Rl("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Dm=function(){function e(t,n){Qi(this,e),this.clientId=t,this.activeTargetIds=n}return se(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bd(),o=0;i&&o<r.activeTargetIds.length;++o)i=wf(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Rl("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Lm=function(){function e(t,n){Qi(this,e),this.clientId=t,this.onlineState=n}return se(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Rl("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Mm=function(){function e(){Qi(this,e),this.activeTargetIds=bd()}return se(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jm=function(){function e(t,n,r,i,a){Qi(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new od($l),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Nm(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Mm),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return se(e,[{key:"start",value:function(){var e=Oi(ji().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Bi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Nm(this.persistenceKey,i)))&&(o=Dm.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=Bi(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Rm(this.persistenceKey,e));if(n){var r=Om.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Rm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Al("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Al("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Al("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Al("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Rl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Oi(ji().mark((function e(){var r,i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Ql.I;if(null!=e)try{var n=JSON.parse(e);Ll("number"==typeof n),t=n}catch(e){Rl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Ql.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Pm(this.currentUser,e,t,n),i=Am(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Am(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Rm(this.persistenceKey,e),i=new Om(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Dm.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Pm.Fs(new Sl(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Om.Fs(r,t)}},{key:"Zs",value:function(e){return Lm.Fs(e)}},{key:"fi",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Al("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=bd();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Fm=function(){function e(){Qi(this,e),this.pi=new Mm,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return se(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Mm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Um=function(){function e(){Qi(this,e)}return se(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Vm=function(){function e(){var t=this;Qi(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return se(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Al("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Bi(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Al("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Bi(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qm=function(){function e(t){Qi(this,e),this.Vi=t.Vi,this.Si=t.Si}return se(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Bm=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return se(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new El;o.listenOnce(kl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case gl.NO_ERROR:var t=o.getResponseJson();Al("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gl.TIMEOUT:Al("Connection",'RPC "'+e+'" timed out'),a(new Fl(jl.DEADLINE_EXCEEDED,"Request time out"));break;case gl.HTTP_ERROR:var n=o.getStatus();if(Al("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jl).indexOf(t)>=0?t:jl.UNKNOWN}(r.status);a(new Fl(s,r.message))}else a(new Fl(jl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fl(jl.UNAVAILABLE,"Connection failed."));break;default:Dl()}}finally{Al("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ml(),a=yl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new xl({})),this.qi(o.initMessageHeaders,t,n),ia()||sa()||ra().indexOf("Electron/")>=0||ua()||ra().indexOf("MSAppHost/")>=0||oa()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Al("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new qm({Vi:function(e){l?Al("Connection","Not sending because WebChannel is closed:",e):(c||(Al("Connection","Opening WebChannel transport."),u.open(),c=!0),Al("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,_l.EventType.OPEN,(function(){l||Al("Connection","WebChannel transport opened.")})),h(u,_l.EventType.CLOSE,(function(){l||(l=!0,Al("Connection","WebChannel transport closed"),f.Fi())})),h(u,_l.EventType.ERROR,(function(e){l||(l=!0,Pl("Connection","WebChannel transport errored:",e),f.Fi(new Fl(jl.UNAVAILABLE,"The operation could not be completed")))})),h(u,_l.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ll(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Al("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Zh[e];if(void 0!==t)return ad(t)}(a),s=i.message;void 0===o&&(o=jl.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Fl(o,s)),u.close()}else Al("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,bl.STAT_EVENT,(function(e){e.stat===wl.PROXY?Al("Connection","Detected buffering proxy"):e.stat===wl.NOPROXY&&Al("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Qi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return se(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Al("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Al("RestConnection","Received: ",e),e}),(function(t){throw Pl("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=zm[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Wm(){return"undefined"!=typeof window?window:null}function Hm(){return"undefined"!=typeof document?document:null}function Km(e){return new Pd(e,!0)}var Gm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Qi(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return se(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Al("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Qm=function(){function e(t,n,r,i,a,o,s,u){Qi(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Gm(t,n)}return se(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===jl.RESOURCE_EXHAUSTED?(Rl(n.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===jl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Fl(jl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Al("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Al("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ym=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a,o,s){var u;return Qi(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return se(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Ll(void 0===t||"string"==typeof t),ff.fromBase64String(t||"")):(Ll(void 0===t||t instanceof Uint8Array),ff.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?jl.UNKNOWN:ad(e.code);return new Fl(t,e.message||"")}(o);n=new Id(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Vd(e,u.document.name),l=Md(u.document.updateTime),f=new jf({mapValue:{fields:u.document.fields}}),h=Uf.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new _d(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Vd(e,v.document),y=v.readTime?Md(v.readTime):tf.min(),g=Uf.newNoDocument(m,y),k=v.removedTargetIds||[];n=new _d([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Vd(e,b.document),x=b.removedTargetIds||[];n=new _d([],x,w,null)}else{if(!("filter"in t))return Dl();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new rd(E),S=_.targetId;n=new Ed(S,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return tf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?tf.min():t.readTime?Md(t.readTime):tf.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Bd(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Wf(r)?{documents:Jd(e,r)}:{query:$d(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Dd(e,t.resumeToken):t.snapshotVersion.compareTo(tf.min())>0&&(n.readTime=Od(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Bd(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Qm),Jm=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a,o,s){var u;return Qi(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return se(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,qi(Vi(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Ll(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Ll(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Md(e.updateTime):Md(t);return n.isEqual(tf.min())&&(n=Md(t)),new Uh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Md(e.commitTime);return this.listener.Cr(n,t)}return Ll(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Bd(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qd(t.k,e)}))};this.gr(n)}}]),n}(Qm),$m=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a){var o;return Qi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return se(n,[{key:"Fr",value:function(){if(this.$r)throw new Fl(jl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fl(jl.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fl(jl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return se((function e(){Qi(this,e)}))}()),Xm=function(){function e(t,n){Qi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return se(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Rl(t),this.Lr=!1):Al("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Zm=se((function e(t,n,r,i,a){var o=this;Qi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ly(o),!e.t0){e.next=5;break}return Al("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ml(t)).Gr.add(4),e.next=4,ny(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,ey(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Xm(r,i)}));function ey(e){return ty.apply(this,arguments)}function ty(){return ty=Oi(ji().mark((function e(t){var n,r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ly(t)){e.next=18;break}n=Bi(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ty.apply(this,arguments)}function ny(e){return ry.apply(this,arguments)}function ry(){return ry=Oi(ji().mark((function e(t){var n,r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bi(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ry.apply(this,arguments)}function iy(e,t){var n=Ml(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),cy(n)?uy(n):jy(n).lr()&&oy(n,t))}function ay(e,t){var n=Ml(e),r=jy(n);n.Wr.delete(t),r.lr()&&sy(n,t),0===n.Wr.size&&(r.lr()?r._r():ly(n)&&n.Jr.set("Unknown"))}function oy(e,t){e.Yr.X(t.targetId),jy(e).br(t)}function sy(e,t){e.Yr.X(t),jy(e).vr(t)}function uy(e){e.Yr=new Td({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),jy(e).start(),e.Jr.Br()}function cy(e){return ly(e)&&!jy(e).hr()&&e.Wr.size>0}function ly(e){return 0===Ml(e).Gr.size}function fy(e){e.Yr=void 0}function hy(e){return dy.apply(this,arguments)}function dy(){return dy=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){oy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fy(t),cy(t)?(t.Jr.Kr(n),uy(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e,t,n){return yy.apply(this,arguments)}function yy(){return yy=Oi(ji().mark((function e(t,n,r){var i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Id&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Bi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Al("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _d?t.Yr.ot(n):n instanceof Ed?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(tf.min())){e.next=29;break}return e.prev=14,e.next=17,rm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(ff.EMPTY_BYTE_STRING,n.snapshotVersion)),sy(e,t);var r=new Gp(n.target,t,1,n.sequenceNumber);oy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Al("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),yy.apply(this,arguments)}function gy(e,t,n){return ky.apply(this,arguments)}function ky(){return ky=Oi(ji().mark((function e(t,n,r){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fp(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,ny(t);case 5:t.Jr.set("Offline"),r||(r=function(){return rm(t.localStore)}),t.asyncQueue.enqueueRetryable(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,ey(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(e,t){return t().catch((function(n){return gy(e,n,t)}))}function wy(e){return xy.apply(this,arguments)}function xy(){return xy=Oi(ji().mark((function e(t){var n,r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ml(t),r=Fy(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!_y(n)){e.next=19;break}return e.prev=3,e.next=6,om(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Ey(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gy(n,e.t0);case 17:e.next=2;break;case 19:Iy(n)&&Sy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),xy.apply(this,arguments)}function _y(e){return ly(e)&&e.Qr.length<10}function Ey(e,t){e.Qr.push(t);var n=Fy(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Iy(e){return ly(e)&&!Fy(e).hr()&&e.Qr.length>0}function Sy(e){Fy(e).start()}function Ty(e){return Cy.apply(this,arguments)}function Cy(){return Cy=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fy(t).kr();case 1:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ny(e){return Ay.apply(this,arguments)}function Ay(){return Ay=Oi(ji().mark((function e(t){var n,r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fy(t),r=Bi(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function Ry(e,t,n){return Py.apply(this,arguments)}function Py(){return Py=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Kp.from(i,n,r),e.next=3,by(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,wy(t);case 5:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Oy(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Fy(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!id(i=n.code)||i===jl.ABORTED){e.next=7;break}return r=t.Qr.shift(),Fy(t).wr(),e.next=5,by(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,wy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Iy(t)&&Sy(t);case 5:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return My=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ml(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,ey(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,ny(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function jy(e){return e.Xr||(e.Xr=function(e,t,n){var r=Ml(e);return r.Fr(),new Ym(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:hy.bind(null,e),Ni:py.bind(null,e),Pr:my.bind(null,e)}),e.zr.push(function(){var t=Oi(ji().mark((function t(n){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),cy(e)?uy(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:fy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Fy(e){return e.Zr||(e.Zr=function(e,t,n){var r=Ml(e);return r.Fr(),new Jm(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Ty.bind(null,e),Ni:Oy.bind(null,e),Nr:Ny.bind(null,e),Cr:Ry.bind(null,e)}),e.zr.push(function(){var t=Oi(ji().mark((function t(n){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,wy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Al("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Uy=function(){function e(t,n,r,i,a){Qi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return se(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fl(jl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vy(e,t){if(Rl("AsyncQueue","".concat(t,": ").concat(e)),Fp(e))return new Fl(jl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zy=function(){function e(t){Qi(this,e),this.comparator=t?function(e,n){return t(e,n)||xf.comparator(e.key,n.key)}:function(e,t){return xf.comparator(e.key,t.key)},this.keyedMap=pd(),this.sortedSet=new od(this.comparator)}return se(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),qy=function(){function e(){Qi(this,e),this.eo=new od(xf.comparator)}return se(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Dl():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),By=function(){function e(t,n,r,i,a,o,s,u){Qi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return se(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,zy.emptySet(n),a,r,i,!0,!1)}}]),e}(),Wy=se((function e(){Qi(this,e),this.so=void 0,this.listeners=[]})),Hy=se((function e(){Qi(this,e),this.queries=new Dv((function(e){return gh(e)}),yh),this.onlineState="Unknown",this.io=new Set}));function Ky(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=Oi(ji().mark((function e(t,n){var r,i,a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ml(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Wy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Vy(e.t0,"Initialization of query '".concat(kh(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Xy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Gy.apply(this,arguments)}function Qy(e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=Oi(ji().mark((function e(t,n){var r,i,a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ml(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Jy(e,t){var n,r=Ml(e),i=!1,a=Bi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Bi(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Xy(r)}function $y(e,t,n){var r=Ml(e),i=r.queries.get(t);if(i){var a,o=Bi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Xy(e){e.io.forEach((function(e){e.next()}))}var Zy=function(){function e(t,n,r){Qi(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return se(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Bi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new By(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=By.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),eg=function(){function e(t,n){Qi(this,e),this.payload=t,this.byteLength=n}return se(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),tg=function(){function e(t){Qi(this,e),this.k=t}return se(e,[{key:"Hn",value:function(e){return Vd(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Kd(this.k,e.document,!1):Uf.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Md(e)}}]),e}(),ng=function(){function e(t,n,r){Qi(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=rg(t)}return se(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new tg(this.k),i=Bi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=Bi(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||gd()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Oi(ji().mark((function e(){var t,n,r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vm(this.localStore,new tg(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Bi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ym(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Qv(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ig=se((function e(t){Qi(this,e),this.key=t})),ag=se((function e(t){Qi(this,e),this.key=t})),og=function(){function e(t,n){Qi(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=gd(),this.mutatedKeys=gd(),this.Ao=wh(t),this.Ro=new zy(this.Ao)}return se(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new qy,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=ch(this.query)&&i.size===this.query.limit?i.last():null,c=lh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=bh(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),ch(this.query)||lh(this.query))for(;o.size>this.query.limit;){var l=ch(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dl()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new By(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new qy,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=gd(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new ag(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new ig(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=gd();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return By.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),sg=se((function e(t,n,r){Qi(this,e),this.query=t,this.targetId=n,this.view=r})),ug=se((function e(t){Qi(this,e),this.key=t,this.$o=!1})),cg=function(){function e(t,n,r,i,a,o){Qi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Dv((function(e){return gh(e)}),yh),this.Mo=new Map,this.Lo=new Set,this.Bo=new od(xf.comparator),this.Uo=new Map,this.qo=new bm,this.Ko={},this.jo=new Map,this.Qo=wv.re(),this.onlineState="Unknown",this.Wo=void 0}return se(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rk(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,sm(r.localStore,vh(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,hg(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&iy(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(e,t,n,r){return dg.apply(this,arguments)}function dg(){return dg=Oi(ji().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Oi(ji().mark((function e(t,n,r,i){var a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,lm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Og(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lm(t.localStore,n,!0);case 3:return a=e.sent,o=new og(n,a.zn),s=o.bo(a.documents),u=xd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Og(t,r,c.Co),l=new sg(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t){return vg.apply(this,arguments)}function vg(){return vg=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ml(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!yh(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,um(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ay(r.remoteStore,i.targetId),Rg(r,i.targetId)})).catch(Sv);case 9:e.next=14;break;case 11:return Rg(r,i.targetId),e.next=14,um(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function mg(e,t,n){return yg.apply(this,arguments)}function yg(){return yg=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ik(t),e.prev=1,e.next=4,function(e,t){var n,r=Ml(e),i=ef.now(),a=t.reduce((function(e,t){return e.add(t.key)}),gd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Bi(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Hh(c,n.get(c.key));null!=l&&s.push(new Yh(c.key,l,Ff(l.value.mapValue),Vh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new od($l)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Mg(i,a.changes);case 9:return e.next=11,wy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),yg.apply(this,arguments)}function gg(e,t){return kg.apply(this,arguments)}function kg(){return kg=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),e.prev=1,e.next=4,im(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Ll(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Ll(n.$o):e.removedDocuments.size>0&&(Ll(n.$o),n.$o=!1))})),e.next=8,Mg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Sv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),kg.apply(this,arguments)}function bg(e,t,n){var r=Ml(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ml(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Bi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Xy(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wg(e,t,n){return xg.apply(this,arguments)}function xg(){return xg=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u,c;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ml(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new od(xf.comparator)).insert(o,Uf.newNoDocument(o,tf.min())),u=gd().add(o),c=new wd(tf.min(),new Map,new cd($l),s,u),e.next=9,gg(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Lg(i),e.next=16;break;case 14:return e.next=16,um(i.localStore,n,!1).then((function(){return Rg(i,n,r)})).catch(Sv);case 16:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function _g(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),i=n.batch.batchId,e.prev=1,e.next=4,nm(r.localStore,n);case 4:return a=e.sent,Ag(r,i,null),Ng(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Mg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Eg.apply(this,arguments)}function Ig(e,t,n){return Sg.apply(this,arguments)}function Sg(){return Sg=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ml(t),e.prev=1,e.next=4,function(e,t){var n=Ml(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Ll(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ag(i,n,r),Ng(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Mg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sg.apply(this,arguments)}function Tg(e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ly((r=Ml(t)).remoteStore)||Al("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ml(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Vy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Cg.apply(this,arguments)}function Ng(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Ag(e,t,n){var r=Ml(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Rg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Bi(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Pg(e,t)}))}function Pg(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(ay(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Lg(e))}function Og(e,t,n){var r,i=Bi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ig?(e.qo.addReference(a.key,t),Dg(e,a)):a instanceof ag?(Al("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Pg(e,a.key)):Dl()}}catch(o){i.e(o)}finally{i.f()}}function Dg(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Al("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Lg(e))}function Lg(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new xf(sf.fromString(t)),r=e.Qo.next();e.Uo.set(r,new ug(n)),e.Bo=e.Bo.insert(n,r),iy(e.remoteStore,new Gp(vh(uh(n.path)),r,2,Ql.I))}}function Mg(e,t,n){return jg.apply(this,arguments)}function jg(){return jg=Oi(ji().mark((function e(t,n,r){var i,a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ml(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Jv.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Op.forEach(n,(function(t){return Op.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Op.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Fp(e.t0)){e.next=10;break}throw e.t0;case 10:Al("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Bi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ml(t)).currentUser.isEqual(n)){e.next=11;break}return Al("SyncEngine","User change. New user:",n.toKey()),e.next=5,em(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Fl(jl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Mg(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Ug.apply(this,arguments)}function Vg(e,t){var n=Ml(e),r=n.Uo.get(t);if(r&&r.$o)return gd().add(r.key);var i=gd(),a=n.Mo.get(t);if(!a)return i;var o,s=Bi(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function zg(e,t){return qg.apply(this,arguments)}function qg(){return qg=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),e.next=3,lm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Og(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Bg(e){return Wg.apply(this,arguments)}function Wg(){return Wg=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ml(t),e.abrupt("return",hm(n.localStore).then((function(e){return Mg(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e,t,n,r){return Kg.apply(this,arguments)}function Kg(){return Kg=Oi(ji().mark((function e(t,n,r,i){var a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ml(t),e.next=3,function(e,t){var n=Ml(e),r=Ml(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Op.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,wy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Ag(a,n,i||null),Ng(a,n),function(e,t){Ml(Ml(e).An).ee(t)}(a.localStore,n)):Dl();case 11:return e.next=13,Mg(a,o);case 13:e.next=16;break;case 15:Al("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t){return Qg.apply(this,arguments)}function Qg(){return Qg=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rk(r=Ml(t)),ik(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Yg(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Ly(r.remoteStore,!0);case 9:o=Bi(a);try{for(o.s();!(s=o.n()).done;)u=s.value,iy(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Rg(r,t),um(r.localStore,t,!0)})),ay(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Yg(r,c);case 21:return function(e){var t=Ml(e);t.Uo.forEach((function(e,n){ay(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new od(xf.comparator)}(r),r.Wo=!1,e.next=25,Ly(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function Yg(e,t,n){return Jg.apply(this,arguments)}function Jg(){return Jg=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ml(t),a=[],o=[],s=Bi(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,sm(i.localStore,vh(f[0]));case 11:l=e.sent,h=Bi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,zg(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fm(i.localStore,c);case 36:return y=e.sent,e.next=39,sm(i.localStore,y);case 39:return l=e.sent,e.next=42,hg(i,$g(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Jg.apply(this,arguments)}function $g(e){return sh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xg(e){var t=Ml(e);return Ml(Ml(t.localStore).persistence).Tn()}function Zg(e,t,n,r){return ek.apply(this,arguments)}function ek(){return ek=Oi(ji().mark((function e(t,n,r,i){var a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ml(t)).Wo){e.next=5;break}Al("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,hm(a.localStore);case 11:return o=e.sent,s=wd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Mg(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,um(a.localStore,n,!0);case 18:return Rg(a,n,i),e.abrupt("break",21);case 20:Dl();case 21:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=rk(t)).Wo){e.next=45;break}a=Bi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return Al("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,fm(i.localStore,s);case 12:return u=e.sent,e.next=15,sm(i.localStore,u);case 15:return c=e.sent,e.next=18,hg(i,$g(u),c.targetId,!1);case 18:iy(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Bi(r),e.prev=30,h=ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,um(i.localStore,t,!1).then((function(){ay(i.remoteStore,t),Rg(i,t)})).catch(Sv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),nk.apply(this,arguments)}function rk(e){var t=Ml(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wg.bind(null,t),t.Fo.Pr=Jy.bind(null,t.eventManager),t.Fo.zo=$y.bind(null,t.eventManager),t}function ik(e){var t=Ml(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_g.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ig.bind(null,t),t}function ak(e,t,n){var r=Ml(e);(function(){var e=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ml(e),r=Md(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(rg(i)),a=new ng(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Mg(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Ml(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Pl("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var ok=function(){function e(){Qi(this,e),this.synchronizeTabs=!1}return se(e,[{key:"initialize",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Km(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Zv(this.persistence,new $v,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Sm(Cm.ks,this.k)}},{key:"Jo",value:function(e){return new Fm}},{key:"terminate",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),sk=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return se(n,[{key:"initialize",value:function(){var e=Oi(ji().mark((function e(t){var r=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(Vi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,dm(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,ik(this.ta.syncEngine);case 8:return e.next=10,wy(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Zv(this.persistence,new $v,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Av(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Gv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dv.withCacheSize(this.cacheSizeBytes):dv.DEFAULT;return new Wv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Wm(),Hm(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Fm}}]),n}(ok),uk=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return se(n,[{key:"initialize",value:function(){var e=Oi(ji().mark((function e(t){var r,i=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(Vi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof jm,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Hg.bind(null,r),gi:Zg.bind(null,r),yi:tk.bind(null,r),Tn:Xg.bind(null,r),_i:Bg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gg(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Wm();if(!jm.bt(t))throw new Fl(jl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(sk),ck=function(){function e(){Qi(this,e)}return se(e,[{key:"initialize",value:function(){var e=Oi(ji().mark((function e(t,n){var r=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fg.bind(null,this.syncEngine),e.next=12,Ly(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Hy}},{key:"createDatastore",value:function(e){var t,n=Km(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bm(t));return function(e,t,n,r){return new $m(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return bg(o.syncEngine,e,0)},a=Vm.bt()?new Vm:new Um,new Zm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new cg(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ml(t),Al("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,ny(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function lk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Oi(ji().mark((function r(){var i;return ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var fk=function(){function e(t){Qi(this,e),this.observer=t,this.muted=!1}return se(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hk=function(){function e(t,n){var r=this;Qi(this,e),this.sa=t,this.k=n,this.metadata=new Ul,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return se(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Oi(ji().mark((function e(){var t,n,r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new eg(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Oi(ji().mark((function e(){var t,n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Oi(ji().mark((function e(){var t,n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dk=function(){function e(t){Qi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return se(e,[{key:"lookup",value:function(){var e=Oi(ji().mark((function e(t){var n,r=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fl(jl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),i=Bd(r.k)+"/documents",a={documents:n.map((function(e){return Ud(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Gd(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Ll(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new td(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Oi(ji().mark((function e(){var t,n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=xf.fromPath(t);n.mutations.push(new nd(r,n.precondition(r)))})),e.next=7,function(){var e=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ml(t),i=Bd(r.k)+"/documents",a={writes:n.map((function(e){return Qd(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dl();t=tf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fl(jl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vh.updateTime(t):Vh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tf.min()))throw new Fl(jl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vh.updateTime(t)}return Vh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),pk=function(){function e(t,n,r,i){Qi(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Gm(this.asyncQueue,"transaction_retry")}return se(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Oi(ji().mark((function t(){var n,r;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dk(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!kf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!id(t)}return!1}}]),e}(),vk=function(){function e(t,n,r,i){var a=this;Qi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sl.UNAUTHENTICATED,this.clientId=Jl.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Al("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return se(e,[{key:"getConfiguration",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fl(jl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Oi(ji().mark((function n(){var r;return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function mk(e,t){return yk.apply(this,arguments)}function yk(){return yk=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Al("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,em(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function gk(e,t){return kk.apply(this,arguments)}function kk(){return kk=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bk(t);case 3:return r=e.sent,Al("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ml(t)).asyncQueue.verifyOperationInProgress(),Al("RemoteStore","RemoteStore received new credentials"),i=ly(r),r.Gr.add(3),e.next=6,ny(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,ey(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function bk(e){return wk.apply(this,arguments)}function wk(){return wk=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Al("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,mk(t,new ok);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function xk(e){return _k.apply(this,arguments)}function _k(){return _k=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Al("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,gk(t,new ck);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}function Ek(e){return bk(e).then((function(e){return e.persistence}))}function Ik(e){return bk(e).then((function(e){return e.localStore}))}function Sk(e){return xk(e).then((function(e){return e.remoteStore}))}function Tk(e){return xk(e).then((function(e){return e.syncEngine}))}function Ck(e){return Nk.apply(this,arguments)}function Nk(){return Nk=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=lg.bind(null,n.syncEngine),r.onUnlisten=pg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ak(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function i(){return ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fk({next:function(a){t.enqueueAndForget((function(){return Qy(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Fl(jl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Fl(jl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Zy(uh(n.path),a,{includeMetadataChanges:!0,wo:!0});return Ky(e,o)},i.next=3,Ck(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Rk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function i(){return ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fk({next:function(n){t.enqueueAndForget((function(){return Qy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fl(jl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Zy(n,a,{includeMetadataChanges:!0,wo:!0});return Ky(e,o)},i.next=3,Ck(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Pk=se((function e(t,n,r,i,a,o,s,u){Qi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Ok=function(){function e(t,n){Qi(this,e),this.projectId=t,this.database=n||"(default)"}return se(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Dk=new Map;function Lk(e,t,n){if(!n)throw new Fl(jl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Mk(e,t,n,r){if(!0===t&&!0===r)throw new Fl(jl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function jk(e){if(!xf.isDocumentKey(e))throw new Fl(jl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Fk(e){if(xf.isDocumentKey(e))throw new Fl(jl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dl()}function Vk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fl(jl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uk(e);throw new Fl(jl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function zk(e,t){if(t<=0)throw new Fl(jl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var qk=function(){function e(t){var n;if(Qi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fl(jl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fl(jl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return se(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Bk=function(){function e(t,n,r){Qi(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qk({}),this._settingsFrozen=!1,t instanceof Ok?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fl(jl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ok(e.options.projectId)}(t))}return se(e,[{key:"app",get:function(){if(!this._app)throw new Fl(jl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fl(jl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zl;switch(e.type){case"gapi":var t=e.client;return Ll(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Hl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fl(jl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Dk.get(e);t&&(Al("ComponentProvider","Removing Datastore"),Dk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Wk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Vk(e,Bk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Pl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Sl.MOCK_USER;else{o=na(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Fl(jl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Sl(u)}e._authCredentials=new ql(new Vl(o,s))}}var Hk=function(){function e(t,n,r){Qi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return se(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Gk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Kk=function(){function e(t,n,r){Qi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return se(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Gk=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,e,r,uh(i)))._path=i,a.type="collection",a}return se(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Hk(this.firestore,null,new xf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Kk);function Qk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_a(e),Lk("collection","path",t),e instanceof Bk){var a=sf.fromString.apply(sf,[t].concat(r));return Fk(a),new Gk(e,null,a)}if(!(e instanceof Hk||e instanceof Gk))throw new Fl(jl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sf.fromString.apply(sf,[t].concat(r)));return Fk(o),new Gk(e.firestore,null,o)}function Yk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_a(e),1===arguments.length&&(t=Jl.A()),Lk("doc","path",t),e instanceof Bk){var a=sf.fromString.apply(sf,[t].concat(r));return jk(a),new Hk(e,null,new xf(a))}if(!(e instanceof Hk||e instanceof Gk))throw new Fl(jl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sf.fromString.apply(sf,[t].concat(r)));return jk(o),new Hk(e.firestore,e instanceof Gk?e.converter:null,new xf(o))}function Jk(e,t){return e=_a(e),t=_a(t),(e instanceof Hk||e instanceof Gk)&&(t instanceof Hk||t instanceof Gk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $k(e,t){return e=_a(e),t=_a(t),e instanceof Kk&&t instanceof Kk&&e.firestore===t.firestore&&yh(e._query,t._query)&&e.converter===t.converter}var Xk=function(){function e(){var t=this;Qi(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Gm(this,"async_queue_retry"),this.Ra=function(){var e=Hm();e&&Al("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Hm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return se(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Hm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Ul;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Oi(ji().mark((function e(){var t=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Fp(e.t0)){e.next=12;break}throw e.t0;case 12:Al("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=Uy.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Dl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Bi(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Bi(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function Zk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Bi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var eb=function(){function e(){Qi(this,e),this._progressObserver={},this._taskCompletionResolver=new Ul,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return se(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tb=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Xk,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return se(n,[{key:"_terminate",value:function(){return this._firestoreClient||rb(this),this._firestoreClient.terminate()}}]),n}(Bk);function nb(e){return e._firestoreClient||rb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Pk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ib(e,t,n){var r=new Ul;return e.asyncQueue.enqueue(Oi(ji().mark((function i(){return ji().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,mk(e,n);case 3:return i.next=5,gk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===jl.FAILED_PRECONDITION||e.code===jl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ab(e){return function(e){return e.asyncQueue.enqueue(Oi(ji().mark((function t(){var n,r;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ek(e);case 2:return n=t.sent,t.next=5,Sk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ml(e);return t.Gr.delete(0),ey(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nb(e=Vk(e,tb)))}function ob(e){return function(e){return e.asyncQueue.enqueue(Oi(ji().mark((function t(){var n,r;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ek(e);case 2:return n=t.sent,t.next=5,Sk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ml(t)).Gr.add(0),e.next=4,ny(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nb(e=Vk(e,tb)))}function sb(e,t){var n=nb(e=Vk(e,tb)),r=new eb;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new hk(e,t)}(function(e,t){if(e instanceof Uint8Array)return lk(e,t);if(e instanceof ArrayBuffer)return lk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Km(t));e.asyncQueue.enqueueAndForget(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ak,t.next=3,Tk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ub(e,t){return function(e,t){return e.asyncQueue.enqueue(Oi(ji().mark((function n(){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ml(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Ik(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nb(e=Vk(e,tb)),t).then((function(t){return t?new Kk(e,null,t.query):null}))}function cb(e){if(e._initialized||e._terminated)throw new Fl(jl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lb=function(){function e(){Qi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fl(jl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cf(n)}return se(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var fb=function(){function e(t){Qi(this,e),this._byteString=t}return se(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ff.fromBase64String(t))}catch(t){throw new Fl(jl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ff.fromUint8Array(t))}}]),e}(),hb=se((function e(t){Qi(this,e),this._methodName=t})),db=function(){function e(t,n){if(Qi(this,e),!isFinite(t)||t<-90||t>90)throw new Fl(jl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fl(jl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return se(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $l(this._lat,e._lat)||$l(this._long,e._long)}}]),e}(),pb=/^__.*__$/,vb=function(){function e(t,n,r){Qi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}]),e}(),mb=function(){function e(t,n,r){Qi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function yb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dl()}}var gb=function(){function e(t,n,r,i,a,o){Qi(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return se(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Fb(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(yb(this.xa)&&pb.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),kb=function(){function e(t,n,r){Qi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Km(t)}return se(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gb({xa:e,methodName:t,Ka:n,path:cf.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function bb(e){var t=e._freezeSettings(),n=Km(e._databaseId);return new kb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);Db("Data must be an object, but it was:",o,r);var s,u,c=Pb(r,o);if(a.merge)s=new lf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Bi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Lb(t,d,n);if(!o.contains(p))throw new Fl(jl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ub(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new lf(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new vb(new jf(c),s,u)}var xb=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hb);function _b(e,t,n){return new gb({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Eb=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"_toFieldTransform",value:function(e){return new Fh(e.path,new Ah)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hb),Ib=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e)).Qa=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=_b(this,e,!0),n=this.Qa.map((function(e){return Rb(e,t)})),r=new Rh(n);return new Fh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hb),Sb=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e)).Qa=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=_b(this,e,!0),n=this.Qa.map((function(e){return Rb(e,t)})),r=new Oh(n);return new Fh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hb),Tb=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e)).Wa=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=new Lh(e.k,Ih(e.k,this.Wa));return new Fh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hb);function Cb(e,t,n,r){var i=e.ja(1,t,n);Db("Data must be an object, but it was:",i,r);var a=[],o=jf.empty();rf(r,(function(e,r){var s=jb(t,e,n);r=_a(r);var u=i.La(s);if(r instanceof xb)a.push(s);else{var c=Rb(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new lf(a);return new mb(o,s,i.fieldTransforms)}function Nb(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[Lb(t,r,n)],u=[i];if(a.length%2!=0)throw new Fl(jl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Lb(t,a[c])),u.push(a[c+1]);for(var l=[],f=jf.empty(),h=s.length-1;h>=0;--h)if(!Ub(l,s[h])){var d=s[h],p=u[h];p=_a(p);var v=o.La(d);if(p instanceof xb)l.push(d);else{var m=Rb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new lf(l);return new mb(f,y,o.fieldTransforms)}function Ab(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rb(n,e.ja(r?4:3,t))}function Rb(e,t){if(Ob(e=_a(e)))return Db("Unsupported field value:",t,e),Pb(e,t);if(e instanceof hb)return function(e,t){if(!yb(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Bi(e);try{for(a.s();!(n=a.n()).done;){var o=Rb(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=_a(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ih(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ef.fromDate(e);return{timestampValue:Od(t.k,n)}}if(e instanceof ef){var r=new ef(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Od(t.k,r)}}if(e instanceof db)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fb)return{bytesValue:Dd(t.k,e._byteString)};if(e instanceof Hk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(Uk(e)))}(e,t)}function Pb(e,t){var n={};return af(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rf(e,(function(e,r){var i=Rb(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ob(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ef||e instanceof db||e instanceof fb||e instanceof Hk||e instanceof hb)}function Db(e,t,n){if(!Ob(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Uk(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Lb(e,t,n){if((t=_a(t))instanceof lb)return t._internalPath;if("string"==typeof t)return jb(e,t);throw Fb("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Mb=new RegExp("[~\\*/\\[\\]]");function jb(e,t,n){if(t.search(Mb)>=0)throw Fb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ui(lb,on(t.split(".")))._internalPath}catch(r){throw Fb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Fb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Fl(jl.INVALID_ARGUMENT,s+e+u)}function Ub(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vb=function(){function e(t,n,r,i,a){Qi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return se(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Hk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(qb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zb=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){return qi(Vi(n.prototype),"data",this).call(this)}}]),n}(Vb);function qb(e,t){return"string"==typeof t?jb(e,t):t instanceof lb?t._internalPath:t._delegate._internalPath}var Bb=function(){function e(t,n){Qi(this,e),this.hasPendingWrites=t,this.fromCache=n}return se(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Wb=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a,o,s){var u;return Qi(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return se(n,[{key:"exists",value:function(){return qi(Vi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(qb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Vb),Hb=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qi(Vi(n.prototype),"data",this).call(this,e)}}]),n}(Wb),Kb=function(){function e(t,n,r,i){Qi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bb(i.hasPendingWrites,i.fromCache),this.query=r}return se(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Hb(n._firestore,n._userDataWriter,r.key,r,new Bb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fl(jl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Hb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Hb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Gb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dl()}}function Qb(e,t){return e instanceof Wb&&t instanceof Wb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Kb&&t instanceof Kb&&e._firestore===t._firestore&&$k(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Yb(e){if(lh(e)&&0===e.explicitOrderBy.length)throw new Fl(jl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jb=se((function e(){Qi(this,e)}));function $b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Xb=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return se(n,[{key:"_apply",value:function(e){var t=bb(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fl(jl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){cw(o,a);var u,c=[],l=Bi(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(uw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=uw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||cw(o,a),s=Ab(n,"where",o,"in"===a||"not-in"===a);var h=Hf.create(i,a,s);return function(e,t){if(t.V()){var n=hh(e);if(null!==n&&!n.isEqual(t.field))throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=fh(e);null!==r&&lw(e,t.field,r)}var i=function(e,t){var n,r=Bi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Fl(jl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fl(jl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Kk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Jb);var Zb=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return se(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nh(t,n);return function(e,t){if(null===fh(e)){var n=hh(e);null!==n&&lw(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Kk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new oh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Jb);var ew=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return se(n,[{key:"_apply",value:function(e){return new Kk(e.firestore,e.converter,mh(e._query,this.Ya,this.Xa))}}]),n}(Jb);var tw=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return se(n,[{key:"_apply",value:function(e){var t=sw(e,this.type,this.Za,this.tc);return new Kk(e.firestore,e.converter,function(e,t){return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Jb);function nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tw("startAt",t,!0)}function rw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tw("startAfter",t,!1)}var iw=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return se(n,[{key:"_apply",value:function(e){var t=sw(e,this.type,this.Za,this.tc);return new Kk(e.firestore,e.converter,function(e,t){return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Jb);function aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("endBefore",t,!0)}function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("endAt",t,!1)}function sw(e,t,n,r){if(n[0]=_a(n[0]),n[0]instanceof Vb)return function(e,t,n,r,i){if(!r)throw new Fl(jl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Bi(ph(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Af(t,r.key));else{var c=r.data.field(u.field);if(mf(c))throw new Fl(jl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new eh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fl(jl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dh(e)&&-1!==c.indexOf("/"))throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(sf.fromString(c));if(!xf.isDocumentKey(l))throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new xf(l);s.push(Af(t,f))}else{var h=Ab(n,r,c);s.push(h)}}return new eh(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function uw(e,t,n){if("string"==typeof(n=_a(n))){if(""===n)throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dh(t)&&-1!==n.indexOf("/"))throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(sf.fromString(n));if(!xf.isDocumentKey(r))throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Af(e,new xf(r))}if(n instanceof Hk)return Af(e,n._key);throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Uk(n),"."))}function cw(e,t){if(!Array.isArray(e)||0===e.length)throw new Fl(jl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Fl(jl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function lw(e,t,n){if(!n.isEqual(t))throw new Fl(jl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var fw=function(){function e(){Qi(this,e)}return se(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dl()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return rf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new db(pf(e.latitude),pf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=yf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=df(e);return new ef(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=sf.fromString(e);Ll(cp(n));var r=new Ok(n.get(1),n.get(3)),i=new xf(n.popFirst(5));return r.isEqual(t)||Rl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function hw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var dw=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new fb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hk(this.firestore,null,t)}}]),n}(fw),pw=function(){function e(t,n){Qi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bb(t)}return se(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=vw(e,this._firestore),i=hw(r.converter,t,n),a=wb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Vh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=vw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=_a(t))||t instanceof lb?Nb(this._dataReader,"WriteBatch.update",i._key,t,n,o):Cb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Vh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=vw(e,this._firestore);return this._mutations=this._mutations.concat(new td(t._key,Vh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fl(jl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function vw(e,t){if((e=_a(e)).firestore!==t)throw new Fl(jl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function mw(e){e=Vk(e,Hk);var t=Vk(e.firestore,tb);return Ak(nb(t),e._key).then((function(n){return Iw(t,e,n)}))}var yw=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new fb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hk(this.firestore,null,t)}}]),n}(fw);function gw(e){e=Vk(e,Hk);var t=Vk(e.firestore,tb),n=nb(t),r=new yw(t);return function(e,t){var n=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function r(){return ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ml(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fl(jl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Vy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ik(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Wb(t,r,e._key,n,new Bb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kw(e){e=Vk(e,Kk);var t=Vk(e.firestore,tb),n=nb(t),r=new yw(t);return function(e,t){var n=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function r(){return ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lm(t,n,!0);case 3:i=e.sent,a=new og(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Vy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ik(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Kb(t,r,e,n)}))}function bw(e,t,n){e=Vk(e,Hk);var r=Vk(e.firestore,tb),i=hw(e.converter,t,n);return Ew(r,[wb(bb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vh.none())])}function ww(e,t,n){e=Vk(e,Hk);for(var r=Vk(e.firestore,tb),i=bb(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Ew(r,[("string"==typeof(t=_a(t))||t instanceof lb?Nb(i,"updateDoc",e._key,t,n,o):Cb(i,"updateDoc",e._key,t)).toMutation(e._key,Vh.exists(!0))])}function xw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=_a(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Zk(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Zk(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Hk)l=Vk(e.firestore,tb),f=uh(e._key.path),c={next:function(t){n[u]&&n[u](Iw(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Vk(e,Kk);l=Vk(p.firestore,tb),f=p._query;var v=new yw(l);c={next:function(e){n[u]&&n[u](new Kb(l,v,p,e))},error:n[u+1],complete:n[u+2]},Yb(e._query)}return function(e,t,n,r){var i=new fk(r),a=new Zy(t,i,n);return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ky,t.next=3,Ck(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Qy,t.next=3,Ck(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nb(l),f,h,c)}function _w(e,t){return function(e,t){var n=new fk(t);return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ml(e).io.add(t),t.next()},t.next=3,Ck(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ml(e).io.delete(t)},t.next=3,Ck(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nb(e=Vk(e,tb)),Zk(t)?t:{next:t})}function Ew(e,t){return function(e,t){var n=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function r(){return ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=mg,r.next=3,Tk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nb(e),t)}function Iw(e,t,n){var r=n.docs.get(t._key),i=new yw(e);return new Wb(e,i,t._key,r,new Bb(n.hasPendingWrites,n.fromCache),t.converter)}var Sw,Tw=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r))._firestore=e,i}return se(n,[{key:"get",value:function(e){var t=this,r=vw(e,this._firestore),i=new yw(this._firestore);return qi(Vi(n.prototype),"get",this).call(this,e).then((function(e){return new Wb(t._firestore,i,r._key,e._document,new Bb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Qi(this,e),this._firestore=t,this._transaction=n,this._dataReader=bb(t)}return se(e,[{key:"get",value:function(e){var t=this,n=vw(e,this._firestore),r=new dw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Dl();var i=e[0];if(i.isFoundDocument())return new Vb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Vb(t._firestore,r,n._key,null,n.converter);throw Dl()}))}},{key:"set",value:function(e,t,n){var r=vw(e,this._firestore),i=hw(r.converter,t,n),a=wb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=vw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=_a(t))||t instanceof lb?Nb(this._dataReader,"Transaction.update",i._key,t,n,o):Cb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=vw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Cw(e,t){return function(e,t){var n=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function r(){var i;return ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return xk(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new pk(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(nb(e=Vk(e,tb)),(function(n){return t(new Tw(e,n))}))}function Nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ib("arrayUnion",t)}function Aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Tl=e}(no),Qa(new Ea("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new tb(i,new Bl(e.getProvider("auth-internal")),new Gl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),uo(Il,"3.4.1",e),uo(Il,"3.4.1","esm2017")}();var Rw=function(){function e(t,n){var r=this;Qi(this,e),this._delegate=t,this.firebase=n,Ka(t,new Ea("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return se(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),oo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ka(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ga(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Pw=(Tr(Sw={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Tr(Sw,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Sw),Ow=new fa("app-compat","Firebase",Pw);var Dw=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ro(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:uo,setLogLevel:lo,onLog:co,apps:null,SDK_VERSION:no,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Qa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ow.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Zi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pa(n,e=e||qa))throw Ow.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Rw);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Zi(n,e)},createSubscribe:ba,ErrorFactory:fa,deepExtend:Zi}),n}(),Lw=new ja("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Lw.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Mw=self.firebase.SDK_VERSION;Mw&&Mw.indexOf("LITE")>=0&&Lw.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jw=Dw;!function(e){uo("@firebase/app-compat","0.1.12",e)}();jw.registerVersion("firebase","9.6.1","app-compat");function Fw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Uw;Object.create;var Vw="facebook.com",zw="github.com",qw="google.com",Bw="password",Ww="twitter.com",Hw="EMAIL_SIGNIN",Kw="PASSWORD_RESET",Gw="RECOVER_EMAIL",Qw="REVERT_SECOND_FACTOR_ADDITION",Yw="VERIFY_AND_CHANGE_EMAIL",Jw="VERIFY_EMAIL";function $w(){return Tr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xw=function(){var e;return Tr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Tr(e,"argument-error",""),Tr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Tr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Tr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Tr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Tr(e,"cordova-not-ready","Cordova framework is not ready."),Tr(e,"cors-unsupported","This browser is not supported."),Tr(e,"credential-already-in-use","This credential is already associated with a different user account."),Tr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Tr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Tr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Tr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Tr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Tr(e,"email-already-in-use","The email address is already in use by another account."),Tr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Tr(e,"expired-action-code","The action code has expired."),Tr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Tr(e,"internal-error","An internal AuthError has occurred."),Tr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Tr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Tr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Tr(e,"invalid-auth-event","An internal AuthError has occurred."),Tr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Tr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Tr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Tr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Tr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Tr(e,"invalid-email","The email address is badly formatted."),Tr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Tr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Tr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Tr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Tr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Tr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Tr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Tr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Tr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Tr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Tr(e,"wrong-password","The password is invalid or the user does not have a password."),Tr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Tr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Tr(e,"invalid-provider-id","The specified provider ID is invalid."),Tr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Tr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Tr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Tr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Tr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Tr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Tr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Tr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Tr(e,"missing-continue-uri","A continue URL must be provided in the request."),Tr(e,"missing-iframe-start","An internal AuthError has occurred."),Tr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Tr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Tr(e,"missing-multi-factor-info","No second factor identifier is provided."),Tr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Tr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Tr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Tr(e,"app-deleted","This instance of FirebaseApp has been deleted."),Tr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Tr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Tr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Tr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Tr(e,"no-auth-event","An internal AuthError has occurred."),Tr(e,"no-such-provider","User was not linked to an account with the given provider."),Tr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Tr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Tr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Tr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Tr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Tr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Tr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Tr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Tr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Tr(e,"rejected-credential","The request contains malformed or mismatching credentials."),Tr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Tr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Tr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Tr(e,"timeout","The operation has timed out."),Tr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Tr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Tr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Tr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Tr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Tr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Tr(e,"unverified-email","The operation requires a verified email."),Tr(e,"user-cancelled","The user did not grant your application the permissions it requested."),Tr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Tr(e,"user-disabled","The user account has been disabled by an administrator."),Tr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Tr(e,"user-signed-out",""),Tr(e,"weak-password","The password must be 6 characters long or more."),Tr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Tr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Zw=$w,ex=new fa("auth","Firebase",$w()),tx=new ja("@firebase/auth");function nx(e){if(tx.logLevel<=Ca.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tx.error.apply(tx,["Auth (".concat(no,"): ").concat(e)].concat(n))}}function rx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw sx.apply(void 0,[e].concat(n))}function ix(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sx.apply(void 0,[e].concat(n))}function ax(e,t,n){var r=Object.assign(Object.assign({},Zw()),Tr({},t,n));return new fa("auth","Firebase",r).create(t,{appName:e.name})}function ox(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&rx(e,"argument-error"),ax(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function sx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=on(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(on(o)))}return ex.create.apply(ex,[e].concat(n))}function ux(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw sx.apply(void 0,[t].concat(r))}}function cx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw nx(t),new Error(t)}function lx(e,t){e||cx(t)}var fx=new Map;function hx(e){lx(e instanceof Function,"Expected a class definition");var t=fx.get(e);return t?(lx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fx.set(e,t),t)}function dx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function px(){return"http:"===vx()||"https:"===vx()}function vx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var mx=function(){function e(t,n){Qi(this,e),this.shortDelay=t,this.longDelay=n,lx(n>t,"Short delay should be less than long delay!"),this.isMobile=ia()||sa()}return se(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(px()||oa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function yx(e,t){lx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var gx=function(){function e(){Qi(this,e)}return se(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void cx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void cx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void cx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),kx=(Tr(Uw={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Tr(Uw,"MISSING_CUSTOM_TOKEN","internal-error"),Tr(Uw,"INVALID_IDENTIFIER","invalid-email"),Tr(Uw,"MISSING_CONTINUE_URI","internal-error"),Tr(Uw,"INVALID_PASSWORD","wrong-password"),Tr(Uw,"MISSING_PASSWORD","internal-error"),Tr(Uw,"EMAIL_EXISTS","email-already-in-use"),Tr(Uw,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Tr(Uw,"INVALID_IDP_RESPONSE","invalid-credential"),Tr(Uw,"INVALID_PENDING_TOKEN","invalid-credential"),Tr(Uw,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Tr(Uw,"MISSING_REQ_TYPE","internal-error"),Tr(Uw,"EMAIL_NOT_FOUND","user-not-found"),Tr(Uw,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Tr(Uw,"EXPIRED_OOB_CODE","expired-action-code"),Tr(Uw,"INVALID_OOB_CODE","invalid-action-code"),Tr(Uw,"MISSING_OOB_CODE","internal-error"),Tr(Uw,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Tr(Uw,"INVALID_ID_TOKEN","invalid-user-token"),Tr(Uw,"TOKEN_EXPIRED","user-token-expired"),Tr(Uw,"USER_NOT_FOUND","user-token-expired"),Tr(Uw,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Tr(Uw,"INVALID_CODE","invalid-verification-code"),Tr(Uw,"INVALID_SESSION_INFO","invalid-verification-id"),Tr(Uw,"INVALID_TEMPORARY_PROOF","invalid-credential"),Tr(Uw,"MISSING_SESSION_INFO","missing-verification-id"),Tr(Uw,"SESSION_EXPIRED","code-expired"),Tr(Uw,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Tr(Uw,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Tr(Uw,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Tr(Uw,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Tr(Uw,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Tr(Uw,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Tr(Uw,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Tr(Uw,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Tr(Uw,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Tr(Uw,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Tr(Uw,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Uw),bx=new mx(3e4,6e4);function wx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function xx(e,t,n,r){return _x.apply(this,arguments)}function _x(){return _x=Oi(ji().mark((function e(t,n,r,i){var a,o=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ex(t,a,Oi(ji().mark((function e(){var a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ya(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",gx.fetch()(Cx(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Ex(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=Oi(ji().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},kx),n),e.prev=2,a=new Nx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ax(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ax(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Ax(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw ax(t,p,d);case 30:rx(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof la)){e.next=37;break}throw e.t0;case 37:rx(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Ix.apply(this,arguments)}function Sx(e,t,n,r){return Tx.apply(this,arguments)}function Tx(){return Tx=Oi(ji().mark((function e(t,n,r,i){var a,o,s=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,xx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&rx(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Cx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?yx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Nx=function(){function e(t){var n=this;Qi(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ix(n.auth,"timeout"))}),bx.get())}))}return se(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ax(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ix(e,t,r);return i.customData._tokenResponse=n,i}function Rx(e,t){return Px.apply(this,arguments)}function Px(){return Px=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Ox(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function jx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Fx(){return Fx=Oi(ji().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=_a(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ux((a=Vx(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:jx(Ux(a.auth_time)),issuedAtTime:jx(Ux(a.iat)),expirationTime:jx(Ux(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Ux(e){return 1e3*Number(e)}function Vx(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return nx("JWT malformed, contained fewer than 3 sections"),null;try{var a=Xi(r);return a?JSON.parse(a):(nx("Failed to decode base64 JWT payload"),null)}catch(o){return nx("Caught error parsing JWT payload as JSON",o),null}}function zx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Oi(ji().mark((function e(t,n){var r=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof la&&Bx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),qx.apply(this,arguments)}function Bx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Wx=function(){function e(t){Qi(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return se(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hx=function(){function e(t,n){Qi(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return se(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=jx(this.lastLoginAt),this.creationTime=jx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Kx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Oi(ji().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,zx(t,Lx(r,{idToken:i}));case 6:ux(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Jx(o.providerUserInfo):[],u=Yx(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hx(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(){return(Qx=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_a(t),e.next=3,Kx(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(on(n),on(t))}function Jx(e){return e.map((function(e){var t=e.providerId,n=Fw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $x(e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ex(t,{},Oi(ji().mark((function e(){var r,i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Cx(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",gx.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}var Zx=function(){function e(){Qi(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return se(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ux(e.idToken,"internal-error"),ux("undefined"!==typeof e.idToken,"internal-error"),ux("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Vx(e);return ux(t,"internal-error"),ux("undefined"!==typeof t.exp,"internal-error"),ux("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Oi(ji().mark((function e(t){var n,r=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ux(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$x(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return cx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ux("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ux("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ux("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function e_(e,t){ux("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var t_=function(){function e(t){Qi(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Fw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Hx(a.createdAt||void 0,a.lastLoginAt||void 0)}return se(e,[{key:"getIdToken",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zx(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ux(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fx.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Qx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ux(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ux(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Oi(ji().mark((function e(t){var n,r,i=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Kx(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,zx(this,Rx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ux(k&&_,t,"internal-error");var E=Zx.fromJSON(this.name,_);ux("string"===typeof k,t,"internal-error"),e_(f,t.name),e_(h,t.name),ux("boolean"===typeof b,t,"internal-error"),ux("boolean"===typeof w,t,"internal-error"),e_(d,t.name),e_(p,t.name),e_(v,t.name),e_(m,t.name),e_(y,t.name),e_(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Oi(ji().mark((function t(n,r){var i,a,o,s=arguments;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Zx).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Kx(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),n_=function(){function e(){Qi(this,e),this.type="NONE",this.storage={}}return se(e,[{key:"_isAvailable",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();n_.type="NONE";var r_=n_;function i_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var a_=function(){function e(t,n,r){Qi(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=i_(this.userKey,a.apiKey,o),this.fullPersistenceKey=i_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return se(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?t_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Oi(ji().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(hx(r_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||hx(r_),s=i_(i,n.config.apiKey,n.name),u=null,c=Bi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=t_._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function o_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(l_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(s_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(h_(t))return"Blackberry";if(d_(t))return"Webos";if(u_(t))return"Safari";if((t.includes("chrome/")||c_(t))&&!t.includes("edge/"))return"Chrome";if(f_(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function s_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/firefox\//i.test(e)}function u_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function c_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/crios\//i.test(e)}function l_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/iemobile/i.test(e)}function f_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/android/i.test(e)}function h_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/blackberry/i.test(e)}function d_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/webos/i.test(e)}function p_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/iphone|ipad|ipod/i.test(e)}function v_(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return p_(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function m_(){return ua()&&10===document.documentMode}function y_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return p_(e)||f_(e)||d_(e)||h_(e)||/windows phone/i.test(e)||l_(e)}function g_(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=o_(ra());break;case"Worker":t="".concat(o_(ra()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(no,"/").concat(r)}var k_=function(){function e(t,n){Qi(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ex,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return se(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=hx(t)),this._initializationPromise=this.queue(Oi(ji().mark((function r(){var i,a;return ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,a_.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Oi(ji().mark((function e(t){var n,r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ux(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kx(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?_a(t):null)&&ux(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Oi(ji().mark((function e(t){var n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ux(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Oi(ji().mark((function n(){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(hx(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new fa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ux(n=t&&hx(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,a_.create(this,[hx(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Oi(ji().mark((function e(t){var n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ux(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ux(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g_(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Tr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function b_(e){return _a(e)}var w_=function(){function e(t){var n=this;Qi(this,e),this.auth=t,this.observer=null,this.addObserver=ba((function(e){return n.observer=e}))}return se(e,[{key:"next",get:function(){return ux(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function x_(e,t,n){var r=b_(e);ux(r._canInitEmulator,r,"emulator-config-failed"),ux(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=__(t),o=function(e){var t=__(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:E_(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:E_(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function __(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function E_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var I_=function(){function e(t,n){Qi(this,e),this.providerId=t,this.signInMethod=n}return se(e,[{key:"toJSON",value:function(){return cx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return cx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return cx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return cx("not implemented")}}]),e}();function S_(e,t){return T_.apply(this,arguments)}function T_(){return T_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:resetPassword",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t){return N_.apply(this,arguments)}function N_(){return N_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function A_(e,t){return R_.apply(this,arguments)}function R_(){return R_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:update",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function P_(e,t){return O_.apply(this,arguments)}function O_(){return O_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithPassword",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:sendOobCode",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t){return j_.apply(this,arguments)}function j_(){return j_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D_(t,n));case 1:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function F_(e,t){return U_.apply(this,arguments)}function U_(){return U_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D_(t,n));case 1:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t){return z_.apply(this,arguments)}function z_(){return z_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D_(t,n));case 1:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(e,t){return B_.apply(this,arguments)}function B_(){return B_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D_(t,n));case 1:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function W_(e,t){return H_.apply(this,arguments)}function H_(){return H_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithEmailLink",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function K_(e,t){return G_.apply(this,arguments)}function G_(){return G_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithEmailLink",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}var Q_=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Qi(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return se(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",P_(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",W_(t,{email:this._email,oobCode:this._password}));case 5:rx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",C_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",K_(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:rx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(I_);function Y_(e,t){return J_.apply(this,arguments)}function J_(){return J_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithIdp",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}var $_=function(e){Wi(n,e);var t=Ki(n);function n(){var e;return Qi(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return se(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Y_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Y_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Y_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ya(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rx("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Fw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(I_);function X_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:sendVerificationCode",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eE(){return eE=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithPhoneNumber",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(){return tE=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sx(t,"POST","/v1/accounts:signInWithPhoneNumber",wx(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ax(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}var nE=Tr({},"USER_NOT_FOUND","user-not-found");function rE(){return rE=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithPhoneNumber",wx(t,r),nE));case 2:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}var iE=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"phone","phone")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return eE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return tE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return rE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(I_);var aE=function(){function e(t){var n,r,i,a,o,s;Qi(this,e);var u=ga(ka(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ux(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return se(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ga(ka(e)).link,n=t?ga(ka(t)).deep_link_id:null,r=ga(ka(e)).deep_link_id;return(r?ga(ka(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ng){return null}}}]),e}();var oE=function(){function e(){Qi(this,e),this.providerId=e.PROVIDER_ID}return se(e,null,[{key:"credential",value:function(e,t){return Q_._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=aE.parseLink(t);return ux(n,"argument-error"),Q_._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oE.PROVIDER_ID="password",oE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var sE=function(){function e(t){Qi(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return se(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),uE=function(e){Wi(n,e);var t=Ki(n);function n(){var e;return Qi(this,n),(e=t.apply(this,arguments)).scopes=[],e}return se(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return on(this.scopes)}}]),n}(sE),cE=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ux(e.idToken||e.accessToken,"argument-error"),$_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ux("providerId"in t&&"signInMethod"in t,"argument-error"),$_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(uE),lE=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.call(this,"facebook.com")}return se(n,null,[{key:"credential",value:function(e){return $_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ng){return null}}}]),n}(uE);lE.FACEBOOK_SIGN_IN_METHOD="facebook.com",lE.PROVIDER_ID="facebook.com";var fE=function(e){Wi(n,e);var t=Ki(n);function n(){var e;return Qi(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return se(n,null,[{key:"credential",value:function(e,t){return $_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ng){return null}}}]),n}(uE);fE.GOOGLE_SIGN_IN_METHOD="google.com",fE.PROVIDER_ID="google.com";var hE=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.call(this,"github.com")}return se(n,null,[{key:"credential",value:function(e){return $_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ng){return null}}}]),n}(uE);hE.GITHUB_SIGN_IN_METHOD="github.com",hE.PROVIDER_ID="github.com";var dE=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return se(n,[{key:"_getIdTokenResponse",value:function(e){return Y_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Y_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Y_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(I_),pE=function(e){Wi(n,e);var t=Ki(n);function n(e){return Qi(this,n),ux(e.startsWith("saml."),"argument-error"),t.call(this,e)}return se(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=dE.fromJSON(e);return ux(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return dE._create(r,n)}catch(i){return null}}}]),n}(sE),vE=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.call(this,"twitter.com")}return se(n,null,[{key:"credential",value:function(e,t){return $_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ng){return null}}}]),n}(uE);function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signUp",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}vE.TWITTER_SIGN_IN_METHOD="twitter.com",vE.PROVIDER_ID="twitter.com";var gE=function(){function e(t){Qi(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return se(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Oi(ji().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,t_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=kE(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Oi(ji().mark((function t(n,r,i){var a;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=kE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function kE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bE(){return bE=Oi(ji().mark((function e(t){var n,r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gE({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,mE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gE._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}var wE=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a){var o,s;return Qi(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(le(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return se(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(la);function xE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wE._fromErrorAndOperation(e,n,t,r);throw n}))}function _E(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function EE(e,t){return IE.apply(this,arguments)}function IE(){return IE=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_a(t),e.next=3,CE(!0,r,n);case 3:return e.t0=Ox,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=_E(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function SE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Oi(ji().mark((function e(t,n){var r,i,a=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=zx,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e,t,n){return NE.apply(this,arguments)}function NE(){return(NE=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kx(n);case 2:i=_E(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ux(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AE(e,t){return RE.apply(this,arguments)}function RE(){return RE=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,zx(t,xE(i,a,n,t),r);case 6:return ux((o=e.sent).idToken,i,"internal-error"),ux(s=Vx(o.idToken),i,"internal-error"),u=s.sub,ux(t.uid===u,i,"user-mismatch"),e.abrupt("return",gE._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&rx(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),RE.apply(this,arguments)}function PE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Oi(ji().mark((function e(t,n){var r,i,a,o,s=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,xE(t,i,n);case 4:return a=e.sent,e.next=7,gE._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function DE(e,t){return LE.apply(this,arguments)}function LE(){return LE=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PE(b_(t),n));case 1:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return jE.apply(this,arguments)}function jE(){return(jE=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_a(t),e.next=3,CE(!1,r,n.providerId);case 3:return e.abrupt("return",SE(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return(UE=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AE(_a(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VE(e,t){return zE.apply(this,arguments)}function zE(){return zE=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sx(t,"POST","/v1/accounts:signInWithCustomToken",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(){return qE=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b_(t),e.next=3,VE(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gE._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}var BE=function(){function e(t,n){Qi(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return se(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?WE._fromServerResponse(e,t):rx(e,"internal-error")}}]),e}(),WE=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return se(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(BE);function HE(e,t,n){var r;ux((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ux("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ux(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ux(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function KE(){return KE=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_a(t),a={requestType:"PASSWORD_RESET",email:n},r&&HE(i,a,r),e.next=5,F_(i,a);case 5:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function GE(){return GE=Oi(ji().mark((function e(t,n,r){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S_(_a(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(){return QE=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A_(_a(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_a(t),e.next=3,S_(r,{oobCode:n});case 3:i=e.sent,ux(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ux(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ux(i.mfaInfo,r,"internal-error");case 13:ux(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=BE._fromServerResponse(b_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function $E(){return $E=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE(_a(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function XE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b_(t),e.next=3,mE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,gE._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eI(){return eI=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_a(t),a={requestType:"EMAIL_SIGNIN",email:n},ux(r.handleCodeInApp,i,"argument-error"),r&&HE(i,a,r),e.next=6,V_(i,a);case 6:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(){return tI=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_a(t),ux((a=oE.credentialWithLink(n,r||dx()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",DE(i,a));case 4:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:createAuthUri",wx(t,n)));case 1:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(){return iI=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=px()?dx():"http://localhost",i={identifier:n,continueUri:r},e.next=4,nI(_a(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(){return(aI=Oi(ji().mark((function e(t,n){var r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_a(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&HE(r.auth,a,n),e.next=8,M_(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oI(){return(oI=Oi(ji().mark((function e(t,n,r){var i,a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_a(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&HE(i.auth,o,r),e.next=8,q_(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sI(e,t){return uI.apply(this,arguments)}function uI(){return uI=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function cI(){return(cI=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u,c;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=_a(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,zx(a,sI(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lI(e,t,n){return fI.apply(this,arguments)}function fI(){return fI=Oi(ji().mark((function e(t,n,r){var i,a,o,s;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,zx(t,C_(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}var hI=se((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qi(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),dI=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a){var o;return Qi(this,n),(o=t.call(this,e,r,i)).username=a,o}return se(n)}(hI),pI=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"facebook.com",r)}return se(n)}(hI),vI=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return se(n)}(dI),mI=function(e){Wi(n,e);var t=Ki(n);function n(e,r){return Qi(this,n),t.call(this,e,"google.com",r)}return se(n)}(hI),yI=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i){return Qi(this,n),t.call(this,e,"twitter.com",r,i)}return se(n)}(dI);function gI(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Vx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new hI(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new pI(a,i);case"github.com":return new vI(a,i);case"google.com":return new mI(a,i);case"twitter.com":return new yI(a,i,e.screenName||null);case"custom":case"anonymous":return new hI(a,null);default:return new hI(a,r,i)}}(n)}var kI=function(){function e(t,n){Qi(this,e),this.type=t,this.credential=n}return se(e,[{key:"toJSON",value:function(){return{multiFactorSession:Tr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),bI=function(){function e(t,n,r){Qi(this,e),this.session=t,this.hints=n,this.signInResolver=r}return se(e,[{key:"resolveSignIn",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=b_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return BE._fromServerResponse(r,e)}));ux(i.mfaPendingCredential,r,"internal-error");var o=kI._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Oi(ji().mark((function e(t){var a,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gE._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return ux(n.user,r,"internal-error"),e.abrupt("return",gE._forOperation(n.user,n.operationType,s));case 17:rx(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function wI(e,t){return xx(e,"POST","/v2/accounts/mfaEnrollment:start",wx(e,t))}function xI(e,t){return xx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",wx(e,t))}var _I=function(){function e(t){var n=this;Qi(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return BE._fromServerResponse(t.auth,e)})))}))}return se(e,[{key:"getSession",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=kI,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,zx(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Oi(ji().mark((function e(t){var n,r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,zx(this.user,xI(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),EI=new WeakMap;var II="__sak",SI=function(){function e(t,n){Qi(this,e),this.storageRetriever=t,this.type=n}return se(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(II,"1"),this.storage.removeItem(II),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ng){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var TI=function(e){Wi(n,e);var t=Ki(n);function n(){var e;return Qi(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ra();return u_(e)||p_(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=y_(),e._shouldAllowMigration=!0,e}return se(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);m_()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Oi(ji().mark((function e(t,r){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(Vi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Oi(ji().mark((function e(t){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(Vi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(Vi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(SI);TI.type="LOCAL";var CI=TI,NI=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return se(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(SI);NI.type="SESSION";var AI=NI;function RI(e){return Promise.all(e.map(function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var PI=function(){function e(t){Qi(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return se(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Oi(ji().mark((function e(t){var n,r,i,a,o,s,u,c;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,RI(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function OI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}PI.receivers=[];var DI=function(){function e(t){Qi(this,e),this.target=t,this.handlers=new Set}return se(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Oi(ji().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=OI("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function LI(){return window}function MI(){return"undefined"!==typeof LI().WorkerGlobalScope&&"function"===typeof LI().importScripts}function jI(){return FI.apply(this,arguments)}function FI(){return(FI=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function UI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var VI="firebaseLocalStorageDb",zI="firebaseLocalStorage",qI="fbase_key",BI=function(){function e(t){Qi(this,e),this.request=t}return se(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function WI(e,t){return e.transaction([zI],t?"readwrite":"readonly").objectStore(zI)}function HI(){var e=indexedDB.deleteDatabase(VI);return new BI(e).toPromise()}function KI(){var e=indexedDB.open(VI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(zI,{keyPath:qI})}catch(r){n(r)}})),e.addEventListener("success",Oi(ji().mark((function n(){var r;return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(zI)){n.next=12;break}return r.close(),n.next=5,HI();case 5:return n.t0=t,n.next=8,KI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function GI(e,t,n){return QI.apply(this,arguments)}function QI(){return QI=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=WI(t,!0).put((Tr(i={},qI,n),Tr(i,"value",r),i)),e.abrupt("return",new BI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e,t){return JI.apply(this,arguments)}function JI(){return JI=Oi(ji().mark((function e(t,n){var r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=WI(t,!1).get(n),e.next=3,new BI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function $I(e,t){var n=WI(e,!0).delete(t);return new BI(n).toPromise()}var XI=function(){function e(){Qi(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return se(e,[{key:"_openDb",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,KI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",MI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Oi(ji().mark((function e(){var t=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=PI._getInstance(MI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Oi(ji().mark((function e(n,r){var i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Oi(ji().mark((function e(){var t,n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new DI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&UI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,KI();case 5:return t=e.sent,e.next=8,GI(t,II,"1");case 8:return e.next=10,$I(t,II);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Oi(ji().mark((function e(t,n){var r=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return GI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return YI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Oi(ji().mark((function e(t){var n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $I(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Oi(ji().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=WI(e,!1).getAll();return new BI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Bi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Oi(ji().mark((function t(){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();XI.type="LOCAL";var ZI=XI;function eS(e,t){return xx(e,"POST","/v2/accounts/mfaSignIn:start",wx(e,t))}function tS(e){return nS.apply(this,arguments)}function nS(){return nS=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ix("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function iS(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var aS=1e12,oS=function(){function e(t){Qi(this,e),this.auth=t,this.counter=aS,this._widgets=new Map}return se(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new sS(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||aS;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||aS;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||aS,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sS=function(){function e(t,n,r){var i=this;Qi(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ux(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return se(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var uS=iS("rcb"),cS=new mx(3e4,6e4),lS="https://www.google.com/recaptcha/api.js?",fS=function(){function e(){Qi(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!LI().grecaptcha}return se(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ux(hS(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(LI().grecaptcha):new Promise((function(r,i){var a=LI().setTimeout((function(){i(ix(e,"network-request-failed"))}),cS.get());LI()[uS]=function(){LI().clearTimeout(a),delete LI()[uS];var o=LI().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ix(e,"internal-error"))},rS("".concat(lS,"?").concat(ya({onload:uS,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ix(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!LI().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function hS(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var dS=function(){function e(){Qi(this,e)}return se(e,[{key:"load",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new oS(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),pS="recaptcha",vS={theme:"light",type:"image"},mS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},vS),r=arguments.length>2?arguments[2]:void 0;Qi(this,e),this.parameters=n,this.type=pS,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=b_(r),this.isInvisible="invisible"===this.parameters.size,ux("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ux(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dS:new fS,this.validateStartingState()}return se(e,[{key:"verify",value:function(){var e=Oi(ji().mark((function e(){var t,n,r,i=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ux(!this.parameters.sitekey,this.auth,"argument-error"),ux(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ux("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=LI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ux(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Oi(ji().mark((function e(){var t,n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ux(px()&&!MI(),this.auth,"internal-error"),e.next=3,yS();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,tS(this.auth);case 8:ux(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ux(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function yS(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var gS=function(){function e(t,n){Qi(this,e),this.verificationId=t,this.onConfirmation=n}return se(e,[{key:"confirm",value:function(e){var t=iE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function kS(){return kS=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b_(t),e.next=3,_S(i,n,_a(r));case 3:return a=e.sent,e.abrupt("return",new gS(a,(function(e){return DE(i,e)})));case 5:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t,n){return wS.apply(this,arguments)}function wS(){return(wS=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_a(t),e.next=3,CE(!1,i,"phone");case 3:return e.next=5,_S(i.auth,n,_a(r));case 5:return a=e.sent,e.abrupt("return",new gS(a,(function(e){return ME(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xS(){return(xS=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_a(t),e.next=3,_S(i.auth,n,_a(r));case 3:return a=e.sent,e.abrupt("return",new gS(a,(function(e){return FE(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _S(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ux("string"===typeof a,t,"argument-error"),ux(r.type===pS,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ux("enroll"===s.type,t,"internal-error"),e.next=13,wI(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ux("signin"===s.type,t,"internal-error"),ux(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,eS(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,X_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ES.apply(this,arguments)}function IS(){return(IS=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SE(_a(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var SS=function(){function e(t){Qi(this,e),this.providerId=e.PROVIDER_ID,this.auth=b_(t)}return se(e,[{key:"verifyPhoneNumber",value:function(e,t){return _S(this.auth,e,_a(t))}}],[{key:"credential",value:function(e,t){return iE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?iE._fromTokenResponse(n,r):null}}]),e}();function TS(e,t){return t?hx(t):(ux(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}SS.PROVIDER_ID="phone",SS.PHONE_SIGN_IN_METHOD="phone";var CS=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"custom","custom")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return Y_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Y_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Y_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(I_);function NS(e){return PE(e.auth,new CS(e),e.bypassAuthState)}function AS(e){var t=e.auth,n=e.user;return ux(n,t,"internal-error"),AE(n,new CS(e),e.bypassAuthState)}function RS(e){return PS.apply(this,arguments)}function PS(){return PS=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ux(r=t.user,n,"internal-error"),e.abrupt("return",SE(r,new CS(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}var OS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Qi(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return se(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Oi(ji().mark((function t(n,r){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Oi(ji().mark((function e(t){var n,r,i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NS;case"linkViaPopup":case"linkViaRedirect":return RS;case"reauthViaPopup":case"reauthViaRedirect":return AS;default:rx(this.auth,"internal-error")}}},{key:"resolve",value:function(e){lx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){lx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),DS=new mx(2e3,1e4);function LS(e,t,n){return MS.apply(this,arguments)}function MS(){return MS=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b_(t),ox(t,n,sE),a=TS(i,r),o=new VS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function jS(){return(jS=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ox((i=_a(t)).auth,n,sE),a=TS(i.auth,r),o=new VS(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FS(e,t,n){return US.apply(this,arguments)}function US(){return(US=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ox((i=_a(t)).auth,n,sE),a=TS(i.auth,r),o=new VS(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VS=function(e){Wi(n,e);var t=Ki(n);function n(e,r,i,a,o){var s;return Qi(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=le(s),s}return se(n,[{key:"executeNotNull",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ux(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Oi(ji().mark((function e(){var t,n=this;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx(1===this.filter.length,"Popup operations only handle one event"),t=OI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ix(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ix(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ix(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,DS.get())}()}}]),n}(OS);VS.currentPopupAction=null;var zS=new Map,qS=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Qi(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return se(n,[{key:"execute",value:function(){var e=Oi(ji().mark((function e(){var t,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,BS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,qi(Vi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:zS.set(this.auth._key(),t);case 21:return this.bypassAuthState||zS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Oi(ji().mark((function e(t){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",qi(Vi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",qi(Vi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(OS);function BS(e,t){return WS.apply(this,arguments)}function WS(){return WS=Oi(ji().mark((function e(t,n){var r,i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QS(n),i=GS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function HS(e,t){return KS.apply(this,arguments)}function KS(){return KS=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GS(t)._set(QS(n),"true"));case 1:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function GS(e){return hx(e._redirectPersistence)}function QS(e){return i_("pendingRedirect",e.config.apiKey,e.name)}function YS(e,t,n){return function(e,t,n){return JS.apply(this,arguments)}(e,t,n)}function JS(){return JS=Oi(ji().mark((function e(t,n,r){var i,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b_(t),ox(t,n,sE),a=TS(i,r),e.next=5,HS(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function $S(e,t,n){return function(e,t,n){return XS.apply(this,arguments)}(e,t,n)}function XS(){return(XS=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ox((i=_a(t)).auth,n,sE),a=TS(i.auth,r),e.next=5,HS(a,i.auth);case 5:return e.next=7,aT(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZS(e,t,n){return function(e,t,n){return eT.apply(this,arguments)}(e,t,n)}function eT(){return(eT=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ox((i=_a(t)).auth,n,sE),a=TS(i.auth,r),e.next=5,CE(!1,i,n.providerId);case 5:return e.next=7,HS(a,i.auth);case 7:return e.next=9,aT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tT(e,t){return nT.apply(this,arguments)}function nT(){return nT=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b_(t)._initializationPromise;case 2:return e.abrupt("return",rT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=Oi(ji().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=b_(t),a=TS(i,n),o=new qS(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e){return oT.apply(this,arguments)}function oT(){return(oT=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=OI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sT=function(){function e(t){Qi(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return se(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ix(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function uT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function lT(e){return fT.apply(this,arguments)}function fT(){return fT=Oi(ji().mark((function e(t){var n,r=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",xx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}var hT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dT=/^https?/;function pT(){return pT=Oi(ji().mark((function e(t){var n,r,i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lT(t);case 4:n=e.sent,r=n.authorizedDomains,i=Bi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:rx(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),pT.apply(this,arguments)}function vT(e){var t=dx(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dT.test(r))return!1;if(hT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var mT=new mx(3e4,6e4);function yT(){var e=LI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=on(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gT=null;function kT(e){return gT=gT||function(e){return new Promise((function(t,n){var r,i,a;function o(){yT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yT(),n(ix(e,"network-request-failed"))},timeout:mT.get()})}if(null===(i=null===(r=LI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=LI().gapi)||void 0===a?void 0:a.load)){var s=iS("iframefcb");return LI()[s]=function(){gapi.load?o():n(ix(e,"network-request-failed"))},rS("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gT=null,e}))}(e),gT}var bT=new mx(5e3,15e3),wT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _T(e){var t=e.config;ux(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?yx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:no},i=xT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ya(r).slice(1))}function ET(e){return IT.apply(this,arguments)}function IT(){return IT=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kT(t);case 2:return n=e.sent,ux(r=LI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_T(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wT,dontclear:!0},(function(e){return new Promise(function(){var n=Oi(ji().mark((function n(r,i){var a,o,s;return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){LI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ix(t,"network-request-failed"),o=LI().setTimeout((function(){i(a)}),bT.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}var ST={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TT="_blank",CT="http://localhost",NT=function(){function e(t){Qi(this,e),this.window=t,this.associatedEvent=null}return se(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function AT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},ST),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ra().toLowerCase();n&&(s=c_(l)?TT:n),s_(l)&&(t=t||CT,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(v_(l)&&"_self"!==s)return RT(t||"",s),new NT(null);var h=window.open(t||"",s,f);ux(h,e,"popup-blocked");try{h.focus()}catch(d){}return new NT(h)}function RT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var PT="__/auth/handler",OT="emulator/auth/handler";function DT(e,t,n,r,i,a){ux(e.config.authDomain,e,"auth-domain-config-required"),ux(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:no,eventId:i};if(t instanceof sE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof uE){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(PT);return yx(t,OT)}(e),"?").concat(ya(p).slice(1))}var LT="webStorageSupport",MT=function(){function e(){Qi(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AI,this._completeRedirectFn=rT}return se(e,[{key:"_openPopup",value:function(){var e=Oi(ji().mark((function e(t,n,r,i){var a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=DT(t,n,r,dx(),i),e.abrupt("return",AT(t,o,OI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Oi(ji().mark((function e(t,n,r,i){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=DT(t,n,r,dx(),i),LI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(lx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ET(t);case 2:return n=e.sent,r=new sT(t),n.register("authEvent",(function(e){return ux(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(LT,{type:LT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),rx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return y_()||u_()||p_()}}]),e}(),jT=MT,FT=function(){function e(t){Qi(this,e),this.factorId=t}return se(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return cx("unexpected MultiFactorSessionType")}}}]),e}(),UT=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"phone")).credential=e,r}return se(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return xx(e,"POST","/v2/accounts/mfaEnrollment:finalize",wx(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return xx(e,"POST","/v2/accounts/mfaSignIn:finalize",wx(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(FT),VT=function(){function e(){Qi(this,e)}return se(e,null,[{key:"assertion",value:function(e){return UT._fromCredential(e)}}]),e}();VT.FACTOR_ID="phone";var zT,qT="@firebase/auth",BT="0.19.4",WT=function(){function e(t){Qi(this,e),this.auth=t,this.internalListeners=new Map}return se(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ux(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function HT(){return window}zT="Browser",Qa(new Ea("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){ux(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),ux(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:zT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g_(zT)},r=new k_(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Qa(new Ea("auth-internal",(function(e){return function(e){return new WT(e)}(b_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),uo(qT,BT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zT)),uo(qT,BT,"esm2017");function KT(e,t,n){return GT.apply(this,arguments)}function GT(){return GT=Oi(ji().mark((function e(t,n,r){var i,a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=HT(),o=a.BuildInfo,lx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ZT(n.sessionId);case 4:return s=e.sent,u={},p_()?u.ibi=o.packageName:f_()?u.apn=o.packageName:rx(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",DT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function QT(){return QT=Oi(ji().mark((function e(t){var n,r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=HT(),r=n.BuildInfo,i={},p_()?i.iosBundleId=r.packageName:f_()?i.androidPackageName=r.packageName:rx(t,"operation-not-supported-in-this-environment"),e.next=5,lT(t,i);case 5:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function YT(e){var t=HT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function JT(e,t,n){return $T.apply(this,arguments)}function $T(){return $T=Oi(ji().mark((function e(t,n,r){var i,a,o;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=HT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ix(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),f_()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),$T.apply(this,arguments)}function XT(e){var t,n,r,i,a,o,s,u,c,l,f=HT();ux("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ux("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ux("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ux("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ux("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ZT(e){return eC.apply(this,arguments)}function eC(){return(eC=Oi(ji().mark((function e(t){var n,r,i;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tC(e){if(lx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var nC=function(e){Wi(n,e);var t=Ki(n);function n(){var e;return Qi(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return se(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),qi(Vi(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(sT);function rC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:uC(),postBody:null,tenantId:e.tenantId,error:ix(e,"no-auth-event")}}function iC(e,t){return cC()._set(lC(e),t)}function aC(e){return oC.apply(this,arguments)}function oC(){return oC=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cC()._get(lC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,cC()._remove(lC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function sC(e,t){var n,r,i=function(e){var t=fC(e),n=t.link?decodeURIComponent(t.link):void 0,r=fC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return fC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=fC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ix(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function uC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function cC(){return hx(CI)}function lC(e){return i_("authEvent",e.config.apiKey,e.name)}function fC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||an(t)||o(t)||s();r[0];return ga(r.slice(1).join("?"))}var hC=function(){function e(){Qi(this,e),this._redirectPersistence=AI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rT}return se(e,[{key:"_initialize",value:function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new nC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){rx(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Oi(ji().mark((function e(t,n,r,i){var a,o,s,u;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XT(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),zS.clear(),e.next=10,this._originValidation(t);case 10:return o=rC(t,r,i),e.next=13,iC(t,o);case 13:return e.next=15,KT(t,o,n);case 15:return s=e.sent,e.next=18,YT(s);case 18:return u=e.sent,e.abrupt("return",JT(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return QT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=HT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Oi(ji().mark((function n(){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,aC(e);case 2:t.onEvent(pC());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Oi(ji().mark((function n(r){var i,a;return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,aC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=sC(i,r.url)),t.onEvent(a||pC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");HT().handleOpenURL=function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),dC=hC;function pC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ix("no-auth-event")}}function vC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function mC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return!("file:"!==vC()&&"ionic:"!==vC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yC(){return ua()&&11===(null===document||void 0===document?void 0:document.documentMode)}function gC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/Edge\/\d+/.test(e)}function kC(){try{var e=self.localStorage,t=OI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return yC()||gC(e)}()||ca()}catch(n){return bC()&&ca()}return!1}function bC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function wC(){return("http:"===vC()||"https:"===vC()||oa()||mC())&&!(sa()||aa())&&kC()&&!bC()}function xC(){return mC()&&"undefined"!==typeof document}function _C(){return EC.apply(this,arguments)}function EC(){return(EC=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var IC={LOCAL:"local",NONE:"none",SESSION:"session"},SC=ux,TC="persistence";function CC(e,t){SC(Object.values(IC).includes(t),e,"invalid-persistence-type"),sa()?SC(t!==IC.SESSION,e,"unsupported-persistence-type"):aa()?SC(t===IC.NONE,e,"unsupported-persistence-type"):bC()?SC(t===IC.NONE||t===IC.LOCAL&&ca(),e,"unsupported-persistence-type"):SC(t===IC.NONE||kC(),e,"unsupported-persistence-type")}function NC(e){return AC.apply(this,arguments)}function AC(){return AC=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=RC(),r=i_(TC,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function RC(){return"undefined"!==typeof window?window:null}var PC=ux,OC=function(){function e(){Qi(this,e),this.browserResolver=hx(jT),this.cordovaResolver=hx(dC),this.underlyingResolver=null,this._redirectPersistence=AI,this._completeRedirectFn=rT}return se(e,[{key:"_initialize",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Oi(ji().mark((function e(t,n,r,i){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Oi(ji().mark((function e(t,n,r,i){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return xC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return PC(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_C();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function DC(e){return e.unwrap()}function LC(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new VC(e,function(e,t){var n,r=_a(e),i=t;return ux(t.customData.operationType,r,"argument-error"),ux(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bI._fromError(r,i)}(e,t));else if(r){var i=MC(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function MC(e){var t=(e instanceof la?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof la)&&"temporaryProof"in t&&"phoneNumber"in t)return SS.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Bw)return null;switch(r){case qw:n=fE;break;case Vw:n=lE;break;case zw:n=hE;break;case Ww:n=vE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?dE._create(r,s):$_._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new cE(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof la?n.credentialFromError(e):n.credentialFromResult(e)}function jC(e,t){return t.catch((function(t){throw t instanceof la&&LC(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,MC(t)),additionalUserInfo:gI(e),user:zC.getOrCreate(r)}}))}function FC(e,t){return UC.apply(this,arguments)}function UC(){return UC=Oi(ji().mark((function e(t,n){var r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return jC(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}var VC=function(){function e(t,n){Qi(this,e),this.resolver=n,this.auth=t.wrapped()}return se(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return jC(DC(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),zC=function(){function e(t){Qi(this,e),this._delegate=t,this.multiFactor=function(e){var t=_a(e);return EI.has(t)||EI.set(t,_I._fromUser(t)),EI.get(t)}(t)}return se(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jC(this.auth,ME(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FC(this.auth,bS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jC(this.auth,FS(this._delegate,t,OC)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NC(b_(this.auth));case 2:return e.abrupt("return",ZS(this._delegate,t,OC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jC(this.auth,FE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return FC(this.auth,function(e,t,n){return xS.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return jC(this.auth,function(e,t,n){return jS.apply(this,arguments)}(this._delegate,e,OC))}},{key:"reauthenticateWithRedirect",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NC(b_(this.auth));case 2:return e.abrupt("return",$S(this._delegate,t,OC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return aI.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EE(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return lI(_a(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return lI(_a(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return IS.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return cI.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return oI.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();zC.USER_MAP=new WeakMap;var qC=ux,BC=function(){function e(t,n){if(Qi(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;qC(r,"invalid-api-key",{appName:t.name});var i=[r_];if("undefined"!==typeof window){i=function(e,t){var n=RC();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=i_(TC,e,t);switch(n.sessionStorage.getItem(r)){case IC.NONE:return[r_];case IC.LOCAL:return[ZI,AI];case IC.SESSION:return[AI];default:return[]}}(r,t.name);for(var a=0,o=[ZI,CI,AI];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}qC(r,"invalid-api-key",{appName:t.name});var u="undefined"!==typeof window?OC:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:u}}),this._delegate._updateErrorMap(Xw),this.linkUnderlyingAuth()}return se(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?zC.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){x_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return QE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return YE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return GE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Oi(ji().mark((function e(t,n){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jC(this._delegate,XE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return iI.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=aE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qC(wC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tT(this._delegate,OC);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",jC(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){b_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=WC(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=WC(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return eI.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return KE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CC(this._delegate,t),e.t0=t,e.next=e.t0===IC.SESSION?4:e.t0===IC.LOCAL?6:e.t0===IC.NONE?11:13;break;case 4:return n=AI,e.abrupt("break",14);case 6:return e.next=8,hx(ZI)._isAvailable();case 8:return r=e.sent,n=r?ZI:CI,e.abrupt("break",14);case 11:return n=r_,e.abrupt("break",14);case 13:return e.abrupt("return",rx("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return jC(this._delegate,function(e){return bE.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return jC(this._delegate,DE(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return jC(this._delegate,function(e,t){return qE.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return jC(this._delegate,function(e,t,n){return DE(_a(e),oE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return jC(this._delegate,function(e,t,n){return tI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return FC(this._delegate,function(e,t,n){return kS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qC(wC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",jC(this._delegate,LS(this._delegate,t,OC)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Oi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qC(wC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,NC(this._delegate);case 3:return e.abrupt("return",YS(this._delegate,t,OC));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return $E.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function WC(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&zC.getOrCreate(e))},error:t,complete:n}}BC.Persistence=IC;var HC=function(){function e(){Qi(this,e),this.providerId="phone",this._delegate=new SS(DC(jw.auth()))}return se(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return SS.credential(e,t)}}]),e}();HC.PHONE_SIGN_IN_METHOD=SS.PHONE_SIGN_IN_METHOD,HC.PROVIDER_ID=SS.PROVIDER_ID;var KC,GC=ux,QC=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jw.app();Qi(this,e),GC(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mS(t,n,i.auth()),this.type=this._delegate.type}return se(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(KC=jw).INTERNAL.registerComponent(new Ea("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new BC(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hw,PASSWORD_RESET:Kw,RECOVER_EMAIL:Gw,REVERT_SECOND_FACTOR_ADDITION:Qw,VERIFY_AND_CHANGE_EMAIL:Yw,VERIFY_EMAIL:Jw}},EmailAuthProvider:oE,FacebookAuthProvider:lE,GithubAuthProvider:hE,GoogleAuthProvider:fE,OAuthProvider:cE,SAMLAuthProvider:pE,PhoneAuthProvider:HC,PhoneMultiFactorGenerator:VT,RecaptchaVerifier:QC,TwitterAuthProvider:vE,Auth:BC,AuthCredential:I_,Error:la}).setInstantiationMode("LAZY").setMultipleInstances(!1)),KC.registerVersion("@firebase/auth-compat","0.2.4");function YC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fl("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function JC(){if("undefined"===typeof Uint8Array)throw new Fl("unimplemented","Uint8Arrays are not available in this environment.")}function $C(){if("undefined"==typeof atob)throw new Fl("unimplemented","Blobs are unavailable in Firestore in this environment.")}var XC=function(){function e(t){Qi(this,e),this._delegate=t}return se(e,[{key:"toBase64",value:function(){return $C(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return JC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return $C(),new e(fb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return JC(),new e(fb.fromUint8Array(t))}}]),e}();function ZC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Bi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eN=function(){function e(){Qi(this,e)}return se(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){cb(e=Vk(e,tb));var n=nb(e),r=e._freezeSettings(),i=new ck;return ib(n,i,new sk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){cb(e=Vk(e,tb));var t=nb(e),n=e._freezeSettings(),r=new ck;return ib(t,r,new uk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fl(jl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ul;return e._queue.enqueueAndForgetEvenWhileRestricted(Oi(ji().mark((function n(){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lp.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Lp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Gv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),tN=function(){function e(t,n,r){var i=this;Qi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ok||(this._appCompat=t)}return se(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Wk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ab(this._delegate)}},{key:"disableNetwork",value:function(){return ob(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Mk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ul;return e.asyncQueue.enqueueAndForget(Oi(ji().mark((function n(){return ji().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Tg,n.next=3,Tk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nb(e=Vk(e,tb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return _w(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new vN(this,Qk(this._delegate,e))}catch(t){throw sN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new oN(this,Yk(this._delegate,e))}catch(t){throw sN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new hN(this,function(e,t){if(e=Vk(e,Bk),Lk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fl(jl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Kk(e,null,function(e){return new oh(sf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Cw(this._delegate,(function(n){return e(new rN(t,n))}))}},{key:"batch",value:function(){var e=this;return nb(this._delegate),new iN(new pw(this._delegate,(function(t){return Ew(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return sb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ub(this._delegate,e).then((function(e){return e?new hN(t,e):null}))}}]),e}(),nN=function(e){Wi(n,e);var t=Ki(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new XC(new fb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oN.forKey(t,this.firestore,null)}}]),n}(fw);var rN=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new nN(t)}return se(e,[{key:"get",value:function(e){var t=this,n=mN(e);return this._delegate.get(n).then((function(e){return new lN(t._firestore,new Wb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mN(e);return n?(YC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mN(e);return this._delegate.delete(t),this}}]),e}(),iN=function(){function e(t){Qi(this,e),this._delegate=t}return se(e,[{key:"set",value:function(e,t,n){var r=mN(e);return n?(YC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),aN=function(){function e(t,n,r){Qi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return se(e,[{key:"fromFirestore",value:function(e,t){var n=new Hb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new nN(t),n),i.set(n,a)),a}}]),e}();aN.INSTANCES=new WeakMap;var oN=function(){function e(t,n){Qi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nN(t)}return se(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new vN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new vN(this.firestore,Qk(this._delegate,e))}catch(t){throw sN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=_a(e))instanceof Hk&&Jk(this._delegate,e)}},{key:"set",value:function(e,t){t=YC("DocumentReference.set",t);try{return t?bw(this._delegate,e,t):bw(this._delegate,e)}catch(n){throw sN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ww(this._delegate,e):ww.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Ew(Vk(e.firestore,tb),[new td(e._key,Vh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uN(n),a=cN(n,(function(t){return new lN(e.firestore,new Wb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Vk(e,Hk);var t=Vk(e.firestore,tb);return Ak(nb(t),e._key,{source:"server"}).then((function(n){return Iw(t,e,n)}))}(this._delegate):mw(this._delegate),t.then((function(e){return new lN(n.firestore,new Wb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Hk(n._delegate,r,new xf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Hk(n._delegate,r,t))}}]),e}();function sN(e,t,n){return e.message=e.message.replace(t,n),e}function uN(e){var t,n=Bi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!ZC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function cN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ZC(e[0])?e[0]:ZC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lN=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n}return se(e,[{key:"ref",get:function(){return new oN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Qb(this._delegate,e._delegate)}}]),e}(),fN=function(e){Wi(n,e);var t=Ki(n);function n(){return Qi(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Dl()}(void 0!==t),t}}]),n}(lN),hN=function(){function e(t,n){Qi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nN(t)}return se(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,$b(this._delegate,function(e,t,n){var r=t,i=qb("where",e);return new Xb(i,r,n)}(t,n,r)))}catch(i){throw sN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,$b(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qb("orderBy",e);return new Zb(n,t)}(t,n)))}catch(r){throw sN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,$b(this._delegate,function(e){return zk("limit",e),new ew("limit",e,"F")}(t)))}catch(n){throw sN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,$b(this._delegate,function(e){return zk("limitToLast",e),new ew("limitToLast",e,"L")}(t)))}catch(n){throw sN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,$b(this._delegate,nw.apply(void 0,arguments)))}catch(t){throw sN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,$b(this._delegate,rw.apply(void 0,arguments)))}catch(t){throw sN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,$b(this._delegate,aw.apply(void 0,arguments)))}catch(t){throw sN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,$b(this._delegate,ow.apply(void 0,arguments)))}catch(t){throw sN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return $k(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Vk(e,Kk);var t=Vk(e.firestore,tb),n=nb(t),r=new yw(t);return Rk(n,e._query,{source:"server"}).then((function(n){return new Kb(t,r,e,n)}))}(this._delegate):function(e){e=Vk(e,Kk);var t=Vk(e.firestore,tb),n=nb(t),r=new yw(t);return Yb(e._query),Rk(n,e._query).then((function(n){return new Kb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new pN(n.firestore,new Kb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uN(n),a=cN(n,(function(t){return new pN(e.firestore,new Kb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),dN=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n}return se(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new fN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),pN=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n}return se(e,[{key:"query",get:function(){return new hN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new fN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new fN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Qb(this._delegate,e._delegate)}}]),e}(),vN=function(e){Wi(n,e);var t=Ki(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return se(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new oN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new oN(this.firestore,void 0===e?Yk(this._delegate):Yk(this._delegate,e))}catch(t){throw sN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Vk(e.firestore,tb),r=Yk(e),i=hw(e.converter,t);return Ew(n,[wb(bb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Jk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(aN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(hN);function mN(e){return Vk(e,Hk)}var yN=function(){function e(){Qi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ui(lb,n)}return se(e,[{key:"isEqual",value:function(e){return(e=_a(e))instanceof lb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cf.keyField().canonicalString())}}]),e}(),gN=function(){function e(t){Qi(this,e),this._delegate=t}return se(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Eb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new xb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Nw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Aw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Tb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kN={Firestore:tN,GeoPoint:db,Timestamp:ef,Blob:XC,Transaction:rN,WriteBatch:iN,DocumentReference:oN,DocumentSnapshot:lN,Query:hN,QueryDocumentSnapshot:fN,QuerySnapshot:pN,CollectionReference:vN,FieldPath:yN,FieldValue:gN,setLogLevel:function(e){!function(e){Cl.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ea("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kN)))}(e,(function(e,t){return new tN(e,t,new eN)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(jw);var bN=jw.initializeApp({apiKey:"AIzaSyBQ5KMidtA22WEvySJpRX1PX0cs_plaoOs",authDomain:"personal-watch-list-staging.firebaseapp.com",projectId:"personal-watch-list-staging",storageBucket:"personal-watch-list-staging.appspot.com",messagingSenderId:"728929605676",appId:"1:728929605676:web:a7473c265bf73c79a79989"}),wN=bN.auth(),xN=jw.firestore(),_N=(0,t.createContext)({currentUser:"",register:function(e,t){},login:function(e,t){},forgotPassword:function(e){},logOut:function(){},addDocWatch:function(e,t){},addDocWatched:function(e,t){},getWatchedIdFirebase:function(){return Promise()},setDocs:function(){},updateDocs:function(e,t){},updateWatched:function(e,t){}}),EN=function(e){var n=e.children,r=u((0,t.useState)(),2),i=r[0],a=r[1],o=i&&i.uid,s=u((0,t.useState)(!0),2),c=s[0],l=s[1],f=A(),h=function(){var e=Oi(ji().mark((function e(){var t,n,r,a;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=8;break}return t=Yk(xN,"users/".concat(o)),e.next=4,mw(t);case 4:return n=e.sent,r=n.data(),a=r.watched.map((function(e){return e.id})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Oi(ji().mark((function e(){var t,n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=12;break}return t=Yk(xN,"users/".concat(o)),e.next=4,mw(t);case 4:if(!(n=e.sent).exists()){e.next=10;break}return r=n.data(),e.abrupt("return",r);case 10:return e.next=12,bw(t,{watchlist:[],watched:[]});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){return wN.onAuthStateChanged((function(e){a(e),f("/recommend"),l(!1)}))}),[]);var p={currentUser:i,register:function(e,t){return wN.createUserWithEmailAndPassword(e,t)},login:function(e,t){return wN.signInWithEmailAndPassword(e,t)},forgotPassword:function(e){return wN.sendPasswordResetEmail(e)},logOut:function(){return wN.signOut()},getWatchedIdFirebase:h,updateDocs:function(e){ww(Yk(xN,"users/".concat(o)),{watchlist:on(e)})},updateWatched:function(e){ww(Yk(xN,"users/".concat(o)),{watched:on(e)})},setLoading:l,setDocs:d};return(0,Ci.jsx)(_N.Provider,{value:p,children:!c&&n})},IN=_N,SN=(0,t.createContext)({watchlist:localStorage.getItem("watchlist")||[],watched:localStorage.getItem("watched")||[],addToWatchlist:function(e){},removeToWatchlist:function(e){},addToWatched:function(e){},removeToWatched:function(e){},moveToWatchlist:function(e){},setWatchlist:function(e){}}),TN=function(e){var n=e.children,r=u((0,t.useState)([]),2),i=r[0],a=r[1],o=u((0,t.useState)([]),2),s=o[0],c=o[1],l=(0,t.useContext)(IN),f=l.setDocs,h=l.updateDocs,d=l.updateWatched,p=function(e){a((function(t){var n=[e].concat(on(t));return h(n),n}))},v=function(e){a((function(t){var n=t.filter((function(t){return t.id!==e}));return h(n),n}))},m=function(e){c((function(t){var n=t.filter((function(t){return t.id!==e}));return d(n),n}))};(0,t.useEffect)((function(){var e=function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f().then((function(e){e&&(a(e.watchlist),c(e.watched))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]);var y={watchlist:i,watched:s,addToWatchlist:p,setWatchlist:a,removeToWatchlist:v,addToWatched:function(e){v(e.id),c((function(t){var n=(new Date).toLocaleDateString("pt-BR",{year:"numeric",month:"numeric",day:"numeric"}),r=[Li(Li({},e),{},{watchedDate:n})].concat(on(t));return d(r),r}))},removeToWatched:m,moveToWatchlist:function(e){m(e.id),p(e)}};return(0,Ci.jsx)(SN.Provider,{value:y,children:n})},CN=SN,NN=function(e){var n=e.movie,r=e.setShowModal,i=(0,t.useContext)(CN),a=i.addToWatched,o=i.addToWatchlist,s=i.watchlist,u=i.watched,c=s.find((function(e){return e.id===n.id})),l=u.find((function(e){return e.id===n.id})),f=!!c||!!l,h=!!l;return(0,Ci.jsxs)("article",{className:"modal-info",children:[(0,Ci.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280".concat(n.backdrop_path),alt:n.title}),(0,Ci.jsxs)("section",{className:"modal-content",children:[(0,Ci.jsx)("h1",{children:n.title}),(0,Ci.jsx)("p",{children:n.overview}),(0,Ci.jsx)("button",{className:"btn btn-close",onClick:function(){return r(!1)},children:(0,Ci.jsx)(Ai,{})}),(0,Ci.jsxs)("div",{className:"actions",children:[(0,Ci.jsxs)("button",{className:"btn",disabled:f,onClick:function(){return o(n)},children:[(0,Ci.jsx)(Ri,{})," Minha lista"]}),(0,Ci.jsxs)("button",{className:"btn",disabled:h,onClick:function(){return a(n)},children:[(0,Ci.jsx)(Ti,{})," Assistidos"]})]})]})]})},AN=Ii(t.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),RN=function(e){var n=e.movie,r=e.type,i=(0,t.useContext)(CN),a=i.watchlist.find((function(e){return e.id===n.id})),o=i.watched.find((function(e){return e.id===n.id})),s=!!a||!!o,u=!!o;return(0,Ci.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===r&&(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)("button",{className:"ctrl-btn",onClick:function(){return i.addToWatched(n)},children:(0,Ci.jsx)(Ti,{fontSize:"medium"})}),(0,Ci.jsx)("button",{className:"ctrl-btn",onClick:function(){return i.removeToWatchlist(n.id)},children:(0,Ci.jsx)(Ai,{fontSize:"medium"})})]}),"watched"===r&&(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)("button",{className:"ctrl-btn",onClick:function(){return i.moveToWatchlist(n)},children:(0,Ci.jsx)(AN,{fontSize:"medium"})}),(0,Ci.jsx)("button",{className:"ctrl-btn",onClick:function(){return i.removeToWatched(n.id)},children:(0,Ci.jsx)(Ai,{fontSize:"medium"})})]}),"add"===r&&(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)("button",{className:"ctrl-btn",disabled:s,onClick:function(){return i.addToWatchlist(n)},children:(0,Ci.jsx)(Ri,{fontSize:"medium"})}),(0,Ci.jsx)("button",{className:"ctrl-btn",disabled:u,onClick:function(){return i.addToWatched(n)},children:(0,Ci.jsx)(Ti,{fontSize:"medium"})})]})]})},PN=function(e){var n=e.movie,r=e.type,i=u((0,t.useState)(!1),2),a=i[0],o=i[1];return document.body.style.overflowY=a?"hidden":"scroll",(0,Ci.jsxs)("article",{className:"movie-card",children:[(0,Ci.jsx)("div",{className:"overlay"}),(0,Ci.jsx)("img",{className:"watched"===r?"img-watched":"img-watchlist",src:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),alt:n.title}),(0,Ci.jsx)("div",{className:"controls",children:(0,Ci.jsx)("button",{className:"btn btn-modal",onClick:function(){return o(!0)},children:(0,Ci.jsx)(Si,{fontSize:"small"})})}),(0,Ci.jsx)(RN,{movie:n,type:r}),"watched"===r&&(0,Ci.jsxs)("span",{className:"watched",children:[(0,Ci.jsx)(Ti,{})," ",n&&n.watchedDate]}),a&&(0,Ci.jsx)(Ni,{setShowModal:o}),a&&(0,Ci.jsx)(NN,{setShowModal:o,movie:n})]})},ON=function(){var e=(0,t.useContext)(CN).watchlist;return(0,Ci.jsxs)("div",{className:"movie-page",children:[(0,Ci.jsxs)("div",{className:"header",children:[(0,Ci.jsx)("h1",{className:"heading",children:"Ainda tenho que assistir"}),(0,Ci.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Filme":"Filmes"]})]}),e.length>0?(0,Ci.jsx)("div",{className:"movie-grid",children:e.map((function(e){return(0,Ci.jsx)(PN,{movie:e,type:"watchlist"},e.id)}))}):(0,Ci.jsx)("h4",{className:"no-movies",children:"Adicione algum filme"})]})},DN=function(){var e=(0,t.useContext)(CN);return(0,Ci.jsxs)("div",{className:"movie-page",children:[(0,Ci.jsxs)("div",{className:"header",children:[(0,Ci.jsx)("h1",{className:"heading",children:"J\xe1 assisti estes filmes"}),(0,Ci.jsxs)("span",{className:"count-pill",children:[e.watched.length," ",1===e.watched.length?"Filme":"Filmes"]})]}),e.watched.length>0?(0,Ci.jsx)("div",{className:"movie-grid",children:e.watched.map((function(e){return(0,Ci.jsx)(PN,{movie:e,type:"watched"},e.id)}))}):(0,Ci.jsx)("h4",{className:"no-movies",children:"Assista alguns filmes antes :D"})]})},LN=Ii(t.createElement("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"})),MN=Ii(t.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),jN=function(e){var n=e.movie,r=u((0,t.useState)(!1),2),i=r[0],a=r[1];return document.body.style.overflowY=i?"hidden":"scroll",(0,Ci.jsxs)("div",{className:"result-card",children:[(0,Ci.jsxs)("div",{className:"poster-wrapper",children:[n.poster_path?(0,Ci.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(n.poster_path),alt:n.title}):(0,Ci.jsx)("div",{className:"filler-poster"}),(0,Ci.jsx)(RN,{movie:n,type:"add"})]}),(0,Ci.jsxs)("div",{className:"info",children:[(0,Ci.jsxs)("div",{className:"info-header",children:[(0,Ci.jsx)("h3",{className:"title",children:n.title}),(0,Ci.jsx)("h4",{className:"release-date",children:n.release_date?n.release_date.substring(0,4):"-"})]}),(0,Ci.jsx)("div",{className:"controls",children:(0,Ci.jsx)("button",{className:"btn btn-modal",onClick:function(){return a(!0)},children:(0,Ci.jsx)(Si,{fontSize:"small"})})})]}),i&&(0,Ci.jsx)(Ni,{setShowModal:a}),i&&(0,Ci.jsx)(NN,{setShowModal:a,movie:n})]})},FN=function(e){var t=e.query,n=e.handleChange;return(0,Ci.jsx)("input",{type:"text",className:"add-field",placeholder:"Busque por um filme! :D",onChange:n,value:t})},UN=function(e){var t=e.genres,n=e.selectChange;return(0,Ci.jsxs)("select",{onChange:n,className:"add-field",children:[(0,Ci.jsx)("option",{value:"all",children:"Todos"}),";",t.map((function(e){var t=e.id,n=e.name;return(0,Ci.jsx)("option",{value:t,children:n},t)}))]})},VN=function(){var e=u((0,t.useState)([]),2),n=e[0],r=e[1],i=u((0,t.useState)([]),2),a=i[0],o=i[1],s=u((0,t.useState)(""),2),c=s[0],l=s[1],f=u((0,t.useState)("all"),2),h=f[0],d=f[1],p=u((0,t.useState)(1),2),v=p[0],m=p[1],y=u((0,t.useState)(!0),2),g=y[0],k=y[1],b=u((0,t.useState)(!1),2),w=b[0],x=b[1],_=u((0,t.useState)(!0),2),E=_[0],I=_[1],S=function(){var e=Oi(ji().mark((function e(){var t,n,r,i=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("93b1a7f46da88b2175e0e4f85e54e022","&language=pt-BR&page=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return(r=e.sent).total_results===a.length&&k(!1),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Oi(ji().mark((function e(t){var n,r,i,o=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("93b1a7f46da88b2175e0e4f85e54e022","&language=pt-BR&page=").concat(n,"&include_adult=false&query=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:return(i=e.sent).total_results<=a.length?k(!1):k(!0),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Oi(ji().mark((function e(t){var n,r,i,a=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("93b1a7f46da88b2175e0e4f85e54e022","&language=pt-BR&with_genres=").concat(t,"&page=").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){var e=function(){var e=Oi(ji().mark((function e(){var t,n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("93b1a7f46da88b2175e0e4f85e54e022","&language=pt-BR"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.genres);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(t=e.sent)?o(t.results):(o([]),m(1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),e()}),[]);var N=function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("all"===t.target.value){e.next=8;break}return d(t.target.value),e.next=4,C(t.target.value);case 4:n=e.sent,o(n.results),e.next=12;break;case 8:return e.next=10,S();case 10:r=e.sent,o(r.results);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(t.target.value),0===t.target.value.length){e.next=9;break}return e.next=5,T(t.target.value);case 5:n=e.sent,o(n.results),e.next=13;break;case 9:return e.next=11,S();case 11:r=e.sent,o(r.results);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Oi(ji().mark((function e(){var t,n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m((function(e){return e+1})),!w){e.next=8;break}return e.next=4,C(h,v+1);case 4:(t=e.sent)?o((function(e){return[].concat(on(e),on(t.results))})):m(1),e.next=19;break;case 8:if(c){e.next=15;break}return e.next=11,S(v+1);case 11:(n=e.sent)?o((function(e){return[].concat(on(e),on(n.results))})):m(1),e.next=19;break;case 15:return e.next=17,T(c,v+1);case 17:(r=e.sent)?o((function(e){return[].concat(on(e),on(r.results))})):m(1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){x((function(e){return!e})),I((function(e){return!e}))};return(0,Ci.jsx)("div",{className:"add-page",children:(0,Ci.jsxs)("div",{className:"add-content",children:[(0,Ci.jsxs)("section",{className:"search-container",children:[(0,Ci.jsxs)("div",{className:"input-wrapper",children:[E&&(0,Ci.jsx)(FN,{query:c,handleChange:A}),w&&(0,Ci.jsx)(UN,{genres:n,selectChange:N})]}),(0,Ci.jsxs)("div",{className:"filters-wrapper",children:[(0,Ci.jsx)("button",{disabled:E,className:"btn",onClick:P,children:(0,Ci.jsx)(LN,{})}),(0,Ci.jsx)("button",{disabled:w,className:"btn",onClick:P,children:(0,Ci.jsx)(MN,{})})]})]}),a.length>0&&(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)("ul",{className:"results",children:a.map((function(e){return(0,Ci.jsx)("li",{children:(0,Ci.jsx)(jN,{movie:e})},e.id)}))}),g&&(0,Ci.jsx)("button",{className:"btn btn-load",onClick:R,children:"Ver Mais"})]})]})})},zN=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=u((0,t.useState)(""),2),i=r[0],a=r[1],o=u((0,t.useState)(!1),2),s=o[0],c=o[1],l=(0,t.useContext)(IN).login,f=A(),h=function(){var t=Oi(ji().mark((function t(r){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault();try{a(""),c(!0),l(e.current.value,n.current.value).then((function(){f("/add")}))}catch(i){a("N\xe3o conseguimos foi poss\xedvel logar")}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,Ci.jsxs)("main",{className:"main__card",children:[(0,Ci.jsxs)("section",{className:"card__profile",children:[(0,Ci.jsx)("div",{className:"icon-cinerama"}),(0,Ci.jsxs)("form",{className:"card__form",onSubmit:h,children:[(0,Ci.jsx)("h2",{children:"Login"}),i,(0,Ci.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,Ci.jsx)("input",{type:"email",id:"email",ref:e,required:!0,placeholder:"Insira seu e-mail"}),(0,Ci.jsx)("label",{htmlFor:"password",children:"Senha"}),(0,Ci.jsx)("input",{type:"password",id:"password",ref:n,autoComplete:"on",required:!0,placeholder:"Insira sua senha"}),(0,Ci.jsx)("button",{type:"submit",className:"btn",disabled:s,children:"Fazer login"})]})]}),(0,Ci.jsxs)("section",{className:"card__senha",children:[(0,Ci.jsx)("div",{children:(0,Ci.jsx)($,{to:"/forgot",children:"Recuperar minha senha"})}),(0,Ci.jsxs)("div",{className:"criar__conta",children:["Deseja criar uma conta ? ",(0,Ci.jsx)($,{to:"/register",children:"Registre-se"})]})]})]})},qN=function(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=u((0,t.useState)(""),2),a=i[0],o=i[1],s=u((0,t.useState)(!1),2),c=s[0],l=s[1],f=(0,t.useContext)(IN).register,h=A(),d=function(){var t=Oi(ji().mark((function t(i){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),r.current.value===n.current.value){t.next=3;break}return t.abrupt("return",o("A senhas n\xe3o s\xe3o iguais"));case 3:try{o(""),l(!0),f(e.current.value,n.current.value).then((function(){h("/add")}))}catch(a){o("N\xe3o conseguimos criar sua conta :(")}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,Ci.jsxs)("main",{className:"main__card",children:[(0,Ci.jsxs)("section",{className:"card__profile",children:[(0,Ci.jsx)("div",{className:"icon-cinerama"}),(0,Ci.jsx)("div",{className:"alternative",children:a}),(0,Ci.jsxs)("form",{className:"card__form",onSubmit:d,children:[(0,Ci.jsx)("h2",{children:"Registre-se"}),(0,Ci.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,Ci.jsx)("input",{type:"email",id:"email",ref:e,required:!0,placeholder:"Insira seu e-mail"}),(0,Ci.jsx)("label",{htmlFor:"password",children:"Senha"}),(0,Ci.jsx)("input",{type:"password",id:"password",ref:n,autoComplete:"on",required:!0,placeholder:"Insira sua senha"}),(0,Ci.jsx)("label",{htmlFor:"password-confirm",children:"Confirme sua senha"}),(0,Ci.jsx)("input",{type:"password",id:"password-confirm",ref:r,autoComplete:"on",required:!0,placeholder:"Repita sua senha"}),(0,Ci.jsx)("button",{type:"submit",className:"btn",disabled:c,children:"Concluir Cadastro"})]})]}),(0,Ci.jsx)("section",{className:"card__senha",children:(0,Ci.jsxs)("div",{className:"criar__conta",children:["J\xe1 possui uma conta ? ",(0,Ci.jsx)($,{to:"/",children:"Logar"})]})})]})},BN=function(){return(0,t.useContext)(IN).currentUser?(0,Ci.jsx)(_,{}):(0,Ci.jsx)(x,{to:"/"})},WN=function(){var e=(0,t.useRef)(),n=(0,t.useContext)(IN).forgotPassword,r=u((0,t.useState)(""),2),i=r[0],a=r[1],o=u((0,t.useState)(!1),2),s=o[0],c=o[1],l=A(),f=function(){var t=Oi(ji().mark((function t(r){return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault();try{a(""),c(!0),n(e.current.value),l("/")}catch(i){a("N\xe3o conseguimos encontrar seu email.")}c(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,Ci.jsxs)("main",{className:"main__card",children:[(0,Ci.jsx)("div",{className:"icon-cinerama"}),(0,Ci.jsxs)("form",{className:"card__form",onSubmit:f,children:[(0,Ci.jsx)("h2",{children:"Recupera\xe7\xe3o"}),i,(0,Ci.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,Ci.jsx)("input",{type:"email",id:"email",ref:e,required:!0,placeholder:"Insira seu e-mail"}),(0,Ci.jsx)("button",{type:"submit",className:"btn",disabled:s,children:"Recuperar senha"})]}),(0,Ci.jsxs)("section",{className:"card__senha",children:[(0,Ci.jsx)("div",{children:(0,Ci.jsx)($,{to:"/register",children:"Desejo criar outra conta"})}),(0,Ci.jsxs)("div",{className:"criar__conta",children:["Se lembrou da senha ? ",(0,Ci.jsx)($,{to:"/",children:"Login"})]})]})]})},HN=Ii(t.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),KN=Ii(t.createElement("path",{d:"M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z"})),GN=Ii(t.createElement("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"})),QN=Ii(t.createElement("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"})),YN=Ii(t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),JN=Ii(t.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),$N=function(){var e=(0,t.useContext)(IN).logOut,n=u((0,t.useState)(!0),2),r=n[0],i=n[1],a=window.innerWidth<1024,o=A(),s=function(){a&&i((function(e){return!e}))};return(0,Ci.jsxs)("header",{className:r?"active":null,children:[a&&(0,Ci.jsx)("button",{className:"btn menu",onClick:s,children:r?(0,Ci.jsx)(Ai,{}):(0,Ci.jsx)(HN,{})}),(0,Ci.jsx)("nav",{className:r?"nav-container active":"nav-container",children:(0,Ci.jsxs)("ul",{className:r?"nav-links active":"nav-links",children:[(0,Ci.jsxs)("div",{className:"brand",children:[(0,Ci.jsx)("div",{className:"logo__header"}),"Cinemania"]}),(0,Ci.jsx)("li",{onClick:s,children:(0,Ci.jsxs)($,{to:"/recommend",className:"btn",children:[(0,Ci.jsx)(KN,{}),"Recomendados"]})}),(0,Ci.jsx)("li",{onClick:s,children:(0,Ci.jsxs)($,{to:"/watch",className:"btn",children:[(0,Ci.jsx)(GN,{}),"Minha Lista"]})}),(0,Ci.jsx)("li",{onClick:s,children:(0,Ci.jsxs)($,{to:"/watched",className:"btn",children:[(0,Ci.jsx)(Ti,{}),"Assistidos"]})}),(0,Ci.jsx)("li",{onClick:s,children:(0,Ci.jsxs)($,{to:"/upcoming",className:"btn",children:[(0,Ci.jsx)(QN,{}),"Lan\xe7amentos"]})}),(0,Ci.jsx)("li",{onClick:s,children:(0,Ci.jsxs)($,{to:"/add",className:"btn",children:[(0,Ci.jsx)(YN,{}),"Procurar"]})}),(0,Ci.jsx)("li",{onClick:s,children:(0,Ci.jsxs)("button",{className:"btn",onClick:function(){try{e(),o("/")}catch(t){alert("Error")}},children:[(0,Ci.jsx)(JN,{}),"Log Out"]})})]})})]})},XN=function(){return(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)($N,{}),(0,Ci.jsx)(_,{})]})},ZN=function(){var e=u((0,t.useState)([]),2),n=e[0],r=e[1],i=u((0,t.useState)(!0),2),a=i[0],o=i[1],s=u((0,t.useState)(1),2),c=s[0],l=s[1],f=function(){var e=Oi(ji().mark((function e(){var t,r,i,a=arguments;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.next=3,fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("93b1a7f46da88b2175e0e4f85e54e022","&language=pt-BR&page=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:return(i=e.sent).total_results===n.length&&o(!1),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){var e=function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,r(t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=function(){var e=Oi(ji().mark((function e(){var t;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l((function(e){return e+1})),e.next=3,f(c+1);case 3:t=e.sent,r((function(e){return[].concat(on(e),on(t.results))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ci.jsxs)("div",{className:"movie-page",children:[(0,Ci.jsx)("div",{className:"header",children:(0,Ci.jsx)("h1",{className:"heading",children:"Lan\xe7amentos Recentes"})}),n.length>0&&(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)("div",{className:"movie-grid",children:n.map((function(e){return(0,Ci.jsx)(jN,{movie:e},e.id)}))}),a&&(0,Ci.jsx)("button",{className:"btn btn-load",onClick:h,children:"Ver Mais"})]})]})},eA=function(){var e=(0,t.useContext)(IN).getWatchedIdFirebase,n=u((0,t.useState)([]),2),r=n[0],i=n[1],a=u((0,t.useState)(!0),2),o=a[0],s=a[1],c=u((0,t.useState)(1),2),l=c[0],f=c[1],h=u((0,t.useState)(0),2),d=h[0],p=h[1],v=function(){var e=Oi(ji().mark((function e(t){var n,r;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/recommendations?api_key=").concat("93b1a7f46da88b2175e0e4f85e54e022","&language=pt-BR"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){var t=function(){var t=Oi(ji().mark((function t(){var n,r;return ji().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:0===(n=t.sent).length?i([]):(p(r=2*l),n.slice(d,r).map(function(){var e=Oi(ji().mark((function e(t){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,i((function(e){return[].concat(on(e),on(n.results))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.length<=r&&s(!1));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[l]);var m=function(){var e=Oi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ci.jsxs)("div",{className:"movie-page",children:[(0,Ci.jsx)("div",{className:"header",children:(0,Ci.jsx)("h1",{className:"heading",children:"Recomendados para voc\xea"})}),r.length>0?(0,Ci.jsxs)(Ci.Fragment,{children:[(0,Ci.jsx)("div",{className:"movie-grid",children:r.map((function(e){return(0,Ci.jsx)(jN,{movie:e},e.id)}))}),o&&(0,Ci.jsx)("button",{className:"btn btn-load",onClick:m,children:"Ver Mais"})]}):(0,Ci.jsx)("h4",{className:"no-movies",children:"Voc\xea deve assistir algum filme para te conhecermos melhor :D"})]})};var tA=function(){return(0,Ci.jsx)(J,{basename:"/",children:(0,Ci.jsx)(EN,{children:(0,Ci.jsx)(TN,{children:(0,Ci.jsxs)(S,{children:[(0,Ci.jsx)(E,{element:(0,Ci.jsx)(XN,{}),children:(0,Ci.jsxs)(E,{element:(0,Ci.jsx)(BN,{}),children:[(0,Ci.jsx)(E,{path:"/watched",element:(0,Ci.jsx)(DN,{})}),(0,Ci.jsx)(E,{path:"/add",element:(0,Ci.jsx)(VN,{})}),(0,Ci.jsx)(E,{path:"/watch",element:(0,Ci.jsx)(ON,{})}),(0,Ci.jsx)(E,{path:"/upcoming",element:(0,Ci.jsx)(ZN,{})}),(0,Ci.jsx)(E,{path:"/recommend",element:(0,Ci.jsx)(eA,{})})]})}),(0,Ci.jsx)(E,{path:"/",element:(0,Ci.jsx)(zN,{})}),(0,Ci.jsx)(E,{path:"/register",element:(0,Ci.jsx)(qN,{})}),(0,Ci.jsx)(E,{path:"/forgot",element:(0,Ci.jsx)(WN,{})})]})})})})},nA=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function rA(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.render((0,Ci.jsx)(t.StrictMode,{children:(0,Ci.jsx)(tA,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cinemania",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cinemania","/service-worker.js");nA?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):rA(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):rA(t,e)}))}}()}()}();
//# sourceMappingURL=main.16e1db3c.js.map